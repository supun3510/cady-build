(self.webpackChunkhybrix=self.webpackChunkhybrix||[]).push([[179],{8821:(Mt,Ae,P)=>{"use strict";P.d(Ae,{Z:()=>hM,C:()=>dM});var v={};P.r(v),P.d(v,{FirebaseError:()=>pe,SDK_VERSION:()=>Rs,_DEFAULT_ENTRY_NAME:()=>Hs,_addComponent:()=>Qo,_addOrOverwriteComponent:()=>Po,_apps:()=>ls,_clearComponents:()=>ga,_components:()=>yo,_getProvider:()=>Pa,_registerComponent:()=>Ai,_removeServiceInstance:()=>vl,deleteApp:()=>Xr,getApp:()=>Jo,getApps:()=>ka,initializeApp:()=>uu,onLog:()=>Vi,registerVersion:()=>Di,setLogLevel:()=>La});const de=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=63&o|128):55296==(64512&o)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&n.charCodeAt(++r)),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=63&o|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=63&o|128)}return e},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,w=f?n[o+1]:0,N=o+2<n.length,V=N?n[o+2]:0;let st=(15&w)<<2|V>>6,St=63&V;N||(St=64,f||(st=64)),r.push(t[u>>2],t[(3&u)<<4|w>>4],t[st],t[St])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(de(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[t++];e[r++]=String.fromCharCode((31&o)<<6|63&u)}else if(o>239&&o<365){const N=((7&o)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(N>>10)),e[r++]=String.fromCharCode(56320+(1023&N))}else{const u=n[t++],f=n[t++];e[r++]=String.fromCharCode((15&o)<<12|(63&u)<<6|63&f)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=t[n.charAt(o++)],w=o<n.length?t[n.charAt(o)]:0;++o;const V=o<n.length?t[n.charAt(o)]:64;++o;const me=o<n.length?t[n.charAt(o)]:64;if(++o,null==u||null==w||null==V||null==me)throw new W;r.push(u<<2|w>>4),64!==V&&(r.push(w<<4&240|V>>2),64!==me&&r.push(V<<6&192|me))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class W extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X=function(n){return function(n){const e=de(n);return se.encodeByteArray(e,!0)}(n).replace(/\./g,"")},ne=function(n){try{return se.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Me(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!J(t)||(n[t]=Me(n[t],e[t]));return n}function J(n){return"__proto__"!==n}const Ke=()=>{try{return function ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ne(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},Le=()=>{var n;return null===(n=Ke())||void 0===n?void 0:n.config};class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _t(){var n;const e=null===(n=Ke())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ft(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function An(){const n=ge();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _e(){try{return"object"==typeof indexedDB}catch{return!1}}class pe extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?function gt(n,e){return n.replace(Yt,(t,r)=>{const o=e[r];return null!=o?String(o):`<${r}?>`})}(u,r):"Error";return new pe(o,`${this.serviceName}: ${f} (${o}).`,r)}}const Yt=/\{\$([^}]+)}/g;function jt(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function T(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const u=n[o],f=e[o];if(F(u)&&F(f)){if(!T(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function F(n){return null!==n&&"object"==typeof n}function Ce(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rt(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function nt(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Tt(n,e){const t=new yt(n,e);return t.subscribe.bind(t)}class yt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");o=function kt(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===o.next&&(o.next=Dn),void 0===o.error&&(o.error=Dn),void 0===o.complete&&(o.complete=Dn);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}function Zt(n){return n&&n._delegate?n._delegate:n}var oe=P(5861);class Hn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const kn="[DEFAULT]";class Ir{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ue;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),o=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(o)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function ht(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:kn})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=kn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,oe.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=kn){return this.instances.has(e)}getOptions(e=kn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[u,f]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(u)&&f.resolve(o);return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),u=null!==(r=this.onInitCallbacks.get(o))&&void 0!==r?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===kn?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=kn){return this.component?this.component.multipleInstances?e:kn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Qe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ir(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Se=[];var Re=(()=>{return(n=Re||(Re={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Re;var n})();const Ot={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},cn=Re.INFO,xn={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Ar=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),o=xn[e];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[o](`[${r}]  ${n.name}:`,...t)};class Dr{constructor(e){this.name=e,this._logLevel=cn,this._logHandler=Ar,this._userLogHandler=null,Se.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Ot[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const $e=(n,e)=>e.some(t=>n instanceof t);let Q,qe;const ze=new WeakMap,vt=new WeakMap,Gt=new WeakMap,G=new WeakMap,tt=new WeakMap;let sr={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return vt.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Gt.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fn(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function bn(n){return"function"==typeof n?function Jt(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function z(){return qe||(qe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(pr(this),e),Fn(ze.get(this))}:function(...e){return Fn(n.apply(pr(this),e))}:function(e,...t){const r=n.call(pr(this),e,...t);return Gt.set(r,e.sort?e.sort():[e]),Fn(r)}}(n):(n instanceof IDBTransaction&&function ir(n){if(vt.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});vt.set(n,e)}(n),$e(n,function Ve(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,sr):n)}function Fn(n){if(n instanceof IDBRequest)return function on(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{t(Fn(n.result)),o()},f=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&ze.set(t,n)}).catch(()=>{}),tt.set(e,n),e}(n);if(G.has(n))return G.get(n);const e=bn(n);return e!==n&&(G.set(n,e),tt.set(e,n)),e}const pr=n=>tt.get(n),oi=["get","getKey","getAll","getAllKeys","count"],wr=["put","add","delete","clear"],Ui=new Map;function ni(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Ui.get(e))return Ui.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=wr.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!oi.includes(t))return;const u=function(){var f=(0,oe.Z)(function*(w,...N){const V=this.transaction(w,o?"readwrite":"readonly");let Y=V.store;return r&&(Y=Y.index(N.shift())),(yield Promise.all([Y[t](...N),o&&V.done]))[0]});return function(N){return f.apply(this,arguments)}}();return Ui.set(e,u),u}!function Wn(n){sr=n(sr)}(n=>({...n,get:(e,t,r)=>ni(e,t)||n.get(e,t,r),has:(e,t)=>!!ni(e,t)||n.has(e,t)}));class qn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function fa(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const vs="@firebase/app",mi=new Dr("@firebase/app"),Hs="[DEFAULT]",Yo={[vs]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ls=new Map,yo=new Map;function Qo(n,e){try{n.container.addComponent(e)}catch(t){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Po(n,e){n.container.addOrOverwriteComponent(e)}function Ai(n){const e=n.name;if(yo.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;yo.set(e,n);for(const t of ls.values())Qo(t,n);return!0}function Pa(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vl(n,e,t=Hs){Pa(n,e).clearInstance(t)}function ga(){yo.clear()}const Ns=new Ne("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ma{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}const Rs="9.23.0";function uu(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Hs,automaticDataCollectionEnabled:!1},e),o=r.name;if("string"!=typeof o||!o)throw Ns.create("bad-app-name",{appName:String(o)});if(t||(t=Le()),!t)throw Ns.create("no-options");const u=ls.get(o);if(u){if(T(t,u.options)&&T(r,u.config))return u;throw Ns.create("duplicate-app",{appName:o})}const f=new Qe(o);for(const N of yo.values())f.addComponent(N);const w=new ma(t,r,f);return ls.set(o,w),w}function Jo(n=Hs){const e=ls.get(n);if(!e&&n===Hs&&Le())return uu();if(!e)throw Ns.create("no-app",{appName:n});return e}function ka(){return Array.from(ls.values())}function Xr(n){return so.apply(this,arguments)}function so(){return(so=(0,oe.Z)(function*(n){const e=n.name;ls.has(e)&&(ls.delete(e),yield Promise.all(n.container.getProviders().map(t=>t.delete())),n.isDeleted=!0)})).apply(this,arguments)}function Di(n,e,t){var r;let o=null!==(r=Yo[n])&&void 0!==r?r:n;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const w=[`Unable to register library "${o}" with version "${e}":`];return u&&w.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&w.push("and"),f&&w.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void mi.warn(w.join(" "))}Ai(new Hn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}function Vi(n,e){if(null!==n&&"function"!=typeof n)throw Ns.create("invalid-log-argument");!function Je(n,e){for(const t of Se){let r=null;e&&e.level&&(r=Ot[e.level]),t.userLogHandler=null===n?null:(o,u,...f)=>{const w=f.map(N=>{if(null==N)return null;if("string"==typeof N)return N;if("number"==typeof N||"boolean"==typeof N)return N.toString();if(N instanceof Error)return N.message;try{return JSON.stringify(N)}catch{return null}}).filter(N=>N).join(" ");u>=(r??o.logLevel)&&n({level:Re[u].toLowerCase(),message:w,args:f,type:o.name})}}}(n,e)}function La(n){!function Ds(n){Se.forEach(e=>{e.setLogLevel(n)})}(n)}const ku="firebase-heartbeat-database",Fa=1,va="firebase-heartbeat-store";let lu=null;function oo(){return lu||(lu=function Wr(n,e,{blocked:t,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(n,e),w=Fn(f);return r&&f.addEventListener("upgradeneeded",N=>{r(Fn(f.result),N.oldVersion,N.newVersion,Fn(f.transaction),N)}),t&&f.addEventListener("blocked",N=>t(N.oldVersion,N.newVersion,N)),w.then(N=>{u&&N.addEventListener("close",()=>u()),o&&N.addEventListener("versionchange",V=>o(V.oldVersion,V.newVersion,V))}).catch(()=>{}),w}(ku,Fa,{upgrade:(n,e)=>{0===e&&n.createObjectStore(va)}}).catch(n=>{throw Ns.create("idb-open",{originalErrorMessage:n.message})})),lu}function xi(){return(xi=(0,oe.Z)(function*(n){try{return yield(yield oo()).transaction(va).objectStore(va).get(Xn(n))}catch(e){if(e instanceof pe)mi.warn(e.message);else{const t=Ns.create("idb-get",{originalErrorMessage:e?.message});mi.warn(t.message)}}})).apply(this,arguments)}function ya(n,e){return _o.apply(this,arguments)}function _o(){return(_o=(0,oe.Z)(function*(n,e){try{const r=(yield oo()).transaction(va,"readwrite");yield r.objectStore(va).put(e,Xn(n)),yield r.done}catch(t){if(t instanceof pe)mi.warn(t.message);else{const r=Ns.create("idb-set",{originalErrorMessage:t?.message});mi.warn(r.message)}}})).apply(this,arguments)}function Xn(n){return`${n.name}!${n.options.appId}`}class Ti{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $s(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,oe.Z)(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Ua();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(u=>u.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,oe.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=Ua(),{heartbeatsToSend:r,unsentEntries:o}=function ei(n,e=1024){const t=[];let r=n.slice();for(const o of n){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Fr(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Fr(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),u=X(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),u})()}}function Ua(){return(new Date).toISOString().substring(0,10)}class $s{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,oe.Z)(function*(){return!!_e()&&function De(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e((null===(u=o.error)||void 0===u?void 0:u.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,oe.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function cu(n){return xi.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,oe.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return ya(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,oe.Z)(function*(){var r;if(yield t._canUseIndexedDBPromise){const u=yield t.read();return ya(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}})()}}function Fr(n){return X(JSON.stringify({version:2,heartbeats:n})).length}!function Lu(n){Ai(new Hn("platform-logger",e=>new qn(e),"PRIVATE")),Ai(new Hn("heartbeat",e=>new Ti(e),"PRIVATE")),Di(vs,"0.9.13",n),Di(vs,"0.9.13","esm2017"),Di("fire-js","")}("");class zs{constructor(e,t){this._delegate=e,this.firebase=t,Qo(e,new Hn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Xr(this._delegate)))}_getService(e,t=Hs){var r;this._delegate.checkDestroyed();const o=this._delegate.container.getProvider(e);return!o.isInitialized()&&"EXPLICIT"===(null===(r=o.getComponent())||void 0===r?void 0:r.instantiationMode)&&o.initialize(),o.getImmediate({identifier:t})}_removeServiceInstance(e,t=Hs){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Qo(this._delegate,e)}_addOrOverwriteComponent(e){Po(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ws=new Ne("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Xt=function uo(){const n=function Ba(n){const e={},t={__esModule:!0,initializeApp:function u(V,Y={}){const me=uu(V,Y);if(jt(e,me.name))return e[me.name];const st=new n(me,t);return e[me.name]=st,st},app:o,registerVersion:Di,setLogLevel:La,onLog:Vi,apps:null,SDK_VERSION:Rs,INTERNAL:{registerComponent:function w(V){const Y=V.name,me=Y.replace("-compat","");if(Ai(V)&&"PUBLIC"===V.type){const st=(St=o())=>{if("function"!=typeof St[me])throw Ws.create("invalid-app-argument",{appName:Y});return St[me]()};void 0!==V.serviceProps&&Me(st,V.serviceProps),t[me]=st,n.prototype[me]=function(...St){return this._getService.bind(this,Y).apply(this,V.multipleInstances?St:[])}}return"PUBLIC"===V.type?t[me]:null},removeApp:function r(V){delete e[V]},useAsService:function N(V,Y){return"serverAuth"===Y?null:Y},modularAPIs:v}};function o(V){if(!jt(e,V=V||Hs))throw Ws.create("no-app",{appName:V});return e[V]}return t.default=t,Object.defineProperty(t,"apps",{get:function f(){return Object.keys(e).map(V=>e[V])}}),o.App=n,t}(zs);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:uo,extendNamespace:function e(t){Me(n,t)},createSubscribe:Tt,ErrorFactory:Ne,deepExtend:Me}),n}(),Va=new Dr("@firebase/app-compat");if(function Et(){return"object"==typeof self&&self.self===self}()&&void 0!==self.firebase){Va.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&Va.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const U=Xt;!function ja(n){Di("@firebase/app-compat","0.2.13",n)}(),U.registerVersion("firebase","9.23.0","app-compat");var C=P(7582);const k={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Pe_EMAIL_SIGNIN="EMAIL_SIGNIN",Pe_PASSWORD_RESET="PASSWORD_RESET",Pe_RECOVER_EMAIL="RECOVER_EMAIL",Pe_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Pe_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Pe_VERIFY_EMAIL="VERIFY_EMAIL";const xt=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ct=function at(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Kt=new Ne("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fn=new Dr("@firebase/auth");function hn(n,...e){fn.logLevel<=Re.ERROR&&fn.error(`Auth (${Rs}): ${n}`,...e)}function dn(n,...e){throw ti(n,...e)}function Rn(n,...e){return ti(n,...e)}function cr(n,e,t){const r=Object.assign(Object.assign({},Ct()),{[e]:t});return new Ne("auth","Firebase",r).create(e,{appName:n.name})}function Er(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&dn(n,"argument-error"),cr(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ti(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Kt.create(n,...e)}function Ht(n,e,...t){if(!n)throw ti(e,...t)}function ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw hn(e),new Error(e)}function ii(n,e){n||ui(e)}function Qi(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Gs(){return"http:"===ko()||"https:"===ko()}function ko(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Ks{constructor(e,t){this.shortDelay=e,this.longDelay=t,ii(t>e,"Short delay should be less than long delay!"),this.isMobile=function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ge())}()||pt()}get(){return function wo(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gs()||ft()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lo(n,e){ii(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class $a{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cc={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Uu=new Ks(3e4,6e4);function Br(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Gr(n,e,t,r){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,oe.Z)(function*(n,e,t,r,o={}){return za(n,o,(0,oe.Z)(function*(){let u={},f={};r&&("GET"===e?f=r:u={body:JSON.stringify(r)});const w=Ce(Object.assign({key:n.config.apiKey},f)).slice(1),N=yield n._getAdditionalHeaders();return N["Content-Type"]="application/json",n.languageCode&&(N["X-Firebase-Locale"]=n.languageCode),$a.fetch()(dc(n,n.config.apiHost,t,w),Object.assign({method:e,headers:N,referrerPolicy:"no-referrer"},u))}))})).apply(this,arguments)}function za(n,e,t){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,oe.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},cc),e);try{const o=new hc(n),u=yield Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=yield u.json();if("needConfirmation"in f)throw du(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const w=u.ok?f.errorMessage:f.error.message,[N,V]=w.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===N)throw du(n,"credential-already-in-use",f);if("EMAIL_EXISTS"===N)throw du(n,"email-already-in-use",f);if("USER_DISABLED"===N)throw du(n,"user-disabled",f);const Y=r[N]||N.toLowerCase().replace(/[_\s]+/g,"-");if(V)throw cr(n,Y,V);dn(n,Y)}}catch(o){if(o instanceof pe)throw o;dn(n,"network-request-failed",{message:String(o)})}})).apply(this,arguments)}function Ji(n,e,t,r){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,oe.Z)(function*(n,e,t,r,o={}){const u=yield Gr(n,e,t,r,o);return"mfaPendingCredential"in u&&dn(n,"multi-factor-auth-required",{_serverResponse:u}),u})).apply(this,arguments)}function dc(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?lo(n.config,o):`${n.config.apiScheme}://${o}`}class hc{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Rn(this.auth,"network-request-failed")),Uu.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function du(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Rn(n,e,r);return o.customData._tokenResponse=t,o}function Vu(){return(Vu=(0,oe.Z)(function*(n,e){return Gr(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function _a(){return(_a=(0,oe.Z)(function*(n,e){return Gr(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function fu(){return(fu=(0,oe.Z)(function*(n,e){return Gr(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function R(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function le(){return(le=(0,oe.Z)(function*(n,e=!1){const t=Zt(n),r=yield t.getIdToken(e),o=It(r);Ht(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u="object"==typeof o.firebase?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:r,authTime:R(je(o.auth_time)),issuedAtTime:R(je(o.iat)),expirationTime:R(je(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}})).apply(this,arguments)}function je(n){return 1e3*Number(n)}function It(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return hn("JWT malformed, contained fewer than 3 sections"),null;try{const o=ne(t);return o?JSON.parse(o):(hn("Failed to decode base64 JWT payload"),null)}catch(o){return hn("Caught error parsing JWT payload as JSON",o?.toString()),null}}function _n(n,e){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,oe.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof pe&&function Nr({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Tr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const o=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,oe.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,oe.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class nr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=R(this.lastLoginAt),this.creationTime=R(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vr(n){return xr.apply(this,arguments)}function xr(){return xr=(0,oe.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),o=yield _n(n,function hu(n,e){return fu.apply(this,arguments)}(t,{idToken:r}));Ht(o?.users.length,t,"internal-error");const u=o.users[0];n._notifyReloadListener(u);const f=null!==(e=u.providerUserInfo)&&void 0!==e&&e.length?function Lo(n){return n.map(e=>{var{providerId:t}=e,r=(0,C._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(u.providerUserInfo):[],w=function ji(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}(n.providerData,f),Y=!!n.isAnonymous&&!(n.email&&u.passwordHash||w?.length),me={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:w,metadata:new nr(u.createdAt,u.lastLoginAt),isAnonymous:Y};Object.assign(n,me)}),xr.apply(this,arguments)}function Xi(){return(Xi=(0,oe.Z)(function*(n){const e=Zt(n);yield Vr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Os(){return(Os=(0,oe.Z)(function*(n,e){const t=yield za(n,{},(0,oe.Z)(function*(){const r=Ce({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,f=dc(n,o,"/v1/token",`key=${u}`),w=yield n._getAdditionalHeaders();return w["Content-Type"]="application/x-www-form-urlencoded",$a.fetch()(f,{method:"POST",headers:w,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ht(e.idToken,"internal-error"),Ht(typeof e.idToken<"u","internal-error"),Ht(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Ft(n){const e=It(n);return Ht(e,"internal-error"),Ht(typeof e.exp<"u","internal-error"),Ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,oe.Z)(function*(){return Ht(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,oe.Z)(function*(){const{accessToken:o,refreshToken:u,expiresIn:f}=yield function ys(n,e){return Os.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(o,u,Number(f))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:u}=t,f=new Zs;return r&&(Ht("string"==typeof r,"internal-error",{appName:e}),f.refreshToken=r),o&&(Ht("string"==typeof o,"internal-error",{appName:e}),f.accessToken=o),u&&(Ht("number"==typeof u,"internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zs,this.toJSON())}_performRefresh(){return ui("not implemented")}}function Hi(n,e){Ht("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Xo{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,u=(0,C._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new nr(u.createdAt||void 0,u.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,oe.Z)(function*(){const r=yield _n(t,t.stsTokenManager.getToken(t.auth,e));return Ht(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function B(n){return le.apply(this,arguments)}(this,e)}reload(){return function li(n){return Xi.apply(this,arguments)}(this)}_assign(e){this!==e&&(Ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,oe.Z)(function*(){let o=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),o=!0),t&&(yield Vr(r)),yield r.auth._persistUserIfCurrent(r),o&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,oe.Z)(function*(){const t=yield e.getIdToken();return yield _n(e,function yl(n,e){return Vu.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,u,f,w,N,V,Y;const me=null!==(r=t.displayName)&&void 0!==r?r:void 0,st=null!==(o=t.email)&&void 0!==o?o:void 0,St=null!==(u=t.phoneNumber)&&void 0!==u?u:void 0,sn=null!==(f=t.photoURL)&&void 0!==f?f:void 0,En=null!==(w=t.tenantId)&&void 0!==w?w:void 0,Sn=null!==(N=t._redirectEventId)&&void 0!==N?N:void 0,fr=null!==(V=t.createdAt)&&void 0!==V?V:void 0,Rr=null!==(Y=t.lastLoginAt)&&void 0!==Y?Y:void 0,{uid:yr,emailVerified:gs,isAnonymous:os,providerData:si,stsTokenManager:No}=t;Ht(yr&&No,e,"internal-error");const Td=Zs.fromJSON(this.name,No);Ht("string"==typeof yr,e,"internal-error"),Hi(me,e.name),Hi(st,e.name),Ht("boolean"==typeof gs,e,"internal-error"),Ht("boolean"==typeof os,e,"internal-error"),Hi(St,e.name),Hi(sn,e.name),Hi(En,e.name),Hi(Sn,e.name),Hi(fr,e.name),Hi(Rr,e.name);const yv=new Xo({uid:yr,auth:e,email:st,emailVerified:gs,displayName:me,isAnonymous:os,photoURL:sn,phoneNumber:St,tenantId:En,stsTokenManager:Td,createdAt:fr,lastLoginAt:Rr});return si&&Array.isArray(si)&&(yv.providerData=si.map(fM=>Object.assign({},fM))),Sn&&(yv._redirectEventId=Sn),yv}static _fromIdTokenResponse(e,t,r=!1){return(0,oe.Z)(function*(){const o=new Zs;o.updateFromServerResponse(t);const u=new Xo({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return yield Vr(u),u})()}}const pu=new Map;function _s(n){ii(n instanceof Function,"Expected a class definition");let e=pu.get(n);return e?(ii(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pu.set(n,e),e)}const Wa=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,oe.Z)(function*(){return!0})()}_set(t,r){var o=this;return(0,oe.Z)(function*(){o.storage[t]=r})()}_get(t){var r=this;return(0,oe.Z)(function*(){const o=r.storage[t];return void 0===o?null:o})()}_remove(t){var r=this;return(0,oe.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function ea(n,e,t){return`firebase:${n}:${e}:${t}`}class ws{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=ea(this.userKey,o.apiKey,u),this.fullPersistenceKey=ea("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,oe.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Xo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,oe.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,oe.Z)(function*(){if(!t.length)return new ws(_s(Wa),e,r);const o=(yield Promise.all(t.map(function(){var V=(0,oe.Z)(function*(Y){if(yield Y._isAvailable())return Y});return function(Y){return V.apply(this,arguments)}}()))).filter(V=>V);let u=o[0]||_s(Wa);const f=ea(r,e.config.apiKey,e.name);let w=null;for(const V of t)try{const Y=yield V._get(f);if(Y){const me=Xo._fromJSON(e,Y);V!==u&&(w=me),u=V;break}}catch{}const N=o.filter(V=>V._shouldAllowMigration);return u._shouldAllowMigration&&N.length?(u=N[0],w&&(yield u._set(f,w.toJSON())),yield Promise.all(t.map(function(){var V=(0,oe.Z)(function*(Y){if(Y!==u)try{yield Y._remove(f)}catch{}});return function(Y){return V.apply(this,arguments)}}())),new ws(u,e,r)):new ws(u,e,r)})()}}function fc(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_l(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ju(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Cd(e))return"Blackberry";if(pc(e))return"Webos";if(Hu(e))return"Safari";if((e.includes("chrome/")||cs(e))&&!e.includes("edge/"))return"Chrome";if(qs(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function ju(n=ge()){return/firefox\//i.test(n)}function Hu(n=ge()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cs(n=ge()){return/crios\//i.test(n)}function _l(n=ge()){return/iemobile/i.test(n)}function qs(n=ge()){return/android/i.test(n)}function Cd(n=ge()){return/blackberry/i.test(n)}function pc(n=ge()){return/webos/i.test(n)}function wa(n=ge()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ea(n=ge()){return wa(n)||qs(n)||pc(n)||Cd(n)||/windows phone/i.test(n)||_l(n)}function Es(n,e=[]){let t;switch(n){case"Browser":t=fc(ge());break;case"Worker":t=`${fc(ge())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Rs}/${r}`}function Eo(){return(Eo=(0,oe.Z)(function*(n){return(yield Gr(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mu(n,e){return na.apply(this,arguments)}function na(){return(na=(0,oe.Z)(function*(n,e){return Gr(n,"GET","/v2/recaptchaConfig",Br(n,e))})).apply(this,arguments)}function bo(n){return void 0!==n&&void 0!==n.getResponse}function Ga(n){return void 0!==n&&void 0!==n.enterprise}class ra{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function wl(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const u=Rn("internal-error");u.customData=o,t(u)},r.type="text/javascript",r.charset="UTF-8",function mc(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function bs(n){return`__${n}${Math.floor(1e6*Math.random())}`}const $u="NO_RECAPTCHA";class vu{constructor(e){this.type="recaptcha-enterprise",this.auth=Si(e)}verify(e="verify",t=!1){var r=this;return(0,oe.Z)(function*(){function u(){return u=(0,oe.Z)(function*(w){if(!t){if(null==w.tenantId&&null!=w._agentRecaptchaConfig)return w._agentRecaptchaConfig.siteKey;if(null!=w.tenantId&&void 0!==w._tenantRecaptchaConfigs[w.tenantId])return w._tenantRecaptchaConfigs[w.tenantId].siteKey}return new Promise(function(){var N=(0,oe.Z)(function*(V,Y){mu(w,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(me=>{if(void 0!==me.recaptchaKey){const st=new ra(me);return null==w.tenantId?w._agentRecaptchaConfig=st:w._tenantRecaptchaConfigs[w.tenantId]=st,V(st.siteKey)}Y(new Error("recaptcha Enterprise site key undefined"))}).catch(me=>{Y(me)})});return function(V,Y){return N.apply(this,arguments)}}())}),u.apply(this,arguments)}function f(w,N,V){const Y=window.grecaptcha;Ga(Y)?Y.enterprise.ready(()=>{Y.enterprise.execute(w,{action:e}).then(me=>{N(me)}).catch(()=>{N($u)})}):V(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((w,N)=>{(function o(w){return u.apply(this,arguments)})(r.auth).then(V=>{if(!t&&Ga(window.grecaptcha))f(V,w,N);else{if(typeof window>"u")return void N(new Error("RecaptchaVerifier is only supported in browser"));wl("https://www.google.com/recaptcha/enterprise.js?render="+V).then(()=>{f(V,w,N)}).catch(Y=>{N(Y)})}}).catch(V=>{N(V)})})})()}}function Ys(n,e,t){return zu.apply(this,arguments)}function zu(){return(zu=(0,oe.Z)(function*(n,e,t,r=!1){const o=new vu(n);let u;try{u=yield o.verify(t)}catch{u=yield o.verify(t,!0)}const f=Object.assign({},e);return Object.assign(f,r?{captchaResp:u}:{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f})).apply(this,arguments)}class vc{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((f,w)=>{try{f(e(u))}catch(N){w(N)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,oe.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const o of t.queue)yield o(e),o.onAbort&&r.push(o.onAbort)}catch(o){r.reverse();for(const u of r)try{u()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}})()}}class br{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zh(this),this.idTokenSubscription=new Zh(this),this.beforeStateQueue=new vc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=_s(t)),this._initializationPromise=this.queue((0,oe.Z)(function*(){var o,u;if(!r._deleted&&(r.persistenceManager=yield ws.create(r,e),!r._deleted)){if(null!==(o=r._popupRedirectResolver)&&void 0!==o&&o._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(u=r.currentUser)||void 0===u?void 0:u.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,oe.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,oe.Z)(function*(){var r;const o=yield t.assertedPersistence.getCurrentUser();let u=o,f=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const w=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,N=u?._redirectEventId,V=yield t.tryRedirectSignIn(e);(!w||w===N)&&V?.user&&(u=V.user,f=!0)}if(!u)return t.directlySetCurrentUser(null);if(!u._redirectEventId){if(f)try{yield t.beforeStateQueue.runMiddleware(u)}catch(w){u=o,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(w))}return u?t.reloadAndSetCurrentUserOrClear(u):t.directlySetCurrentUser(null)}return Ht(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===u._redirectEventId?t.directlySetCurrentUser(u):t.reloadAndSetCurrentUserOrClear(u)})()}tryRedirectSignIn(e){var t=this;return(0,oe.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,oe.Z)(function*(){try{yield Vr(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ha(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,oe.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,oe.Z)(function*(){const r=e?Zt(e):null;return r&&Ht(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,oe.Z)(function*(){if(!r._deleted)return e&&Ht(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,oe.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,oe.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,oe.Z)(function*(){yield t.assertedPersistence.setPersistence(_s(e))}))}initializeRecaptchaConfig(){var e=this;return(0,oe.Z)(function*(){const t=yield mu(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new ra(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new vu(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ne("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,oe.Z)(function*(){const o=yield r.getOrInitRedirectPersistenceManager(t);return null===e?o.removeCurrentUser():o.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,oe.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&_s(e)||t._popupRedirectResolver;Ht(r,t,"argument-error"),t.redirectPersistenceManager=yield ws.create(t,[_s(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,oe.Z)(function*(){var r,o;return t._isInitialized&&(yield t.queue((0,oe.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(o=t.redirectUser)||void 0===o?void 0:o._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,oe.Z)(function*(){if(e===t.currentUser)return t.queue((0,oe.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const u="function"==typeof t?t:t.next.bind(t),f=this._isInitialized?Promise.resolve():this._initializationPromise;return Ht(f,this,"internal-error"),f.then(()=>u(this.currentUser)),"function"==typeof t?e.addObserver(t,r,o):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,oe.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Es(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,oe.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const o=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();o&&(r["X-Firebase-Client"]=o);const u=yield e._getAppCheckToken();return u&&(r["X-Firebase-AppCheck"]=u),r})()}_getAppCheckToken(){var e=this;return(0,oe.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Pn(n,...e){fn.logLevel<=Re.WARN&&fn.warn(`Auth (${Rs}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Si(n){return Zt(n)}class Zh{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tt(t=>this.observer=t)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qh(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function yu(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Wu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,t){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}function ci(n,e){return Io.apply(this,arguments)}function Io(){return(Io=(0,oe.Z)(function*(n,e){return Gr(n,"POST","/v1/accounts:resetPassword",Br(n,e))})).apply(this,arguments)}function _u(n,e){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,oe.Z)(function*(n,e){return Gr(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function To(){return(To=(0,oe.Z)(function*(n,e){return Gr(n,"POST","/v1/accounts:update",Br(n,e))})).apply(this,arguments)}function I(n,e){return S.apply(this,arguments)}function S(){return(S=(0,oe.Z)(function*(n,e){return Ji(n,"POST","/v1/accounts:signInWithPassword",Br(n,e))})).apply(this,arguments)}function _(n,e){return O.apply(this,arguments)}function O(){return(O=(0,oe.Z)(function*(n,e){return Gr(n,"POST","/v1/accounts:sendOobCode",Br(n,e))})).apply(this,arguments)}function ie(){return(ie=(0,oe.Z)(function*(n,e){return _(n,e)})).apply(this,arguments)}function Ee(n,e){return it.apply(this,arguments)}function it(){return(it=(0,oe.Z)(function*(n,e){return _(n,e)})).apply(this,arguments)}function Lt(n,e){return pn.apply(this,arguments)}function pn(){return(pn=(0,oe.Z)(function*(n,e){return _(n,e)})).apply(this,arguments)}function gr(){return(gr=(0,oe.Z)(function*(n,e){return _(n,e)})).apply(this,arguments)}function Js(){return(Js=(0,oe.Z)(function*(n,e){return Ji(n,"POST","/v1/accounts:signInWithEmailLink",Br(n,e))})).apply(this,arguments)}function Uo(){return(Uo=(0,oe.Z)(function*(n,e){return Ji(n,"POST","/v1/accounts:signInWithEmailLink",Br(n,e))})).apply(this,arguments)}class es extends Wu{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new es(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new es(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,oe.Z)(function*(){var r;switch(t.signInMethod){case"password":const o={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const u=yield Ys(e,o,"signInWithPassword");return I(e,u)}return I(e,o).catch(function(){var u=(0,oe.Z)(function*(f){if("auth/missing-recaptcha-token"===f.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const w=yield Ys(e,o,"signInWithPassword");return I(e,w)}return Promise.reject(f)});return function(f){return u.apply(this,arguments)}}());case"emailLink":return function Ri(n,e){return Js.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:dn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,oe.Z)(function*(){switch(r.signInMethod){case"password":return _u(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Fo(n,e){return Uo.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:dn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Bo(n,e){return ia.apply(this,arguments)}function ia(){return(ia=(0,oe.Z)(function*(n,e){return Ji(n,"POST","/v1/accounts:signInWithIdp",Br(n,e))})).apply(this,arguments)}class ts extends Wu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,u=(0,C._T)(t,["providerId","signInMethod"]);if(!r||!o)return null;const f=new ts(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){return Bo(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Bo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ce(t)}return e}}function bl(){return(bl=(0,oe.Z)(function*(n,e){return Gr(n,"POST","/v1/accounts:sendVerificationCode",Br(n,e))})).apply(this,arguments)}function Yh(){return(Yh=(0,oe.Z)(function*(n,e){return Ji(n,"POST","/v1/accounts:signInWithPhoneNumber",Br(n,e))})).apply(this,arguments)}function Ku(){return(Ku=(0,oe.Z)(function*(n,e){const t=yield Ji(n,"POST","/v1/accounts:signInWithPhoneNumber",Br(n,e));if(t.temporaryProof)throw du(n,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const Rd={USER_NOT_FOUND:"user-not-found"};function Qh(){return(Qh=(0,oe.Z)(function*(n,e){return Ji(n,"POST","/v1/accounts:signInWithPhoneNumber",Br(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Rd)})).apply(this,arguments)}class Zu extends Wu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Zu({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Zu({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function Il(n,e){return Yh.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function Zp(n,e){return Ku.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function qp(n,e){return Qh.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:o}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:o,temporaryProof:u}=e;return r||t||o||u?new Zu({verificationId:t,verificationCode:r,phoneNumber:o,temporaryProof:u}):null}}class _c{constructor(e){var t,r,o,u,f,w;const N=rt(nt(e)),V=null!==(t=N.apiKey)&&void 0!==t?t:null,Y=null!==(r=N.oobCode)&&void 0!==r?r:null,me=function Tl(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(o=N.mode)&&void 0!==o?o:null);Ht(V&&Y&&me,"argument-error"),this.apiKey=V,this.operation=me,this.code=Y,this.continueUrl=null!==(u=N.continueUrl)&&void 0!==u?u:null,this.languageCode=null!==(f=N.languageCode)&&void 0!==f?f:null,this.tenantId=null!==(w=N.tenantId)&&void 0!==w?w:null}static parseLink(e){const t=function yc(n){const e=rt(nt(n)).link,t=e?rt(nt(e)).deep_link_id:null,r=rt(nt(n)).deep_link_id;return(r?rt(nt(r)).link:null)||r||t||e||n}(e);try{return new _c(t)}catch{return null}}}let Od=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return es._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const o=_c.parseLink(r);return Ht(o,"argument-error"),es._fromEmailAndCode(t,o.code,o.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ka{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wc extends Ka{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Sl extends wc{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return Ht("providerId"in t&&"signInMethod"in t,"argument-error"),ts._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Ht(e.idToken||e.accessToken,"argument-error"),ts._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Sl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Sl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:o,pendingToken:u,nonce:f,providerId:w}=e;if(!r&&!o&&!t&&!u||!w)return null;try{return new Sl(w)._credential({idToken:t,accessToken:r,nonce:f,pendingToken:u})}catch{return null}}}let Yp=(()=>{class n extends wc{constructor(){super("facebook.com")}static credential(t){return ts._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),Qp=(()=>{class n extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return ts._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:o}=t;if(!r&&!o)return null;try{return n.credential(r,o)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),Ec=(()=>{class n extends wc{constructor(){super("github.com")}static credential(t){return ts._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class Cl extends Wu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Bo(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Bo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bo(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:o,pendingToken:u}=t;return r&&o&&u&&r===o?new Cl(r,u):null}static _create(e,t){return new Cl(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pd extends Ka{constructor(e){Ht(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Pd.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Pd.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Cl.fromJSON(e);return Ht(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Cl._create(r,t)}catch{return null}}}let Jh=(()=>{class n extends wc{constructor(){super("twitter.com")}static credential(t,r){return ts._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:o}=t;if(!r||!o)return null;try{return n.credential(r,o)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function Xh(n,e){return ef.apply(this,arguments)}function ef(){return(ef=(0,oe.Z)(function*(n,e){return Ji(n,"POST","/v1/accounts:signUp",Br(n,e))})).apply(this,arguments)}class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,o=!1){return(0,oe.Z)(function*(){const u=yield Xo._fromIdTokenResponse(e,r,o),f=kd(r);return new Vo({user:u,providerId:f,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,oe.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const o=kd(r);return new Vo({user:e,providerId:o,_tokenResponse:r,operationType:t})})()}}function kd(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function eg(){return(eg=(0,oe.Z)(function*(n){var e;const t=Si(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new Vo({user:t.currentUser,providerId:null,operationType:"signIn"});const r=yield Xh(t,{returnSecureToken:!0}),o=yield Vo._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(o.user),o})).apply(this,arguments)}class Al extends pe{constructor(e,t,r,o){var u;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Al.prototype),this.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Al(e,t,r,o)}}function _v(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw"auth/multi-factor-auth-required"===u.code?Al._fromErrorAndOperation(n,u,e,r):u})}function wv(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function tg(){return tg=(0,oe.Z)(function*(n,e){const t=Zt(n);yield bc(!0,t,e);const{providerUserInfo:r}=yield function Sd(n,e){return _a.apply(this,arguments)}(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),o=wv(r||[]);return t.providerData=t.providerData.filter(u=>o.has(u.providerId)),o.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t}),tg.apply(this,arguments)}function ng(n,e){return tf.apply(this,arguments)}function tf(){return(tf=(0,oe.Z)(function*(n,e,t=!1){const r=yield _n(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Vo._forOperation(n,"link",r)})).apply(this,arguments)}function bc(n,e,t){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,oe.Z)(function*(n,e,t){yield Vr(e);const o=!1===n?"provider-already-linked":"no-such-provider";Ht(wv(e.providerData).has(t)===n,e.auth,o)})).apply(this,arguments)}function nf(n,e){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,oe.Z)(function*(n,e,t=!1){const{auth:r}=n,o="reauthenticate";try{const u=yield _n(n,_v(r,o,e,n),t);Ht(u.idToken,r,"internal-error");const f=It(u.idToken);Ht(f,r,"internal-error");const{sub:w}=f;return Ht(n.uid===w,r,"user-mismatch"),Vo._forOperation(n,o,u)}catch(u){throw"auth/user-not-found"===u?.code&&dn(r,"user-mismatch"),u}})).apply(this,arguments)}function rf(n,e){return jo.apply(this,arguments)}function jo(){return(jo=(0,oe.Z)(function*(n,e,t=!1){const r="signIn",o=yield _v(n,r,e),u=yield Vo._fromIdTokenResponse(n,r,o);return t||(yield n._updateCurrentUser(u.user)),u})).apply(this,arguments)}function Fd(n,e){return sf.apply(this,arguments)}function sf(){return(sf=(0,oe.Z)(function*(n,e){return rf(Si(n),e)})).apply(this,arguments)}function rg(n,e){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,oe.Z)(function*(n,e){const t=Zt(n);return yield bc(!1,t,e.providerId),ng(t,e)})).apply(this,arguments)}function Bd(n,e){return af.apply(this,arguments)}function af(){return(af=(0,oe.Z)(function*(n,e){return nf(Zt(n),e)})).apply(this,arguments)}function uf(){return(uf=(0,oe.Z)(function*(n,e){return Ji(n,"POST","/v1/accounts:signInWithCustomToken",Br(n,e))})).apply(this,arguments)}function lf(){return lf=(0,oe.Z)(function*(n,e){const t=Si(n),r=yield function Ev(n,e){return uf.apply(this,arguments)}(t,{token:e,returnSecureToken:!0}),o=yield Vo._fromIdTokenResponse(t,"signIn",r);return yield t._updateCurrentUser(o.user),o}),lf.apply(this,arguments)}class Tc{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ls._fromServerResponse(e,t):"totpInfo"in t?Sc._fromServerResponse(e,t):dn(e,"internal-error")}}class Ls extends Tc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ls(t)}}class Sc extends Tc{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Sc(t)}}function qu(n,e,t){var r;Ht((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),Ht(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Ht(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Ht(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function ds(){return ds=(0,oe.Z)(function*(n,e,t){var r;const o=Si(n),u={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=o._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const f=yield Ys(o,u,"getOobCode",!0);t&&qu(o,f,t),yield Ee(o,f)}else t&&qu(o,u,t),yield Ee(o,u).catch(function(){var f=(0,oe.Z)(function*(w){if("auth/missing-recaptcha-token"!==w.code)return Promise.reject(w);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const N=yield Ys(o,u,"getOobCode",!0);t&&qu(o,N,t),yield Ee(o,N)}});return function(w){return f.apply(this,arguments)}}())}),ds.apply(this,arguments)}function Vd(){return(Vd=(0,oe.Z)(function*(n,e,t){yield ci(Zt(n),{oobCode:e,newPassword:t})})).apply(this,arguments)}function df(){return df=(0,oe.Z)(function*(n,e){yield function Qs(n,e){return To.apply(this,arguments)}(Zt(n),{oobCode:e})}),df.apply(this,arguments)}function hf(n,e){return ff.apply(this,arguments)}function ff(){return(ff=(0,oe.Z)(function*(n,e){const t=Zt(n),r=yield ci(t,{oobCode:e}),o=r.requestType;switch(Ht(o,t,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ht(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ht(r.mfaInfo,t,"internal-error");default:Ht(r.email,t,"internal-error")}let u=null;return r.mfaInfo&&(u=Tc._fromServerResponse(Si(t),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:u},operation:o}})).apply(this,arguments)}function pf(){return(pf=(0,oe.Z)(function*(n,e){const{data:t}=yield hf(Zt(n),e);return t.email})).apply(this,arguments)}function gf(){return gf=(0,oe.Z)(function*(n,e,t){var r;const o=Si(n),u={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let f;if(null!==(r=o._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const V=yield Ys(o,u,"signUpPassword");f=Xh(o,V)}else f=Xh(o,u).catch(function(){var V=(0,oe.Z)(function*(Y){if("auth/missing-recaptcha-token"===Y.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const me=yield Ys(o,u,"signUpPassword");return Xh(o,me)}return Promise.reject(Y)});return function(Y){return V.apply(this,arguments)}}());const w=yield f.catch(V=>Promise.reject(V)),N=yield Vo._fromIdTokenResponse(o,"signIn",w);return yield o._updateCurrentUser(N.user),N}),gf.apply(this,arguments)}function Ac(){return Ac=(0,oe.Z)(function*(n,e,t){var r;const o=Si(n),u={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function f(w,N){Ht(N.handleCodeInApp,o,"argument-error"),N&&qu(o,w,N)}if(null!==(r=o._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const w=yield Ys(o,u,"getOobCode",!0);f(w,t),yield Lt(o,w)}else f(u,t),yield Lt(o,u).catch(function(){var w=(0,oe.Z)(function*(N){if("auth/missing-recaptcha-token"!==N.code)return Promise.reject(N);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const V=yield Ys(o,u,"getOobCode",!0);f(V,t),yield Lt(o,V)}});return function(N){return w.apply(this,arguments)}}())}),Ac.apply(this,arguments)}function vf(){return(vf=(0,oe.Z)(function*(n,e,t){const r=Zt(n),o=Od.credentialWithLink(e,t||Qi());return Ht(o._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Fd(r,o)})).apply(this,arguments)}function xc(){return(xc=(0,oe.Z)(function*(n,e){return Gr(n,"POST","/v1/accounts:createAuthUri",Br(n,e))})).apply(this,arguments)}function jd(){return jd=(0,oe.Z)(function*(n,e){const r={identifier:e,continueUri:Gs()?Qi():"http://localhost"},{signinMethods:o}=yield function Tv(n,e){return xc.apply(this,arguments)}(Zt(n),r);return o||[]}),jd.apply(this,arguments)}function Mc(){return Mc=(0,oe.Z)(function*(n,e){const t=Zt(n),o={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&qu(t.auth,o,e);const{email:u}=yield function $(n,e){return ie.apply(this,arguments)}(t.auth,o);u!==n.email&&(yield n.reload())}),Mc.apply(this,arguments)}function _f(){return _f=(0,oe.Z)(function*(n,e,t){const r=Zt(n),u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&qu(r.auth,u,t);const{email:f}=yield function Cn(n,e){return gr.apply(this,arguments)}(r.auth,u);f!==n.email&&(yield n.reload())}),_f.apply(this,arguments)}function Ef(){return(Ef=(0,oe.Z)(function*(n,e){return Gr(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function bf(){return bf=(0,oe.Z)(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=Zt(n),u={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=yield _n(r,function wf(n,e){return Ef.apply(this,arguments)}(r.auth,u));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const w=r.providerData.find(({providerId:N})=>"password"===N);w&&(w.displayName=r.displayName,w.photoURL=r.photoURL),yield r._updateTokensIfNecessary(f)}),bf.apply(this,arguments)}function lg(n,e,t){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,oe.Z)(function*(n,e,t){const{auth:r}=n,u={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(u.email=e),t&&(u.password=t);const f=yield _n(n,_u(r,u));yield n._updateTokensIfNecessary(f,!0)})).apply(this,arguments)}class Yu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class $d extends Yu{constructor(e,t,r,o){super(e,t,r),this.username=o}}class Dv extends Yu{constructor(e,t){super(e,"facebook.com",t)}}class xv extends $d{constructor(e,t){super(e,"github.com",t,"string"==typeof t?.login?t?.login:null)}}class cg extends Yu{constructor(e,t){super(e,"google.com",t)}}class dg extends $d{constructor(e,t,r){super(e,"twitter.com",t,r)}}function Qu(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function If(n){var e,t;if(!n)return null;const{providerId:r}=n,o=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},u=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!r&&n?.idToken){const f=null===(t=null===(e=It(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(f)return new Yu(u,"anonymous"!==f&&"custom"!==f?f:null)}if(!r)return null;switch(r){case"facebook.com":return new Dv(u,o);case"github.com":return new xv(u,o);case"google.com":return new cg(u,o);case"twitter.com":return new dg(u,o,n.screenName||null);case"custom":case"anonymous":return new Yu(u,null);default:return new Yu(u,r,o)}}(t)}class co{constructor(e,t,r){this.type=e,this.credential=t,this.auth=r}static _fromIdtoken(e,t){return new co("enroll",e,t)}static _fromMfaPendingCredential(e){return new co("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e?.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return co._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(r=e.multiFactorSession)&&void 0!==r&&r.idToken)return co._fromIdtoken(e.multiFactorSession.idToken)}return null}}class xl{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Si(e),o=t.customData._serverResponse,u=(o.mfaInfo||[]).map(w=>Tc._fromServerResponse(r,w));Ht(o.mfaPendingCredential,r,"internal-error");const f=co._fromMfaPendingCredential(o.mfaPendingCredential);return new xl(f,u,function(){var w=(0,oe.Z)(function*(N){const V=yield N._process(r,f);delete o.mfaInfo,delete o.mfaPendingCredential;const Y=Object.assign(Object.assign({},o),{idToken:V.idToken,refreshToken:V.refreshToken});switch(t.operationType){case"signIn":const me=yield Vo._fromIdTokenResponse(r,t.operationType,Y);return yield r._updateCurrentUser(me.user),me;case"reauthenticate":return Ht(t.user,r,"internal-error"),Vo._forOperation(t.user,t.operationType,Y);default:dn(r,"internal-error")}});return function(N){return w.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,oe.Z)(function*(){return t.signInResolver(e)})()}}class Cf{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Tc._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Cf(e)}getSession(){var e=this;return(0,oe.Z)(function*(){return co._fromIdtoken(yield e.user.getIdToken(),e.user.auth)})()}enroll(e,t){var r=this;return(0,oe.Z)(function*(){const o=e,u=yield r.getSession(),f=yield _n(r.user,o._process(r.user.auth,u,t));return yield r.user._updateTokensIfNecessary(f),r.user.reload()})()}unenroll(e){var t=this;return(0,oe.Z)(function*(){const r="string"==typeof e?e:e.uid,o=yield t.user.getIdToken();try{const u=yield _n(t.user,function Ml(n,e){return Gr(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Br(n,e))}(t.user.auth,{idToken:o,mfaEnrollmentId:r}));t.enrolledFactors=t.enrolledFactors.filter(({uid:f})=>f!==r),yield t.user._updateTokensIfNecessary(u),yield t.user.reload()}catch(u){throw u}})()}}const Gd=new WeakMap,Rc="__sak";class fg{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rc,"1"),this.storage.removeItem(Rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Za=(()=>{class n extends fg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pg(){const n=ge();return Hu(n)||wa(n)}()&&function ta(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ea(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const o=this.storage.getItem(r),u=this.localCache[r];o!==u&&t(r,u,o)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((w,N,V)=>{this.notifyListeners(w,V)});const o=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const w=this.storage.getItem(o);if(t.newValue!==w)null!==t.newValue?this.storage.setItem(o,t.newValue):this.storage.removeItem(o);else if(this.localCache[o]===t.newValue&&!r)return}const u=()=>{const w=this.storage.getItem(o);!r&&this.localCache[o]===w||this.notifyListeners(o,w)},f=this.storage.getItem(o);!function Dd(){return An()&&10===document.documentMode}()||f===t.newValue||t.newValue===t.oldValue?u():setTimeout(u,10)}notifyListeners(t,r){this.localCache[t]=r;const o=this.listeners[t];if(o)for(const u of Array.from(o))u(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:o}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var o=()=>super._set,u=this;return(0,oe.Z)(function*(){yield o().call(u,t,r),u.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,o=this;return(0,oe.Z)(function*(){const u=yield r().call(o,t);return o.localCache[t]=JSON.stringify(u),u})()}_remove(t){var r=()=>super._remove,o=this;return(0,oe.Z)(function*(){yield r().call(o,t),delete o.localCache[t]})()}}return n.type="LOCAL",n})(),Eu=(()=>{class n extends fg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Fv=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(u=>u.isListeningto(t));if(r)return r;const o=new n(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,oe.Z)(function*(){const o=t,{eventId:u,eventType:f,data:w}=o.data,N=r.handlersMap[f];if(!N?.size)return;o.ports[0].postMessage({status:"ack",eventId:u,eventType:f});const V=Array.from(N).map(function(){var me=(0,oe.Z)(function*(st){return st(o.origin,w)});return function(st){return me.apply(this,arguments)}}()),Y=yield function F0(n){return Promise.all(n.map(function(){var e=(0,oe.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(V);o.ports[0].postMessage({status:"done",eventId:u,eventType:f,response:Y})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Ju(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Uv{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var o=this;return(0,oe.Z)(function*(){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let f,w;return new Promise((N,V)=>{const Y=Ju("",20);u.port1.start();const me=setTimeout(()=>{V(new Error("unsupported_event"))},r);w={messageChannel:u,onMessage(st){const St=st;if(St.data.eventId===Y)switch(St.data.status){case"ack":clearTimeout(me),f=setTimeout(()=>{V(new Error("timeout"))},3e3);break;case"done":clearTimeout(f),N(St.data.response);break;default:clearTimeout(me),clearTimeout(f),V(new Error("invalid_response"))}}},o.handlers.add(w),u.port1.addEventListener("message",w.onMessage),o.target.postMessage({eventType:e,eventId:Y,data:t},[u.port2])}).finally(()=>{w&&o.removeMessageHandler(w)})})()}}function Oi(){return window}function y(){return typeof Oi().WorkerGlobalScope<"u"&&"function"==typeof Oi().importScripts}function d(){return(d=(0,oe.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const j="firebaseLocalStorageDb",fe=1,we="firebaseLocalStorage",Xe="fbase_key";class ct{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ut(n,e){return n.transaction([we],e?"readwrite":"readonly").objectStore(we)}function zn(){const n=indexedDB.open(j,fe);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(we,{keyPath:Xe})}catch(o){t(o)}}),n.addEventListener("success",(0,oe.Z)(function*(){const r=n.result;r.objectStoreNames.contains(we)?e(r):(r.close(),yield function en(){const n=indexedDB.deleteDatabase(j);return new ct(n).toPromise()}(),e(yield zn()))}))})}function Vn(n,e,t){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,oe.Z)(function*(n,e,t){const r=Ut(n,!0).put({[Xe]:e,value:t});return new ct(r).toPromise()})).apply(this,arguments)}function or(){return(or=(0,oe.Z)(function*(n,e){const t=Ut(n,!1).get(e),r=yield new ct(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function dr(n,e){const t=Ut(n,!0).delete(e);return new ct(t).toPromise()}const Is=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,oe.Z)(function*(){return t.db||(t.db=yield zn()),t.db})()}_withRetries(t){var r=this;return(0,oe.Z)(function*(){let o=0;for(;;)try{const u=yield r._openDb();return yield t(u)}catch(u){if(o++>3)throw u;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,oe.Z)(function*(){return y()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,oe.Z)(function*(){t.receiver=Fv._getInstance(function A(){return y()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,oe.Z)(function*(o,u){return{keyProcessed:(yield t._poll()).includes(u.key)}});return function(o,u){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,oe.Z)(function*(o,u){return["keyChanged"]});return function(o,u){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,oe.Z)(function*(){var r,o;if(t.activeServiceWorker=yield function p(){return d.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Uv(t.activeServiceWorker);const u=yield t.sender._send("ping",{},800);u&&null!==(r=u[0])&&void 0!==r&&r.fulfilled&&null!==(o=u[0])&&void 0!==o&&o.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,oe.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function m(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,oe.Z)(function*(){try{if(!indexedDB)return!1;const t=yield zn();return yield Vn(t,Rc,"1"),yield dr(t,Rc),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,oe.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var o=this;return(0,oe.Z)(function*(){return o._withPendingWrite((0,oe.Z)(function*(){return yield o._withRetries(u=>Vn(u,t,r)),o.localCache[t]=r,o.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,oe.Z)(function*(){const o=yield r._withRetries(u=>function $n(n,e){return or.apply(this,arguments)}(u,t));return r.localCache[t]=o,o})()}_remove(t){var r=this;return(0,oe.Z)(function*(){return r._withPendingWrite((0,oe.Z)(function*(){return yield r._withRetries(o=>dr(o,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,oe.Z)(function*(){const r=yield t._withRetries(f=>{const w=Ut(f,!1).getAll();return new ct(w).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const o=[],u=new Set;for(const{fbase_key:f,value:w}of r)u.add(f),JSON.stringify(t.localCache[f])!==JSON.stringify(w)&&(t.notifyListeners(f,w),o.push(f));for(const f of Object.keys(t.localCache))t.localCache[f]&&!u.has(f)&&(t.notifyListeners(f,null),o.push(f));return o})()}notifyListeners(t,r){this.localCache[t]=r;const o=this.listeners[t];if(o)for(const u of Array.from(o))u(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,oe.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})(),Nl=1e12;class Rl{constructor(e){this.auth=e,this.counter=Nl,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new Ol(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Nl;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Nl))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,oe.Z)(function*(){var r;return null===(r=t._widgets.get(e||Nl))||void 0===r||r.execute(),""})()}}class Ol{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o="string"==typeof e?document.getElementById(e):e;Ht(o,"argument-error",{appName:t}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bv(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Af=bs("rcb"),Ln=new Ks(3e4,6e4);class er{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=Oi().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return Ht(function Or(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&bo(Oi().grecaptcha)?Promise.resolve(Oi().grecaptcha):new Promise((r,o)=>{const u=Oi().setTimeout(()=>{o(Rn(e,"network-request-failed"))},Ln.get());Oi()[Af]=()=>{Oi().clearTimeout(u),delete Oi()[Af];const w=Oi().grecaptcha;if(!w||!bo(w))return void o(Rn(e,"internal-error"));const N=w.render;w.render=(V,Y)=>{const me=N(V,Y);return this.counter++,me},this.hostLanguage=t,r(w)},wl(`https://www.google.com/recaptcha/api.js??${Ce({onload:Af,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(u),o(Rn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=Oi().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ns{load(e){return(0,oe.Z)(function*(){return new Rl(e)})()}clearedOneInstance(){}}const oa="recaptcha",So={theme:"light",type:"image"};class bu{constructor(e,t=Object.assign({},So),r){this.parameters=t,this.type=oa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Si(r),this.isInvisible="invisible"===this.parameters.size,Ht(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o="string"==typeof e?document.getElementById(e):e;Ht(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ns:new er,this.validateStartingState()}verify(){var e=this;return(0,oe.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(t)||new Promise(u=>{const f=w=>{w&&(e.tokenChangeListeners.delete(f),u(w))};e.tokenChangeListeners.add(f),e.isInvisible&&r.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ht(!this.parameters.sitekey,this.auth,"argument-error"),Ht(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ht(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),"function"==typeof e)e(t);else if("string"==typeof e){const r=Oi()[e];"function"==typeof r&&r(t)}}}assertNotDestroyed(){Ht(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,oe.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const r=document.createElement("div");t.appendChild(r),t=r}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,oe.Z)(function*(){Ht(Gs()&&!y(),e.auth,"internal-error"),yield function _i(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function gc(n){return Eo.apply(this,arguments)}(e.auth);Ht(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return Ht(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Oc{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Zu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function rs(){return(rs=(0,oe.Z)(function*(n,e,t){const r=Si(n),o=yield vg(r,e,Zt(t));return new Oc(o,u=>Fd(r,u))})).apply(this,arguments)}function ho(){return(ho=(0,oe.Z)(function*(n,e,t){const r=Zt(n);yield bc(!1,r,"phone");const o=yield vg(r.auth,e,Zt(t));return new Oc(o,u=>rg(r,u))})).apply(this,arguments)}function Pl(){return(Pl=(0,oe.Z)(function*(n,e,t){const r=Zt(n),o=yield vg(r.auth,e,Zt(t));return new Oc(o,u=>Bd(r,u))})).apply(this,arguments)}function vg(n,e,t){return yg.apply(this,arguments)}function yg(){return yg=(0,oe.Z)(function*(n,e,t){var r;const o=yield t.verify();try{let u;if(Ht("string"==typeof o,n,"argument-error"),Ht(t.type===oa,n,"argument-error"),u="string"==typeof e?{phoneNumber:e}:e,"session"in u){const f=u.session;if("phoneNumber"in u)return Ht("enroll"===f.type,n,"internal-error"),(yield function kv(n,e){return Gr(n,"POST","/v2/accounts/mfaEnrollment:start",Br(n,e))}(n,{idToken:f.credential,phoneEnrollmentInfo:{phoneNumber:u.phoneNumber,recaptchaToken:o}})).phoneSessionInfo.sessionInfo;{Ht("signin"===f.type,n,"internal-error");const w=(null===(r=u.multiFactorHint)||void 0===r?void 0:r.uid)||u.multiFactorUid;return Ht(w,n,"missing-multi-factor-info"),(yield function Sr(n,e){return Gr(n,"POST","/v2/accounts/mfaSignIn:start",Br(n,e))}(n,{mfaPendingCredential:f.credential,mfaEnrollmentId:w,phoneSignInInfo:{recaptchaToken:o}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:f}=yield function Nd(n,e){return bl.apply(this,arguments)}(n,{phoneNumber:u.phoneNumber,recaptchaToken:o});return f}}finally{t._reset()}}),yg.apply(this,arguments)}function Vv(){return(Vv=(0,oe.Z)(function*(n,e){yield ng(Zt(n),e)})).apply(this,arguments)}let Df=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=Si(t)}verifyPhoneNumber(t,r){return vg(this.auth,t,Zt(r))}static credential(t,r){return Zu._fromVerification(t,r)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:r,temporaryProof:o}=t;return r&&o?Zu._fromTokenResponse(r,o):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function Pc(n,e){return e?_s(e):(Ht(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class jv extends Wu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function B0(n){return rf(n.auth,new jv(n),n.bypassAuthState)}function FC(n){const{auth:e,user:t}=n;return Ht(t,e,"internal-error"),nf(t,new jv(n),n.bypassAuthState)}function UC(n){return kc.apply(this,arguments)}function kc(){return(kc=(0,oe.Z)(function*(n){const{auth:e,user:t}=n;return Ht(t,e,"internal-error"),ng(t,new jv(n),n.bypassAuthState)})).apply(this,arguments)}class _g{constructor(e,t,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,oe.Z)(function*(r,o){e.pendingPromise={resolve:r,reject:o};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(u){e.reject(u)}});return function(r,o){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,oe.Z)(function*(){const{urlResponse:r,sessionId:o,postBody:u,tenantId:f,error:w,type:N}=e;if(w)return void t.reject(w);const V={auth:t.auth,requestUri:r,sessionId:o,tenantId:f||void 0,postBody:u||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(N)(V))}catch(Y){t.reject(Y)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B0;case"linkViaPopup":case"linkViaRedirect":return UC;case"reauthViaPopup":case"reauthViaRedirect":return FC;default:dn(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const V0=new Ks(2e3,1e4);function wg(){return(wg=(0,oe.Z)(function*(n,e,t){const r=Si(n);Er(n,e,Ka);const o=Pc(r,t);return new xf(r,"signInViaPopup",e,o).executeNotNull()})).apply(this,arguments)}function Hv(){return(Hv=(0,oe.Z)(function*(n,e,t){const r=Zt(n);Er(r.auth,e,Ka);const o=Pc(r.auth,t);return new xf(r.auth,"reauthViaPopup",e,o,r).executeNotNull()})).apply(this,arguments)}function Eg(){return(Eg=(0,oe.Z)(function*(n,e,t){const r=Zt(n);Er(r.auth,e,Ka);const o=Pc(r.auth,t);return new xf(r.auth,"linkViaPopup",e,o,r).executeNotNull()})).apply(this,arguments)}let xf=(()=>{class n extends _g{constructor(t,r,o,u,f){super(t,r,u,f),this.provider=o,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,oe.Z)(function*(){const r=yield t.execute();return Ht(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return(0,oe.Z)(function*(){ii(1===t.filter.length,"Popup operations only handle one event");const r=Ju();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(o=>{t.reject(o)}),t.resolver._isIframeWebStorageSupported(t.auth,o=>{o||t.reject(Rn(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,o;this.pollId=null!==(o=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==o&&o.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,V0.get())};t()}}return n.currentPopupAction=null,n})();const BC="pendingRedirect",Lc=new Map;class qb extends _g{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,oe.Z)(function*(){let r=Lc.get(t.auth._key());if(!r){try{const u=(yield function $v(n,e){return bg.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(u)}catch(o){r=()=>Promise.reject(o)}Lc.set(t.auth._key(),r)}return t.bypassAuthState||Lc.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,oe.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const o=yield r.auth._redirectUserForId(e.eventId);if(o)return r.user=o,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,oe.Z)(function*(){})()}cleanUp(){}}function bg(){return(bg=(0,oe.Z)(function*(n,e){const t=$0(e),r=Nf(n);if(!(yield r._isAvailable()))return!1;const o="true"===(yield r._get(t));return yield r._remove(t),o})).apply(this,arguments)}function Ig(n,e){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,oe.Z)(function*(n,e){return Nf(n)._set($0(e),"true")})).apply(this,arguments)}function Mf(n,e){Lc.set(n._key(),e)}function Nf(n){return _s(n._redirectPersistence)}function $0(n){return ea(BC,n.config.apiKey,n.name)}function zv(n,e,t){return function Tg(n,e,t){return el.apply(this,arguments)}(n,e,t)}function el(){return(el=(0,oe.Z)(function*(n,e,t){const r=Si(n);Er(n,e,Ka),yield r._initializationPromise;const o=Pc(r,t);return yield Ig(o,r),o._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function z0(n,e,t){return function Wv(n,e,t){return Gv.apply(this,arguments)}(n,e,t)}function Gv(){return(Gv=(0,oe.Z)(function*(n,e,t){const r=Zt(n);Er(r.auth,e,Ka),yield r.auth._initializationPromise;const o=Pc(r.auth,t);yield Ig(o,r.auth);const u=yield G0(r);return o._openRedirect(r.auth,e,"reauthViaRedirect",u)})).apply(this,arguments)}function Qb(n,e,t){return function W0(n,e,t){return kl.apply(this,arguments)}(n,e,t)}function kl(){return(kl=(0,oe.Z)(function*(n,e,t){const r=Zt(n);Er(r.auth,e,Ka),yield r.auth._initializationPromise;const o=Pc(r.auth,t);yield bc(!1,r,e.providerId),yield Ig(o,r.auth);const u=yield G0(r);return o._openRedirect(r.auth,e,"linkViaRedirect",u)})).apply(this,arguments)}function Kv(){return(Kv=(0,oe.Z)(function*(n,e){return yield Si(n)._initializationPromise,Sg(n,e,!1)})).apply(this,arguments)}function Sg(n,e){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,oe.Z)(function*(n,e,t=!1){const r=Si(n),o=Pc(r,e),f=yield new qb(r,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,yield r._persistUserIfCurrent(f.user),yield r._setRedirectUser(null,e)),f})).apply(this,arguments)}function G0(n){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,oe.Z)(function*(n){const e=Ju(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})).apply(this,arguments)}class Zv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Of(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K0(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!K0(e)){const o=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Rn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eI(e))}saveEventToCache(e){this.cachedEventUids.add(eI(e)),this.lastProcessedEventTime=Date.now()}}function eI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function K0({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Z0(n){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,oe.Z)(function*(n,e={}){return Gr(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Pf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tI=/^https?/;function qv(){return(qv=(0,oe.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Z0(n);for(const t of e)try{if(nI(t))return}catch{}dn(n,"unauthorized-domain")})).apply(this,arguments)}function nI(n){const e=Qi(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return""===f.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&f.hostname===r}if(!tI.test(t))return!1;if(Pf.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const rI=new Ks(3e4,6e4);function Yv(){const n=Oi().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Yd=null;const sI=new Ks(5e3,15e3),Jv="__/auth/iframe",kf="emulator/auth/iframe",oI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uI(n){const e=n.config;Ht(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?lo(e,kf):`https://${n.config.authDomain}/${Jv}`,r={apiKey:e.apiKey,appName:n.name,v:Rs},o=aI.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${Ce(r).slice(1)}`}function Ag(){return Ag=(0,oe.Z)(function*(n){const e=yield function Qv(n){return Yd=Yd||function iI(n){return new Promise((e,t)=>{var r,o,u;function f(){Yv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yv(),t(Rn(n,"network-request-failed"))},timeout:rI.get()})}if(null!==(o=null===(r=Oi().gapi)||void 0===r?void 0:r.iframes)&&void 0!==o&&o.Iframe)e(gapi.iframes.getContext());else{if(null===(u=Oi().gapi)||void 0===u||!u.load){const w=bs("iframefcb");return Oi()[w]=()=>{gapi.load?f():t(Rn(n,"network-request-failed"))},wl(`https://apis.google.com/js/api.js?onload=${w}`).catch(N=>t(N))}f()}}).catch(e=>{throw Yd=null,e})}(n),Yd}(n),t=Oi().gapi;return Ht(t,n,"internal-error"),e.open({where:document.body,url:uI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oI,dontclear:!0},r=>new Promise(function(){var o=(0,oe.Z)(function*(u,f){yield r.restyle({setHideOnLeave:!1});const w=Rn(n,"network-request-failed"),N=Oi().setTimeout(()=>{f(w)},sI.get());function V(){Oi().clearTimeout(N),u(r)}r.ping(V).then(V,()=>{f(w)})});return function(u,f){return o.apply(this,arguments)}}()))}),Ag.apply(this,arguments)}const Y0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cI=500,Qd=600,tl="_blank",dI="http://localhost";class Q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const J0="__/auth/handler",HC="emulator/auth/handler",X0=encodeURIComponent("fac");function Dg(n,e,t,r,o,u){return Xv.apply(this,arguments)}function Xv(){return(Xv=(0,oe.Z)(function*(n,e,t,r,o,u){Ht(n.config.authDomain,n,"auth-domain-config-required"),Ht(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Rs,eventId:o};if(e instanceof Ka){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",function tr(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[Y,me]of Object.entries(u||{}))f[Y]=me}if(e instanceof wc){const Y=e.getScopes().filter(me=>""!==me);Y.length>0&&(f.scopes=Y.join(","))}n.tenantId&&(f.tid=n.tenantId);const w=f;for(const Y of Object.keys(w))void 0===w[Y]&&delete w[Y];const N=yield n._getAppCheckToken(),V=N?`#${X0}=${encodeURIComponent(N)}`:"";return`${function ew({config:n}){return n.emulator?lo(n,HC):`https://${n.authDomain}/${J0}`}(n)}?${Ce(w).slice(1)}${V}`})).apply(this,arguments)}const ey="webStorageSupport",Ia=class hI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eu,this._completeRedirectFn=Sg,this._overrideRedirectResult=Mf}_openPopup(e,t,r,o){var u=this;return(0,oe.Z)(function*(){var f;ii(null===(f=u.eventManagers[e._key()])||void 0===f?void 0:f.manager,"_initialize() not called before _openPopup()");const w=yield Dg(e,t,r,Qi(),o);return function VC(n,e,t,r=cI,o=Qd){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let w="";const N=Object.assign(Object.assign({},Y0),{width:r.toString(),height:o.toString(),top:u,left:f}),V=ge().toLowerCase();t&&(w=cs(V)?tl:t),ju(V)&&(e=e||dI,N.scrollbars="yes");const Y=Object.entries(N).reduce((st,[St,sn])=>`${st}${St}=${sn},`,"");if(function Ad(n=ge()){var e;return wa(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(V)&&"_self"!==w)return function jC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",w),new Q0(null);const me=window.open(e||"",w,Y);Ht(me,n,"popup-blocked");try{me.focus()}catch{}return new Q0(me)}(e,w,Ju())})()}_openRedirect(e,t,r,o){var u=this;return(0,oe.Z)(function*(){return yield u._originValidation(e),function Zd(n){Oi().location.href=n}(yield Dg(e,t,r,Qi(),o)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ii(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,oe.Z)(function*(){const r=yield function lI(n){return Ag.apply(this,arguments)}(e),o=new Zv(e);return r.register("authEvent",u=>(Ht(u?.authEvent,e,"invalid-auth-event"),{status:o.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:o},t.iframes[e._key()]=r,o})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ey,{type:ey},o=>{var u;const f=null===(u=o?.[0])||void 0===u?void 0:u[ey];void 0!==f&&t(!!f),dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function q0(n){return qv.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ea()||Hu()||wa()}};class fI{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return ui("unexpected MultiFactorSessionType")}}}class xg extends fI{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new xg(e)}_finalizeEnroll(e,t,r){return function sa(n,e){return Gr(n,"POST","/v2/accounts/mfaEnrollment:finalize",Br(n,e))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function Hr(n,e){return Gr(n,"POST","/v2/accounts/mfaSignIn:finalize",Br(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let pI=(()=>{class n{constructor(){}static assertion(t){return xg._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var nw="@firebase/auth";class gI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,oe.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fc(){return window}Ke(),function iw(n){Ai(new Hn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:w}=r.options;Ht(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const N={apiKey:f,authDomain:w,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Es(n)},V=new br(r,o,u,N);return function Kp(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(_s);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(V,t),V},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ai(new Hn("auth-internal",e=>{const t=Si(e.getProvider("auth").getImmediate());return new gI(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(nw,"0.23.2",function hr(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Di(nw,"0.23.2","esm2017")}("Browser");const uw=2e3;function ny(){return ny=(0,oe.Z)(function*(n,e,t){var r;const{BuildInfo:o}=Fc();ii(e.sessionId,"AuthEvent did not contain a session ID");const u=yield function sy(n){return oy.apply(this,arguments)}(e.sessionId),f={};return wa()?f.ibi=o.packageName:qs()?f.apn=o.packageName:dn(n,"operation-not-supported-in-this-environment"),o.displayName&&(f.appDisplayName=o.displayName),f.sessionId=u,Dg(n,t,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,f)}),ny.apply(this,arguments)}function Mg(){return Mg=(0,oe.Z)(function*(n){const{BuildInfo:e}=Fc(),t={};wa()?t.iosBundleId=e.packageName:qs()?t.androidPackageName=e.packageName:dn(n,"operation-not-supported-in-this-environment"),yield Z0(n,t)}),Mg.apply(this,arguments)}function ry(){return ry=(0,oe.Z)(function*(n,e,t){const{cordova:r}=Fc();let o=()=>{};try{yield new Promise((u,f)=>{let w=null;function N(){var me;u();const st=null===(me=r.plugins.browsertab)||void 0===me?void 0:me.close;"function"==typeof st&&st(),"function"==typeof t?.close&&t.close()}function V(){w||(w=window.setTimeout(()=>{f(Rn(n,"redirect-cancelled-by-user"))},uw))}function Y(){"visible"===document?.visibilityState&&V()}e.addPassiveListener(N),document.addEventListener("resume",V,!1),qs()&&document.addEventListener("visibilitychange",Y,!1),o=()=>{e.removePassiveListener(N),document.removeEventListener("resume",V,!1),document.removeEventListener("visibilitychange",Y,!1),w&&window.clearTimeout(w)}})}finally{o()}}),ry.apply(this,arguments)}function oy(){return oy=(0,oe.Z)(function*(n){const e=function WC(n){if(ii(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(o=>o.toString(16).padStart(2,"0")).join("")}),oy.apply(this,arguments)}const GC=20;class KC extends Zv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,oe.Z)(function*(){yield e.initPromise})()}}function wI(n){return ay.apply(this,arguments)}function ay(){return ay=(0,oe.Z)(function*(n){const e=yield Ng()._get(Xd(n));return e&&(yield Ng()._remove(Xd(n))),e}),ay.apply(this,arguments)}function EI(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<GC;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function Ng(){return _s(Za)}function Xd(n){return ea("authEvent",n.config.apiKey,n.name)}function Rg(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return rt(t.join("?"))}const SI=class TI{constructor(){this._redirectPersistence=Eu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Sg,this._overrideRedirectResult=Mf}_initialize(e){var t=this;return(0,oe.Z)(function*(){const r=e._key();let o=t.eventManagers.get(r);return o||(o=new KC(e),t.eventManagers.set(r,o),t.attachCallbackListeners(e,o)),o})()}_openPopup(e){dn(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,r,o){var u=this;return(0,oe.Z)(function*(){!function iy(n){var e,t,r,o,u,f,w,N,V,Y;const me=Fc();Ht("function"==typeof(null===(e=me?.universalLinks)||void 0===e?void 0:e.subscribe),n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ht(typeof(null===(t=me?.BuildInfo)||void 0===t?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ht("function"==typeof(null===(u=null===(o=null===(r=me?.cordova)||void 0===r?void 0:r.plugins)||void 0===o?void 0:o.browsertab)||void 0===u?void 0:u.openUrl),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ht("function"==typeof(null===(N=null===(w=null===(f=me?.cordova)||void 0===f?void 0:f.plugins)||void 0===w?void 0:w.browsertab)||void 0===N?void 0:N.isAvailable),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ht("function"==typeof(null===(Y=null===(V=me?.cordova)||void 0===V?void 0:V.InAppBrowser)||void 0===Y?void 0:Y.open),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const f=yield u._initialize(e);yield f.initialized(),f.resetRedirect(),function Yb(){Lc.clear()}(),yield u._originValidation(e);const w=function _I(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:EI(),postBody:null,tenantId:n.tenantId,error:Rn(n,"no-auth-event")}}(e,r,o);yield function cw(n,e){return Ng()._set(Xd(n),e)}(e,w);const N=yield function yI(n,e,t){return ny.apply(this,arguments)}(e,w,t),V=yield function lw(n){const{cordova:e}=Fc();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let o=null;r?e.plugins.browsertab.openUrl(n):o=e.InAppBrowser.open(n,function gu(n=ge()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}()?"_blank":"_system","location=yes"),t(o)})})}(N);return function Uc(n,e,t){return ry.apply(this,arguments)}(e,f,V)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function zC(n){return Mg.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:o,BuildInfo:u}=Fc(),f=setTimeout((0,oe.Z)(function*(){yield wI(e),t.onEvent(hw())}),500),w=function(){var Y=(0,oe.Z)(function*(me){clearTimeout(f);const st=yield wI(e);let St=null;st&&me?.url&&(St=function Jd(n,e){var t,r;const o=function dw(n){const e=Rg(n),t=e.link?decodeURIComponent(e.link):void 0,r=Rg(t).link,o=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Rg(o).link||o||r||t||n}(e);if(o.includes("/__/auth/callback")){const u=Rg(o),f=u.firebaseError?function bI(n){try{return JSON.parse(n)}catch{return null}}(decodeURIComponent(u.firebaseError)):null,w=null===(r=null===(t=f?.code)||void 0===t?void 0:t.split("auth/"))||void 0===r?void 0:r[1],N=w?Rn(w):null;return N?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:N,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:o,postBody:null}}return null}(st,me.url)),t.onEvent(St||hw())});return function(st){return Y.apply(this,arguments)}}();typeof r<"u"&&"function"==typeof r.subscribe&&r.subscribe(null,w);const N=o,V=`${u.packageName.toLowerCase()}://`;Fc().handleOpenURL=function(){var Y=(0,oe.Z)(function*(me){if(me.toLowerCase().startsWith(V)&&w({url:me}),"function"==typeof N)try{N(me)}catch(st){console.error(st)}});return function(me){return Y.apply(this,arguments)}}()}};function hw(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Rn("no-auth-event")}}const gw=1e3;function Bc(){var n;return(null===(n=self?.location)||void 0===n?void 0:n.protocol)||null}function Og(n=ge()){return!("file:"!==Bc()&&"ionic:"!==Bc()&&"capacitor:"!==Bc()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function vw(){try{const n=self.localStorage,e=Ju();if(n)return n.setItem(e,"1"),n.removeItem(e),!function mw(n=ge()){return function qC(){return An()&&11===document?.documentMode}()||function eh(n=ge()){return/Edge\/\d+/.test(n)}(n)}()||_e()}catch{return Pg()&&_e()}return!1}function Pg(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function uy(){return(function ZC(){return"http:"===Bc()||"https:"===Bc()}()||ft()||Og())&&!function AI(){return pt()||_t()}()&&vw()&&!Pg()}function yw(){return Og()&&typeof document<"u"}function Fl(){return Fl=(0,oe.Z)(function*(){return!!yw()&&new Promise(n=>{const e=setTimeout(()=>{n(!1)},gw);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})})}),Fl.apply(this,arguments)}const Xs={LOCAL:"local",NONE:"none",SESSION:"session"},Vc=Ht,Ff="persistence";function Uf(n){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,oe.Z)(function*(n){yield n._initializationPromise;const e=dy(),t=ea(Ff,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}),Bf.apply(this,arguments)}function dy(){var n;try{return(null===(n=function ly(){return typeof window<"u"?window:null}())||void 0===n?void 0:n.sessionStorage)||null}catch{return null}}const hy=Ht;class Ul{constructor(){this.browserResolver=_s(Ia),this.cordovaResolver=_s(SI),this.underlyingResolver=null,this._redirectPersistence=Eu,this._completeRedirectFn=Sg,this._overrideRedirectResult=Mf}_initialize(e){var t=this;return(0,oe.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,r,o){var u=this;return(0,oe.Z)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._openPopup(e,t,r,o)})()}_openRedirect(e,t,r,o){var u=this;return(0,oe.Z)(function*(){return yield u.selectUnderlyingResolver(),u.assertedUnderlyingResolver._openRedirect(e,t,r,o)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return yw()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,oe.Z)(function*(){if(e.underlyingResolver)return;const t=yield function kg(){return Fl.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function ww(n){return n.unwrap()}function DI(n){return fy(n)}function fy(n){const{_tokenResponse:e}=n instanceof pe?n.customData:n;if(!e)return null;if(!(n instanceof pe)&&"temporaryProof"in e&&"phoneNumber"in e)return Df.credentialFromResult(n);const t=e.providerId;if(!t||t===k.PASSWORD)return null;let r;switch(t){case k.GOOGLE:r=Qp;break;case k.FACEBOOK:r=Yp;break;case k.GITHUB:r=Ec;break;case k.TWITTER:r=Jh;break;default:const{oauthIdToken:o,oauthAccessToken:u,oauthTokenSecret:f,pendingToken:w,nonce:N}=e;return u||f||o||w?w?t.startsWith("saml.")?Cl._create(t,w):ts._fromParams({providerId:t,signInMethod:t,pendingToken:w,idToken:o,accessToken:u}):new Sl(t).credential({idToken:o,accessToken:u,rawNonce:N}):null}return n instanceof pe?r.credentialFromError(n):r.credentialFromResult(n)}function Ho(n,e){return e.catch(t=>{throw t instanceof pe&&function bw(n,e){var t;const r=null===(t=e.customData)||void 0===t?void 0:t._tokenResponse;if("auth/multi-factor-auth-required"===e?.code)e.resolver=new xI(n,function zd(n,e){var t;const r=Zt(n),o=e;return Ht(e.customData.operationType,r,"argument-error"),Ht(null===(t=o.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,r,"argument-error"),xl._fromError(r,o)}(n,e));else if(r){const o=fy(e),u=e;o&&(u.credential=o,u.tenantId=r.tenantId||void 0,u.email=r.email||void 0,u.phoneNumber=r.phoneNumber||void 0)}}(n,t),t}).then(t=>{const o=t.user;return{operationType:t.operationType,credential:DI(t),additionalUserInfo:Qu(t),user:nl.getOrCreate(o)}})}function py(n,e){return Co.apply(this,arguments)}function Co(){return Co=(0,oe.Z)(function*(n,e){const t=yield e;return{verificationId:t.verificationId,confirm:r=>Ho(n,t.confirm(r))}}),Co.apply(this,arguments)}class xI{constructor(e,t){this.resolver=t,this.auth=function Ew(n){return n.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ho(ww(this.auth),this.resolver.resolveSignIn(e))}}class nl{constructor(e){this._delegate=e,this.multiFactor=function Lv(n){const e=Zt(n);return Gd.has(e)||Gd.set(e,Cf._fromUser(e)),Gd.get(e)}(e)}static getOrCreate(e){return nl.USER_MAP.has(e)||nl.USER_MAP.set(e,new nl(e)),nl.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,oe.Z)(function*(){return Ho(t.auth,rg(t._delegate,e))})()}linkWithPhoneNumber(e,t){var r=this;return(0,oe.Z)(function*(){return py(r.auth,function qa(n,e,t){return ho.apply(this,arguments)}(r._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,oe.Z)(function*(){return Ho(t.auth,function H0(n,e,t){return Eg.apply(this,arguments)}(t._delegate,e,Ul))})()}linkWithRedirect(e){var t=this;return(0,oe.Z)(function*(){return yield Uf(Si(t.auth)),Qb(t._delegate,e,Ul)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,oe.Z)(function*(){return Ho(t.auth,Bd(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return py(this.auth,function di(n,e,t){return Pl.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Ho(this.auth,function Zb(n,e,t){return Hv.apply(this,arguments)}(this._delegate,e,Ul))}reauthenticateWithRedirect(e){var t=this;return(0,oe.Z)(function*(){return yield Uf(Si(t.auth)),z0(t._delegate,e,Ul)})()}sendEmailVerification(e){return function Dl(n,e){return Mc.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,oe.Z)(function*(){return yield function O0(n,e){return tg.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function Cv(n,e){return lg(Zt(n),e,null)}(this._delegate,e)}updatePassword(e){return function Av(n,e){return lg(Zt(n),null,e)}(this._delegate,e)}updatePhoneNumber(e){return function U0(n,e){return Vv.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function Sv(n,e){return bf.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function ug(n,e,t){return _f.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}nl.USER_MAP=new WeakMap;const Lg=Ht;let Fg=(()=>{class n{constructor(t,r){if(this.app=t,r.isInitialized())return this._delegate=r.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:o}=t.options;Lg(o,"invalid-api-key",{appName:t.name}),Lg(o,"invalid-api-key",{appName:t.name});const u=typeof window<"u"?Ul:void 0;this._delegate=r.initialize({options:{persistence:MI(o,t.name),popupRedirectResolver:u}}),this._delegate._updateErrorMap(xt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?nl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,r){!function xd(n,e,t){const r=Si(n);Ht(r._canInitEmulator,r,"emulator-config-failed"),Ht(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!t?.disableWarnings,u=qh(e),{host:f,port:w}=function Md(n){const e=qh(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:yu(r.substr(u.length+1))}}{const[u,f]=r.split(":");return{host:u,port:yu(f)}}}(e);r.config.emulator={url:`${u}//${f}${null===w?"":`:${w}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:f,port:w,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function ks(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(this._delegate,t,r)}applyActionCode(t){return function sg(n,e){return df.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return hf(this._delegate,t)}confirmPasswordReset(t,r){return function Cc(n,e,t){return Vd.apply(this,arguments)}(this._delegate,t,r)}createUserWithEmailAndPassword(t,r){var o=this;return(0,oe.Z)(function*(){return Ho(o._delegate,function ag(n,e,t){return gf.apply(this,arguments)}(o._delegate,t,r))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function yf(n,e){return jd.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function Iv(n,e){return"EMAIL_SIGNIN"===_c.parseLink(e)?.operation}(0,t)}getRedirectResult(){var t=this;return(0,oe.Z)(function*(){Lg(uy(),t._delegate,"operation-not-supported-in-this-environment");const r=yield function Jb(n,e){return Kv.apply(this,arguments)}(t._delegate,Ul);return r?Ho(t._delegate,Promise.resolve(r)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function fw(n,e){Si(n)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,r,o){const{next:u,error:f,complete:w}=gy(t,r,o);return this._delegate.onAuthStateChanged(u,f,w)}onIdTokenChanged(t,r,o){const{next:u,error:f,complete:w}=gy(t,r,o);return this._delegate.onIdTokenChanged(u,f,w)}sendSignInLinkToEmail(t,r){return function mf(n,e,t){return Ac.apply(this,arguments)}(this._delegate,t,r)}sendPasswordResetEmail(t,r){return function cf(n,e,t){return ds.apply(this,arguments)}(this._delegate,t,r||void 0)}setPersistence(t){var r=this;return(0,oe.Z)(function*(){let o;switch(function _w(n,e){Vc(Object.values(Xs).includes(e),n,"invalid-persistence-type"),pt()?Vc(e!==Xs.SESSION,n,"unsupported-persistence-type"):_t()?Vc(e===Xs.NONE,n,"unsupported-persistence-type"):Pg()?Vc(e===Xs.NONE||e===Xs.LOCAL&&_e(),n,"unsupported-persistence-type"):Vc(e===Xs.NONE||vw(),n,"unsupported-persistence-type")}(r._delegate,t),t){case Xs.SESSION:o=Eu;break;case Xs.LOCAL:o=(yield _s(Is)._isAvailable())?Is:Za;break;case Xs.NONE:o=Wa;break;default:return dn("argument-error",{appName:r._delegate.name})}return r._delegate.setPersistence(o)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return Ho(this._delegate,function R0(n){return eg.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return Ho(this._delegate,Fd(this._delegate,t))}signInWithCustomToken(t){return Ho(this._delegate,function ig(n,e){return lf.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,r){return Ho(this._delegate,function bv(n,e,t){return Fd(Zt(n),Od.credential(e,t))}(this._delegate,t,r))}signInWithEmailLink(t,r){return Ho(this._delegate,function Dc(n,e,t){return vf.apply(this,arguments)}(this._delegate,t,r))}signInWithPhoneNumber(t,r){return py(this._delegate,function qd(n,e,t){return rs.apply(this,arguments)}(this._delegate,t,r))}signInWithPopup(t){var r=this;return(0,oe.Z)(function*(){return Lg(uy(),r._delegate,"operation-not-supported-in-this-environment"),Ho(r._delegate,function j0(n,e,t){return wg.apply(this,arguments)}(r._delegate,t,Ul))})()}signInWithRedirect(t){var r=this;return(0,oe.Z)(function*(){return Lg(uy(),r._delegate,"operation-not-supported-in-this-environment"),yield Uf(r._delegate),zv(r._delegate,t,Ul)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function og(n,e){return pf.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=Xs,n})();function gy(n,e,t){let r=n;"function"!=typeof n&&({next:r,error:e,complete:t}=n);const o=r;return{next:f=>o(f&&nl.getOrCreate(f)),error:e,complete:t}}function MI(n,e){const t=function cy(n,e){const t=dy();if(!t)return[];const r=ea(Ff,n,e);switch(t.getItem(r)){case Xs.NONE:return[Wa];case Xs.LOCAL:return[Is,Eu];case Xs.SESSION:return[Eu];default:return[]}}(n,e);if(typeof self<"u"&&!t.includes(Is)&&t.push(Is),typeof window<"u")for(const r of[Za,Eu])t.includes(r)||t.push(r);return t.includes(Wa)||t.push(Wa),t}class my{constructor(){this.providerId="phone",this._delegate=new Df(ww(U.auth()))}static credential(e,t){return Df.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}my.PHONE_SIGN_IN_METHOD=Df.PHONE_SIGN_IN_METHOD,my.PROVIDER_ID=Df.PROVIDER_ID;const NI=Ht;class Iw{constructor(e,t,r=U.app()){var o;NI(null===(o=r.options)||void 0===o?void 0:o.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new bu(e,t,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function OI(n){n.INTERNAL.registerComponent(new Hn("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Fg(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Pe_EMAIL_SIGNIN,PASSWORD_RESET:Pe_PASSWORD_RESET,RECOVER_EMAIL:Pe_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Pe_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Pe_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Pe_VERIFY_EMAIL}},EmailAuthProvider:Od,FacebookAuthProvider:Yp,GithubAuthProvider:Ec,GoogleAuthProvider:Qp,OAuthProvider:Sl,SAMLAuthProvider:Pd,PhoneAuthProvider:my,PhoneMultiFactorGenerator:pI,RecaptchaVerifier:Iw,TwitterAuthProvider:Jh,Auth:Fg,AuthCredential:Wu,Error:pe}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion("@firebase/auth-compat","0.4.2")}(U);var In,vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ya={},yy=yy||{},ar=vy||self;function Ug(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function $o(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var wy="closure_uid_"+(1e9*Math.random()>>>0),PI=0;function Tw(n,e,t){return n.call.apply(n.bind,arguments)}function kI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function fo(n,e,t){return(fo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tw:kI).apply(null,arguments)}function Bg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function hs(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,u){for(var f=Array(arguments.length-2),w=2;w<arguments.length;w++)f[w-2]=arguments[w];return e.prototype[o].apply(r,f)}}function Bl(){this.s=this.s,this.o=this.o}Bl.prototype.s=!1,Bl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _y(n){Object.prototype.hasOwnProperty.call(n,wy)&&n[wy]||(n[wy]=++PI)}(this)},Bl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Vf=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function th(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function jf(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Ug(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let f=0;f<u;f++)n[o+f]=r[f]}else n.push(r)}}function Ao(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ao.prototype.h=function(){this.defaultPrevented=!0};var Ey=function(){if(!ar.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ar.addEventListener("test",()=>{},e),ar.removeEventListener("test",()=>{},e)}catch{}return n}();function Vg(n){return/^[\s\xa0]*$/.test(n)}function Hf(){var n=ar.navigator;return n&&(n=n.userAgent)?n:""}function Qa(n){return-1!=Hf().indexOf(n)}function jg(n){return jg[" "](n),n}jg[" "]=function(){};var Hg,by=Qa("Opera"),zo=Qa("Trident")||Qa("MSIE"),$f=Qa("Edge"),nh=$f||zo,rh=Qa("Gecko")&&!(-1!=Hf().toLowerCase().indexOf("webkit")&&!Qa("Edge"))&&!(Qa("Trident")||Qa("MSIE"))&&!Qa("Edge"),FI=-1!=Hf().toLowerCase().indexOf("webkit")&&!Qa("Edge");function Iy(){var n=ar.document;return n?n.documentMode:void 0}e:{var Ty="",Sy=function(){var n=Hf();return rh?/rv:([^\);]+)(\)|;)/.exec(n):$f?/Edge\/([\d\.]+)/.exec(n):zo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):FI?/WebKit\/(\S+)/.exec(n):by?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(Sy&&(Ty=Sy?Sy[1]:""),zo){var jc=Iy();if(null!=jc&&jc>parseFloat(Ty)){Hg=String(jc);break e}}Hg=Ty}var BI=ar.document&&zo&&(Iy()||parseInt(Hg,10))||void 0;function zf(n,e){if(Ao.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(rh){e:{try{jg(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:VI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&zf.$.h.call(this)}}hs(zf,Ao);var VI={2:"touch",3:"pen",4:"mouse"};zf.prototype.h=function(){zf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wf="closure_listenable_"+(1e6*Math.random()|0),jI=0;function HI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++jI,this.fa=this.ia=!1}function $g(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function zg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Cw(n){const e={};for(const t in n)e[t]=n[t];return e}const Wg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Aw(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<Wg.length;u++)t=Wg[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Gg(n){this.src=n,this.g={},this.h=0}function Dy(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=Vf(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&($g(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function xy(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return o}return-1}Gg.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var f=xy(n,e,r,o);return-1<f?(e=n[f],t||(e.ia=!1)):((e=new HI(e,this.src,u,!!r,o)).ia=t,n.push(e)),e};var My="closure_lm_"+(1e6*Math.random()|0),Ny={};function Dw(n,e,t,r,o){if(r&&r.once)return Mw(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Dw(n,e[u],t,r,o);return null}return t=Gf(t),n&&n[Wf]?n.O(e,t,$o(r)?!!r.capture:!!r,o):Ry(n,e,t,!1,r,o)}function Ry(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var f=$o(o)?!!o.capture:!!o,w=Oy(n);if(w||(n[My]=w=new Gg(n)),(t=w.add(e,t,r,f,u)).proxy)return t;if(r=function xw(){const e=Zg;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Ey||(o=f),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(zI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Mw(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Mw(n,e[u],t,r,o);return null}return t=Gf(t),n&&n[Wf]?n.P(e,t,$o(r)?!!r.capture:!!r,o):Ry(n,e,t,!0,r,o)}function $I(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)$I(n,e[u],t,r,o);else r=$o(r)?!!r.capture:!!r,t=Gf(t),n&&n[Wf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=xy(u=n.g[e],t,r,o))&&($g(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Oy(n))&&(e=n.g[e.toString()],n=-1,e&&(n=xy(e,t,r,o)),(t=-1<n?e[n]:null)&&Kg(t))}function Kg(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Wf])Dy(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(zI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Oy(e))?(Dy(t,n),0==t.h&&(t.src=null,e[My]=null)):$g(n)}}}function zI(n){return n in Ny?Ny[n]:Ny[n]="on"+n}function Zg(n,e){if(n.fa)n=!0;else{e=new zf(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Kg(n),n=t.call(r,e)}return n}function Oy(n){return(n=n[My])instanceof Gg?n:null}var Py="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gf(n){return"function"==typeof n?n:(n[Py]||(n[Py]=function(e){return n.handleEvent(e)}),n[Py])}function Us(){Bl.call(this),this.i=new Gg(this),this.S=this,this.J=null}function hi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ao(e,n);else if(e instanceof Ao)e.target=e.target||n;else{var o=e;Aw(e=new Ao(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var f=e.g=t[u];o=Vl(f,r,!0,e)&&o}if(o=Vl(f=e.g=n,r,!0,e)&&o,o=Vl(f,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Vl(f=e.g=t[u],r,!1,e)&&o}function Vl(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var f=e[u];if(f&&!f.fa&&f.capture==t){var w=f.listener,N=f.la||f.src;f.ia&&Dy(n.i,f),o=!1!==w.call(N,r)&&o}}return o&&!r.defaultPrevented}hs(Us,Bl),Us.prototype[Wf]=!0,Us.prototype.removeEventListener=function(n,e,t,r){$I(this,n,e,t,r)},Us.prototype.N=function(){if(Us.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)$g(t[r]);delete n.g[e],n.h--}}this.J=null},Us.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Us.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Bs=ar.JSON.stringify;function qg(){var n=jl;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Yg=new class Hc{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ih,n=>n.reset());class ih{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function sh(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function oh(n){ar.setTimeout(()=>{throw n},0)}let Iu,Tu=!1,jl=new class Ta{constructor(){this.h=this.g=null}add(e,t){const r=Yg.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},$c=()=>{const n=ar.Promise.resolve(void 0);Iu=()=>{n.then(ah)}};var ah=()=>{for(var n;n=qg();){try{n.h.call(n.g)}catch(t){oh(t)}var e=Yg;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Tu=!1};function rl(n,e){Us.call(this),this.h=n||1,this.g=e||ar,this.j=fo(this.qb,this),this.l=Date.now()}function Qg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Jg(n,e,t){if("function"==typeof n)t&&(n=fo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fo(n.handleEvent,n)}return 2147483647<Number(e)?-1:ar.setTimeout(n,e||0)}function ky(n){n.g=Jg(()=>{n.g=null,n.i&&(n.i=!1,ky(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hs(rl,Us),(In=rl.prototype).ga=!1,In.T=null,In.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),hi(this,"tick"),this.ga&&(Qg(this),this.start()))}},In.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},In.N=function(){rl.$.N.call(this),Qg(this),delete this.g};class Nw extends Bl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ky(this)}N(){super.N(),this.g&&(ar.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uh(n){Bl.call(this),this.h=n,this.g={}}hs(uh,Bl);var Ly=[];function Fy(n,e,t,r){Array.isArray(t)||(t&&(Ly[0]=t.toString()),t=Ly);for(var o=0;o<t.length;o++){var u=Dw(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Uy(n){zg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Kg(e)},n),n.g={}}function Kf(){this.g=!0}function zc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Rw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var f=1;f<o.length;f++)o[f]=""}}}return Bs(t)}catch{return e}}(n,t)+(r?" "+r:"")})}uh.prototype.N=function(){uh.$.N.call(this),Uy(this)},uh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kf.prototype.Ea=function(){this.g=!1},Kf.prototype.info=function(){};var il={},Xg=null;function em(){return Xg=Xg||new Us}function Zf(n){Ao.call(this,il.Ta,n)}function Hl(n){const e=em();hi(e,new Zf(e))}function tm(n,e){Ao.call(this,il.STAT_EVENT,n),this.stat=e}function Do(n){const e=em();hi(e,new tm(e,n))}function qf(n,e){Ao.call(this,il.Ua,n),this.size=e}function $l(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ar.setTimeout(function(){n()},e)}il.Ta="serverreachability",hs(Zf,Ao),il.STAT_EVENT="statevent",hs(tm,Ao),il.Ua="timingevent",hs(qf,Ao);var lh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},By={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yf(){}function jy(){}Yf.prototype.h=null;var rm,Wc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function nm(){Ao.call(this,"d")}function Hy(){Ao.call(this,"c")}function Qf(){}function ch(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new uh(this),this.P=ZI,this.V=new rl(n=nh?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $y}function $y(){this.i=null,this.g="",this.h=!1}hs(nm,Ao),hs(Hy,Ao),hs(Qf,Yf),Qf.prototype.g=function(){return new XMLHttpRequest},Qf.prototype.i=function(){return{}},rm=new Qf;var ZI=45e3,im={},Jf={};function Xf(n,e,t){n.L=1,n.v=om(ol(e)),n.s=t,n.S=!0,ep(n,null)}function ep(n,e){n.G=Date.now(),dh(n),n.A=ol(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Fw(t.i,"t",r),n.C=0,t=n.l.J,n.h=new $y,n.g=o_(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Nw(fo(n.Pa,n,n.g),n.O)),Fy(n.U,n.g,"readystatechange",n.nb),e=n.I?Cw(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Hl(),function WI(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var f="",w=u.split("&"),N=0;N<w.length;N++){var V=w[N].split("=");if(1<V.length){var Y=V[0];V=V[1];var me=Y.split("_");f=2<=me.length&&"type"==me[1]?f+(Y+"=")+V+"&":f+(Y+"=redacted&")}}else f=null;else f=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.W,n.s)}function zy(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Wy(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=Ow(n,t),o==Jf){4==e&&(n.o=4,Do(14),r=!1),zc(n.j,n.m,null,"[Incomplete Response]");break}if(o==im){n.o=4,Do(15),zc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}zc(n.j,n.m,o,null),fh(n,o)}zy(n)&&o!=Jf&&o!=im&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Do(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),s_(e),e.M=!0,Do(11))):(zc(n.j,n.m,t,"[Invalid Chunked Response]"),zl(n),hh(n))}function Ow(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Jf:(t=Number(e.substring(t,r)),isNaN(t)?im:(r+=1)+t>e.length?Jf:(e=e.slice(r,r+t),n.C=r+t,e))}function dh(n){n.Y=Date.now()+n.P,Gy(n,n.P)}function Gy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$l(fo(n.lb,n),e)}function tp(n){n.B&&(ar.clearTimeout(n.B),n.B=null)}function hh(n){0==n.l.H||n.J||Zw(n.l,n)}function zl(n){tp(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Qg(n.V),Uy(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function fh(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Yy(t.i,n)))if(!n.K&&Yy(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;vm(t),gm(t)}i_(t),Do(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=$l(fo(t.ib,t),6e3));if(1>=Ja(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Yc(t,11)}else if((n.K||t.g==n)&&vm(t),!Vg(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let V=o[e];if(t.V=V[0],V=V[1],2==t.H)if("c"==V[0]){t.K=V[1],t.pa=V[2];const Y=V[3];null!=Y&&(t.ra=Y,t.l.info("VER="+t.ra));const me=V[4];null!=me&&(t.Ga=me,t.l.info("SVER="+t.Ga));const st=V[5];null!=st&&"number"==typeof st&&0<st&&(t.L=r=1.5*st,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const St=n.g;if(St){const sn=St.g?St.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sn){var u=r.i;u.g||-1==sn.indexOf("spdy")&&-1==sn.indexOf("quic")&&-1==sn.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(um(u,u.h),u.h=null))}if(r.F){const En=St.g?St.g.getResponseHeader("X-HTTP-Session-Id"):null;En&&(r.Da=En,wi(r.I,r.F,En))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=n;if((r=t).wa=Qw(r,r.J?r.pa:null,r.Y),f.K){Xa(r.i,f);var w=f,N=r.L;N&&w.setTimeout(N),w.B&&(tp(w),dh(w)),r.g=f}else Gw(r);0<t.j.length&&mm(t)}else"stop"!=V[0]&&"close"!=V[0]||Yc(t,7);else 3==t.H&&("stop"==V[0]||"close"==V[0]?"stop"==V[0]?Yc(t,7):pm(t):"noop"!=V[0]&&t.h&&t.h.Aa(V),t.A=0)}Hl()}catch{}}function Pw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ug(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function qI(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ug(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Wl(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ug(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(In=ch.prototype).setTimeout=function(n){this.P=n},In.nb=function(n){n=n.target;const e=this.M;e&&3==tu(n)?e.l():this.Pa(n)},In.Pa=function(n){try{if(n==this.g)e:{const Y=tu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Y)&&(3!=Y||nh||this.g&&(this.h.h||this.g.ja()||t_(this.g)))){this.J||4!=Y||7==e||Hl(),tp(this);var t=this.g.da();this.ca=t;t:if(zy(this)){var r=t_(this.g);n="";var o=r.length,u=4==tu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zl(this),hh(this);var f="";break t}this.h.i=new ar.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function GI(n,e,t,r,o,u,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+f})}(this.j,this.u,this.A,this.m,this.W,Y,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var w,N=this.g;if((w=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vg(w)){var V=w;break t}}V=null}if(!(t=V)){this.i=!1,this.o=3,Do(12),zl(this),hh(this);break e}zc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fh(this,t)}this.S?(Wy(this,Y,f),nh&&this.i&&3==Y&&(Fy(this.U,this.V,"tick",this.mb),this.V.start())):(zc(this.j,this.m,f,null),fh(this,f)),4==Y&&zl(this),this.i&&!this.J&&(4==Y?Zw(this.l,this):(this.i=!1,dh(this)))}else(function Hw(n){const e={};n=(n.g&&2<=tu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Vg(n[r]))continue;var t=sh(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[o]||[];e[o]=u,u.push(t)}!function Ay(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Do(12)):(this.o=0,Do(13)),zl(this),hh(this)}}}catch{}},In.mb=function(){if(this.g){var n=tu(this.g),e=this.g.ja();this.C<e.length&&(tp(this),Wy(this,n,e),this.i&&4!=n&&dh(this))}},In.cancel=function(){this.J=!0,zl(this)},In.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function KI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Hl(),Do(17)),zl(this),this.o=2,hh(this)):Gy(this,this.Y-n)};var sm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof sl){this.h=n.h,ph(this,n.j),this.s=n.s,this.g=n.g,Ky(this,n.m),this.l=n.l;var e=n.i,t=new mh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),YI(this,t),this.o=n.o}else n&&(e=String(n).match(sm))?(this.h=!1,ph(this,e[1]||"",!0),this.s=gh(e[2]||""),this.g=gh(e[3]||"",!0),Ky(this,e[4]),this.l=gh(e[5]||"",!0),YI(this,e[6]||"",!0),this.o=gh(e[7]||"")):(this.h=!1,this.i=new mh(null,this.h))}function ol(n){return new sl(n)}function ph(n,e,t){n.j=t?gh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ky(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function YI(n,e,t){e instanceof mh?(n.i=e,function eT(n,e){e&&!n.j&&(al(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Kc(this,r),Fw(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=np(e,kw)),n.i=new mh(e,n.h))}function wi(n,e,t){n.i.set(e,t)}function om(n){return wi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function gh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function np(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Ts),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Ts(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}sl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(np(e,Zy,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(np(e,Zy,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(np(t,"/"==t.charAt(0)?JI:QI,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",np(t,XI)),n.join("")};var Zy=/[#\/\?@]/g,QI=/[#\?:]/g,JI=/[#\?]/g,kw=/[#\?@]/g,XI=/#/g;function mh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function al(n){n.g||(n.g=new Map,n.h=0,n.i&&function Gc(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Kc(n,e){al(n),e=Zc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Lw(n,e){return al(n),e=Zc(n,e),n.g.has(e)}function Fw(n,e,t){Kc(n,e),0<t.length&&(n.i=null,n.g.set(Zc(n,e),th(t)),n.h+=t.length)}function Zc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function tT(n){this.l=n||qy,n=ar.PerformanceNavigationTiming?0<(n=ar.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ar.g&&ar.g.Ka&&ar.g.Ka()&&ar.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(In=mh.prototype).add=function(n,e){al(this),this.i=null,n=Zc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},In.forEach=function(n,e){al(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},In.ta=function(){al(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},In.Z=function(n){al(this);let e=[];if("string"==typeof n)Lw(this,n)&&(e=e.concat(this.g.get(Zc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},In.set=function(n,e){return al(this),this.i=null,Lw(this,n=Zc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},In.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},In.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),f=this.Z(r);for(r=0;r<f.length;r++){var o=u;""!==f[r]&&(o+="="+encodeURIComponent(String(f[r]))),n.push(o)}}return this.i=n.join("&")};var qy=10;function am(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ja(n){return n.h?1:n.g?n.g.size:0}function Yy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function um(n,e){n.g?n.g.add(e):n.h=e}function Xa(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Sa(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return th(n.i)}tT.prototype.cancel=function(){if(this.i=Sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var eu=class{stringify(n){return ar.JSON.stringify(n,void 0)}parse(n){return ar.JSON.parse(n,void 0)}};function Bw(){this.g=new eu}function Vw(n,e,t){const r=t||"";try{Pw(n,function(o,u){let f=o;$o(o)&&(f=Bs(o)),e.push(r+u+"="+encodeURIComponent(f))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function lm(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function rp(n){this.l=n.fc||null,this.j=n.ob||!1}function cm(n,e){Us.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=ip,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hs(rp,Yf),rp.prototype.g=function(){return new cm(this.l,this.j)},rp.prototype.i=function(n){return function(){return n}}({}),hs(cm,Us);var ip=0;function vh(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function sp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yh(n)}function yh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(In=cm.prototype).open=function(n,e){if(this.readyState!=ip)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,yh(this)},In.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ar).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},In.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sp(this)),this.readyState=ip},In.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yh(this)),this.g&&(this.readyState=3,yh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ar.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vh(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},In.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?sp(this):yh(this),3==this.readyState&&vh(this)}},In.Za=function(n){this.g&&(this.response=this.responseText=n,sp(this))},In.Ya=function(n){this.g&&(this.response=n,sp(this))},In.ka=function(){this.g&&sp(this)},In.setRequestHeader=function(n,e){this.v.append(n,e)},In.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},In.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(cm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var rT=ar.JSON.parse;function Wi(n){Us.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Qy,this.L=this.M=!1}hs(Wi,Us);var Qy="",jw=/^https?$/i,dm=["POST","PUT"];function Jy(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Xy(n),qc(n)}function Xy(n){n.F||(n.F=!0,hi(n,"complete"),hi(n,"error"))}function hm(n){if(n.h&&typeof yy<"u"&&(!n.C[1]||4!=tu(n)||2!=n.da()))if(n.v&&4==tu(n))Jg(n.La,0,n);else if(hi(n,"readystatechange"),4==tu(n)){n.h=!1;try{const f=n.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var o=String(n.I).match(sm)[1]||null;!o&&ar.self&&ar.self.location&&(o=ar.self.location.protocol.slice(0,-1)),r=!jw.test(o?o.toLowerCase():"")}t=r}if(t)hi(n,"complete"),hi(n,"success");else{n.m=6;try{var u=2<tu(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",Xy(n)}}finally{qc(n)}}}function qc(n,e){if(n.g){e_(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||hi(n,"ready");try{t.onreadystatechange=r}catch{}}}function e_(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ar.clearTimeout(n.A),n.A=null)}function tu(n){return n.g?n.g.readyState:0}function t_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Qy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function n_(n){let e="";return zg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function fm(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=n_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):wi(n,e,t))}function _h(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function r_(n){this.Ga=0,this.j=[],this.l=new Kf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_h("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_h("baseRetryDelayMs",5e3,n),this.hb=_h("retryDelaySeedMs",1e4,n),this.eb=_h("forwardChannelMaxRetries",2,n),this.xa=_h("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new tT(n&&n.concurrentRequestLimit),this.Ja=new Bw,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function pm(n){if($w(n),3==n.H){var e=n.W++,t=ol(n.I);if(wi(t,"SID",n.K),wi(t,"RID",e),wi(t,"TYPE","terminate"),op(n,t),(e=new ch(n,n.l,e)).L=2,e.v=om(ol(t)),t=!1,ar.navigator&&ar.navigator.sendBeacon)try{t=ar.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ar.Image&&((new Image).src=e.v,t=!0),t||(e.g=o_(e.l,null),e.g.ha(e.v)),e.G=Date.now(),dh(e)}Yw(n)}function gm(n){n.g&&(s_(n),n.g.cancel(),n.g=null)}function $w(n){gm(n),n.u&&(ar.clearTimeout(n.u),n.u=null),vm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ar.clearTimeout(n.m),n.m=null)}function mm(n){if(!am(n.i)&&!n.m){n.m=!0;var e=n.Na;Iu||$c(),Tu||(Iu(),Tu=!0),jl.add(e,n),n.C=0}}function zw(n,e){var t;t=e?e.m:n.W++;const r=ol(n.I);wi(r,"SID",n.K),wi(r,"RID",t),wi(r,"AID",n.V),op(n,r),n.o&&n.s&&fm(r,n.o,n.s),t=new ch(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Ww(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),um(n.i,t),Xf(t,r,e)}function op(n,e){n.na&&zg(n.na,function(t,r){wi(e,r,t)}),n.h&&Pw({},function(t,r){wi(e,r,t)})}function Ww(n,e,t){t=Math.min(n.j.length,t);var r=n.h?fo(n.h.Va,n.h,n):null;e:{var o=n.j;let u=-1;for(;;){const f=["count="+t];-1==u?0<t?(u=o[0].g,f.push("ofs="+u)):u=0:f.push("ofs="+u);let w=!0;for(let N=0;N<t;N++){let V=o[N].g;const Y=o[N].map;if(V-=u,0>V)u=Math.max(0,o[N].g-100),w=!1;else try{Vw(Y,f,"req"+V+"_")}catch{r&&r(Y)}}if(w){r=f.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function Gw(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Iu||$c(),Tu||(Iu(),Tu=!0),jl.add(e,n),n.A=0}}function i_(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=$l(fo(n.Ma,n),qw(n,n.A)),n.A++,0))}function s_(n){null!=n.B&&(ar.clearTimeout(n.B),n.B=null)}function Kw(n){n.g=new ch(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ol(n.wa);wi(e,"RID","rpc"),wi(e,"SID",n.K),wi(e,"AID",n.V),wi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&wi(e,"TO",n.qa),wi(e,"TYPE","xmlhttp"),op(n,e),n.o&&n.s&&fm(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=om(ol(e)),t.s=null,t.S=!0,ep(t,n)}function vm(n){null!=n.v&&(ar.clearTimeout(n.v),n.v=null)}function Zw(n,e){var t=null;if(n.g==e){vm(n),s_(n),n.g=null;var r=2}else{if(!Yy(n.i,e))return;t=e.F,Xa(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;hi(r=em(),new qf(r,t)),mm(n)}else Gw(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function sT(n,e){return!(Ja(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=$l(fo(n.Na,n,e),qw(n,n.C)),n.C++,0)))}(n,e)||2==r&&i_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Yc(n,5);break;case 4:Yc(n,10);break;case 3:Yc(n,6);break;default:Yc(n,2)}}function qw(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Yc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=fo(n.pb,n);t||(t=new sl("//www.google.com/images/cleardot.gif"),ar.location&&"http"==ar.location.protocol||ph(t,"https"),om(t)),function nT(n,e){const t=new Kf;if(ar.Image){const r=new Image;r.onload=Bg(lm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Bg(lm,t,r,"TestLoadImage: error",!1,e),r.onabort=Bg(lm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bg(lm,t,r,"TestLoadImage: timeout",!1,e),ar.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Do(2);n.H=0,n.h&&n.h.za(e),Yw(n),$w(n)}function Yw(n){if(n.H=0,n.ma=[],n.h){const e=Sa(n.i);(0!=e.length||0!=n.j.length)&&(jf(n.ma,e),jf(n.ma,n.j),n.i.i.length=0,th(n.j),n.j.length=0),n.h.ya()}}function Qw(n,e,t){var r=t instanceof sl?ol(t):new sl(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Ky(r,r.m);else{var o=ar.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new sl(null);r&&ph(u,r),e&&(u.g=e),o&&Ky(u,o),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&wi(r,t,e),wi(r,"VER",n.ra),op(n,r),r}function o_(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wi(t&&n.Ha&&!n.va?new rp({ob:!0}):n.va)).Oa(n.J),e}function a_(){}function ap(){if(zo&&!(10<=Number(BI)))throw Error("Environmental error: no available transport.")}function Wo(n,e){Us.call(this),this.g=new r_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Vg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Qc(this)}function u_(n){nm.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function l_(){Hy.call(this),this.status=1}function Qc(n){this.g=n}function Ca(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ym(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],f=(e=n.g[0])+(u^(t=n.g[1])&((o=n.g[2])^u))+r[0]+3614090360&4294967295;f=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=(t=(o=(u=(e=t+(f<<7&4294967295|f>>>25))+((f=u+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=o+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^o&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^t&(o^u))+r[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=u+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=o+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^o&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^t&(o^u))+r[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=u+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=o+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^o&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^t&(o^u))+r[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=u+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=o+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^o&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(o^u&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=o+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(o^u))+r[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(o^u&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=o+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(o^u))+r[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(o^u&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=o+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(o^u))+r[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(o^u&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=u+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=o+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(u^e&(o^u))+r[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^o^u)+r[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=o+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(o^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^o^u)+r[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=o+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(o^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^o^u)+r[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=o+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(o^u^e)+r[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^o^u)+r[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=o+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(o^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(o^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=o+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(u^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(o^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=o+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(u^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(o^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=o+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(u^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((u=(e=t+((f=e+(o^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=u+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((o=u+((f=o+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(f<<21&4294967295|f>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+u&4294967295}function $r(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var u=0|n[o];r&&u==e||(t[o]=u,r=!1)}this.g=t}(In=Wi.prototype).Oa=function(n){this.M=n},In.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rm.g(),this.C=function Vy(n){return n.h||(n.h=n.i())}(this.u?this.u:rm),this.g.onreadystatechange=fo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void Jy(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=ar.FormData&&n instanceof ar.FormData,!(0<=Vf(dm,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,f]of t)this.g.setRequestHeader(u,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{e_(this),0<this.B&&((this.L=function iT(n){return zo&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fo(this.ua,this)):this.A=Jg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Jy(this,u)}},In.ua=function(){typeof yy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hi(this,"timeout"),this.abort(8))},In.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,hi(this,"complete"),hi(this,"abort"),qc(this))},In.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qc(this,!0)),Wi.$.N.call(this)},In.La=function(){this.s||(this.G||this.v||this.l?hm(this):this.kb())},In.kb=function(){hm(this)},In.isActive=function(){return!!this.g},In.da=function(){try{return 2<tu(this)?this.g.status:-1}catch{return-1}},In.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},In.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),rT(e)}},In.Ia=function(){return this.m},In.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(In=r_.prototype).ra=8,In.H=1,In.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new ch(this,this.l,n);let u=this.s;if(this.U&&(u?(u=Cw(u),Aw(u,this.U)):u=this.U),null!==this.o||this.O||(o.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ww(this,o,e),wi(t=ol(this.I),"RID",n),wi(t,"CVER",22),this.F&&wi(t,"X-HTTP-Session-Id",this.F),op(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(n_(u)))+"&"+e:this.o&&fm(t,this.o,u)),um(this.i,o),this.bb&&wi(t,"TYPE","init"),this.P?(wi(t,"$req",e),wi(t,"SID","null"),o.aa=!0,Xf(o,t,null)):Xf(o,t,e),this.H=2}}else 3==this.H&&(n?zw(this,n):0==this.j.length||am(this.i)||zw(this))},In.Ma=function(){if(this.u=null,Kw(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=$l(fo(this.jb,this),n)}},In.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Do(10),gm(this),Kw(this))},In.ib=function(){null!=this.v&&(this.v=null,gm(this),i_(this),Do(19))},In.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Do(2)):(this.l.info("Failed to ping google.com"),Do(1))},In.isActive=function(){return!!this.h&&this.h.isActive(this)},(In=a_.prototype).Ba=function(){},In.Aa=function(){},In.za=function(){},In.ya=function(){},In.isActive=function(){return!0},In.Va=function(){},ap.prototype.g=function(n,e){return new Wo(n,e)},hs(Wo,Us),Wo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Do(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Qw(n,null,n.Y),mm(n)},Wo.prototype.close=function(){pm(this.g)},Wo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Bs(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&mm(e)},Wo.prototype.N=function(){this.g.h=null,delete this.j,pm(this.g),delete this.g,Wo.$.N.call(this)},hs(u_,nm),hs(l_,Hy),hs(Qc,a_),Qc.prototype.Ba=function(){hi(this.g,"a")},Qc.prototype.Aa=function(n){hi(this.g,new u_(n))},Qc.prototype.za=function(n){hi(this.g,new l_)},Qc.prototype.ya=function(){hi(this.g,"b")},hs(Ca,function Jw(){this.blockSize=-1}),Ca.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ca.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,u=0;u<e;){if(0==o)for(;u<=t;)ym(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[o++]=n.charCodeAt(u++),o==this.blockSize){ym(this,r),o=0;break}}else for(;u<e;)if(r[o++]=n[u++],o==this.blockSize){ym(this,r),o=0;break}}this.h=o,this.i+=e},Ca.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Jc={};function c_(n){return-128<=n&&128>n?function Sw(n,e){var t=Jc;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new $r([0|e],0>e?-1:0)}):new $r([0|n],0>n?-1:0)}function Su(n){if(isNaN(n)||!isFinite(n))return Gl;if(0>n)return On(Su(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Xw;return new $r(e,0)}var Xw=4294967296,Gl=c_(0),eE=c_(1),d_=c_(16777216);function Cu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function nu(n){return-1==n.h}function On(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new $r(t,~n.h).add(eE)}function _m(n,e){return n.add(On(e))}function wm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function up(n,e){this.g=n,this.h=e}function ul(n,e){if(Cu(e))throw Error("division by zero");if(Cu(n))return new up(Gl,Gl);if(nu(n))return e=ul(On(n),e),new up(On(e.g),On(e.h));if(nu(e))return e=ul(n,On(e)),new up(On(e.g),e.h);if(30<n.g.length){if(nu(n)||nu(e))throw Error("slowDivide_ only works with positive integers.");for(var t=eE,r=e;0>=r.X(n);)t=tE(t),r=tE(r);var o=ll(t,1),u=ll(r,1);for(r=ll(r,2),t=ll(t,2);!Cu(r);){var f=u.add(r);0>=f.X(n)&&(o=o.add(t),u=f),r=ll(r,1),t=ll(t,1)}return e=_m(n,o.R(e)),new up(o,e)}for(o=Gl;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),f=(u=Su(t)).R(e);nu(f)||0<f.X(n);)f=(u=Su(t-=r)).R(e);Cu(u)&&(u=eE),o=o.add(u),n=_m(n,f)}return new up(o,n)}function tE(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new $r(t,n.h)}function ll(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],u=0;u<r;u++)o[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new $r(o,n.h)}(In=$r.prototype).ea=function(){if(nu(this))return-On(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Xw+r)*e,e*=Xw}return n},In.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Cu(this))return"0";if(nu(this))return"-"+On(this).toString(n);for(var e=Su(Math.pow(n,6)),t=this,r="";;){var o=ul(t,e).g,u=((0<(t=_m(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Cu(t=o))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},In.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},In.X=function(n){return nu(n=_m(this,n))?-1:Cu(n)?0:1},In.abs=function(){return nu(this)?On(this):this},In.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var u=r+(65535&this.D(o))+(65535&n.D(o)),f=(u>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=f>>>16,t[o]=(f&=65535)<<16|(u&=65535)}return new $r(t,-2147483648&t[t.length-1]?-1:0)},In.R=function(n){if(Cu(this)||Cu(n))return Gl;if(nu(this))return nu(n)?On(this).R(On(n)):On(On(this).R(n));if(nu(n))return On(this.R(On(n)));if(0>this.X(d_)&&0>n.X(d_))return Su(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var u=this.D(r)>>>16,f=65535&this.D(r),w=n.D(o)>>>16,N=65535&n.D(o);t[2*r+2*o]+=f*N,wm(t,2*r+2*o),t[2*r+2*o+1]+=u*N,wm(t,2*r+2*o+1),t[2*r+2*o+1]+=f*w,wm(t,2*r+2*o+1),t[2*r+2*o+2]+=u*w,wm(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new $r(t,0)},In.gb=function(n){return ul(this,n).h},In.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new $r(t,this.h&n.h)},In.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new $r(t,this.h|n.h)},In.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new $r(t,this.h^n.h)},ap.prototype.createWebChannel=ap.prototype.g,Wo.prototype.send=Wo.prototype.u,Wo.prototype.open=Wo.prototype.m,Wo.prototype.close=Wo.prototype.close,lh.NO_ERROR=0,lh.TIMEOUT=8,lh.HTTP_ERROR=6,By.COMPLETE="complete",jy.EventType=Wc,Wc.OPEN="a",Wc.CLOSE="b",Wc.ERROR="c",Wc.MESSAGE="d",Us.prototype.listen=Us.prototype.O,Wi.prototype.listenOnce=Wi.prototype.P,Wi.prototype.getLastError=Wi.prototype.Sa,Wi.prototype.getLastErrorCode=Wi.prototype.Ia,Wi.prototype.getStatus=Wi.prototype.da,Wi.prototype.getResponseJson=Wi.prototype.Wa,Wi.prototype.getResponseText=Wi.prototype.ja,Wi.prototype.send=Wi.prototype.ha,Wi.prototype.setWithCredentials=Wi.prototype.Oa,Ca.prototype.digest=Ca.prototype.l,Ca.prototype.reset=Ca.prototype.reset,Ca.prototype.update=Ca.prototype.j,$r.prototype.add=$r.prototype.add,$r.prototype.multiply=$r.prototype.R,$r.prototype.modulo=$r.prototype.gb,$r.prototype.compare=$r.prototype.X,$r.prototype.toNumber=$r.prototype.ea,$r.prototype.toString=$r.prototype.toString,$r.prototype.getBits=$r.prototype.D,$r.fromNumber=Su,$r.fromString=function Xc(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return On(Xc(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Su(Math.pow(e,8)),r=Gl,o=0;o<n.length;o+=8){var u=Math.min(8,n.length-o),f=parseInt(n.substring(o,o+u),e);8>u?(u=Su(Math.pow(e,u)),r=r.R(u).add(Su(f))):r=(r=r.R(t)).add(Su(f))}return r};var Em=Ya.createWebChannelTransport=function(){return new ap},Gi=Ya.getStatEventTarget=function(){return em()},nE=Ya.ErrorCode=lh,rE=Ya.EventType=By,iE=Ya.Event=il,sE=Ya.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},oE=Ya.FetchXmlHttpFactory=rp,lp=Ya.WebChannel=jy,aE=Ya.XhrIo=Wi,uE=Ya.Md5=Ca,wh=Ya.Integer=$r;const lE="@firebase/firestore";class Vs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vs.UNAUTHENTICATED=new Vs(null),Vs.GOOGLE_CREDENTIALS=new Vs("google-credentials-uid"),Vs.FIRST_PARTY=new Vs("first-party-uid"),Vs.MOCK_USER=new Vs("mock-user");let Au="9.23.0";const Kl=new Dr("@firebase/firestore");function h_(){return Kl.logLevel}function nn(n,...e){if(Kl.logLevel<=Re.DEBUG){const t=e.map(bm);Kl.debug(`Firestore (${Au}): ${n}`,...t)}}function Ki(n,...e){if(Kl.logLevel<=Re.ERROR){const t=e.map(bm);Kl.error(`Firestore (${Au}): ${n}`,...t)}}function aa(n,...e){if(Kl.logLevel<=Re.WARN){const t=e.map(bm);Kl.warn(`Firestore (${Au}): ${n}`,...t)}}function bm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Nn(n="Unexpected state"){const e=`FIRESTORE (${Au}) INTERNAL ASSERTION FAILED: `+n;throw Ki(e),new Error(e)}function Bn(n,e){n||Nn()}function wn(n,e){return n}const Dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qt extends pe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class f_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vs.UNAUTHENTICATED))}shutdown(){}}class aT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dE{constructor(e){this.t=e,this.currentUser=Vs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=V=>this.i!==o?(o=this.i,t(V)):Promise.resolve();let f=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new fs,e.enqueueRetryable(()=>u(this.currentUser))};const w=()=>{const V=f;e.enqueueRetryable((0,oe.Z)(function*(){yield V.promise,yield u(r.currentUser)}))},N=V=>{nn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(V=>N(V)),setTimeout(()=>{if(!this.auth){const V=this.t.getImmediate({optional:!0});V?N(V):(nn("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new fs)}},0),w()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(nn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bn("string"==typeof r.accessToken),new f_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bn(null===e||"string"==typeof e),new Vs(e)}}class uT{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Vs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class lT{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new uT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Vs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YC{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&nn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.T;return this.T=u.token,nn("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{nn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):nn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Bn("string"==typeof t.token),this.T=t.token,new cT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function QC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class p_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=QC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function rr(n,e){return n<e?-1:n>e?1:0}function Eh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function hE(n){return n+"\0"}class Ei{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qt(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qt(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qt(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qt(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ei.fromMillis(Date.now())}static fromDate(e){return Ei.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ei(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rr(this.nanoseconds,e.nanoseconds):rr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jn(e)}static min(){return new jn(new Ei(0,0))}static max(){return new jn(new Ei(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class dp{constructor(e,t,r){void 0===t?t=0:t>e.length&&Nn(),void 0===r?r=e.length-t:r>e.length-t&&Nn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===dp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),f=t.get(o);if(u<f)return-1;if(u>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pr extends dp{construct(e,t,r){return new Pr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new qt(Dt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Pr(t)}static emptyPath(){return new Pr([])}}const dT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zi extends dp{construct(e,t,r){return new Zi(e,t,r)}static isValidIdentifier(e){return dT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zi(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new qt(Dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;o<e.length;){const w=e[o];if("\\"===w){if(o+1===e.length)throw new qt(Dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[o+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new qt(Dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=N,o+=2}else"`"===w?(f=!f,o++):"."!==w||f?(r+=w,o++):(u(),o++)}if(u(),f)throw new qt(Dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zi(t)}static emptyPath(){return new Zi([])}}class mn{constructor(e){this.path=e}static fromPath(e){return new mn(Pr.fromString(e))}static fromName(e){return new mn(Pr.fromString(e).popFirst(5))}static empty(){return new mn(Pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mn(new Pr(e.slice()))}}class Im{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function Tm(n){return n.fields.find(e=>2===e.kind)}function ed(n){return n.fields.filter(e=>2!==e.kind)}Im.UNKNOWN_ID=-1;class Zl{constructor(e,t){this.fieldPath=e,this.kind=t}}class bh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new bh(0,ua.min())}}function fE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=jn.fromTimestamp(1e9===r?new Ei(t+1,0):new Ei(t,r));return new ua(o,mn.empty(),e)}function g_(n){return new ua(n.readTime,n.key,-1)}class ua{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ua(jn.min(),mn.empty(),-1)}static max(){return new ua(jn.max(),mn.empty(),-1)}}function Sm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=mn.comparator(n.documentKey,e.documentKey),0!==t?t:rr(n.largestBatchId,e.largestBatchId))}const pE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ql(n){return Am.apply(this,arguments)}function Am(){return Am=(0,oe.Z)(function*(n){if(n.code!==Dt.FAILED_PRECONDITION||n.message!==pE)throw n;nn("LocalStore","Unexpectedly lost primary lease")}),Am.apply(this,arguments)}class bt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new bt((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof bt?t:bt.resolve(t)}catch(t){return bt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):bt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):bt.reject(t)}static resolve(e){return new bt((t,r)=>{t(e)})}static reject(e){return new bt((t,r)=>{r(e)})}static waitFor(e){return new bt((t,r)=>{let o=0,u=0,f=!1;e.forEach(w=>{++o,w.next(()=>{++u,f&&u===o&&t()},N=>r(N))}),f=!0,u===o&&t()})}static or(e){let t=bt.resolve(!1);for(const r of e)t=t.next(o=>o?bt.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new bt((r,o)=>{const u=e.length,f=new Array(u);let w=0;for(let N=0;N<u;N++){const V=N;t(e[V]).next(Y=>{f[V]=Y,++w,w===u&&r(f)},Y=>o(Y))}})}static doWhile(e,t){return new bt((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class Dm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new fs,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new td(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=m_(r.target.error);this.v.reject(new td(e,o))}}static open(e,t,r,o){try{return new Dm(t,e.transaction(o,r))}catch(u){throw new td(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(nn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gE(t)}}class ru{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===ru.S(ge())&&Ki("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return nn("SimpleDb","Removing database:",e),nd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!_e())return!1;if(ru.C())return!0;const e=ge(),t=ru.S(e),r=0<t&&t<10,o=ru.N(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,oe.Z)(function*(){return t.db||(nn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=f=>{r(f.target.result)},u.onblocked=()=>{o(new td(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=f=>{const w=f.target.error;o("VersionError"===w.name?new qt(Dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new qt(Dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new td(e,w))},u.onupgradeneeded=f=>{nn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.V.O(f.target.result,u.transaction,f.oldVersion,t.version).next(()=>{nn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,oe.Z)(function*(){const f="readonly"===t;let w=0;for(;;){++w;try{u.db=yield u.$(e);const N=Dm.open(u.db,e,f?"readonly":"readwrite",r),V=o(N).next(Y=>(N.P(),Y)).catch(Y=>(N.abort(Y),bt.reject(Y))).toPromise();return V.catch(()=>{}),yield N.R,V}catch(N){const V=N,Y="FirebaseError"!==V.name&&w<3;if(nn("SimpleDb","Transaction failed with error:",V.message,"Retrying:",Y),u.close(),!Y)return Promise.reject(V)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pT{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return nd(this.L.delete())}}class td extends qt{constructor(e,t){super(Dt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Yl(n){return"IndexedDbTransactionError"===n.name}class gE{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(nn("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(nn("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),nd(r)}add(e){return nn("SimpleDb","ADD",this.store.name,e,e),nd(this.store.add(e))}get(e){return nd(this.store.get(e)).next(t=>(void 0===t&&(t=null),nn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return nn("SimpleDb","DELETE",this.store.name,e),nd(this.store.delete(e))}count(){return nn("SimpleDb","COUNT",this.store.name),nd(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.W(o,(f,w)=>{u.push(w)}).next(()=>u)}{const o=this.store.getAll(r.range);return new bt((u,f)=>{o.onerror=w=>{f(w.target.error)},o.onsuccess=w=>{u(w.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new bt((o,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{o(f.target.result)}})}J(e,t){nn("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(u,f,w)=>w.delete())}X(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}Z(e){const t=this.cursor({});return new bt((r,o)=>{t.onerror=u=>{const f=m_(u.target.error);o(f)},t.onsuccess=u=>{const f=u.target.result;f?e(f.primaryKey,f.value).next(w=>{w?f.continue():r()}):r()}})}W(e,t){const r=[];return new bt((o,u)=>{e.onerror=f=>{u(f.target.error)},e.onsuccess=f=>{const w=f.target.result;if(!w)return void o();const N=new pT(w),V=t(w.primaryKey,w.value,N);if(V instanceof bt){const Y=V.catch(me=>(N.done(),bt.reject(me)));r.push(Y)}N.isDone?o():null===N.K?w.continue():w.continue(N.K)}}).next(()=>bt.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nd(n){return new bt((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=m_(r.target.error);t(o)}})}let mE=!1;function m_(n){const e=ru.S(ge());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new qt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mE||(mE=!0,setTimeout(()=>{throw r},0)),r}}return n}class gT{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;nn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,oe.Z)(function*(){t.task=null;try{nn("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Yl(r)?nn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ql(r)}yield t.et(6e4)}))}}class mT{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,oe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,u=!0;return bt.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!r.has(f))return nn("IndexBackiller",`Processing collection: ${f}`),this.it(e,f,o).next(w=>{o-=w,r.add(f)});u=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const f=u.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.rt(o,u)).next(w=>(nn("IndexBackiller",`Updating offset: ${w}`),this.localStore.indexManager.updateCollectionGroup(e,t,w))).next(()=>f.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,u)=>{const f=g_(u);Sm(f,r)>0&&(r=f)}),new ua(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let la=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function hp(n){return null==n}function fp(n){return 0===n&&1/n==-1/0}function v_(n){return"number"==typeof n&&Number.isInteger(n)&&!fp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function eo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=vE(e)),e=vT(n.get(t),e);return vE(e)}function vT(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function vE(n){return n+"\x01\x01"}function iu(n){const e=n.length;if(Bn(e>=2),2===e)return Bn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Pr.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const f=n.indexOf("\x01",u);switch((f<0||f>t)&&Nn(),n.charAt(f+1)){case"\x01":const w=n.substring(u,f);let N;0===o.length?N=w:(o+=w,N=o,o=""),r.push(N);break;case"\x10":o+=n.substring(u,f),o+="\0";break;case"\x11":o+=n.substring(u,f+1);break;default:Nn()}u=f+2}return new Pr(r)}const yE=["userId","batchId"];function xm(n,e){return[n,eo(e)]}function _E(n,e,t){return[n,eo(e),t]}const y_={},__=["prefixPath","collectionGroup","readTime","documentId"],wE=["prefixPath","collectionGroup","documentId"],w_=["collectionGroup","readTime","prefixPath","documentId"],yT=["canonicalId","targetId"],_T=["targetId","path"],E_=["path","targetId"],wT=["collectionId","parent"],EE=["indexId","uid"],Ih=["uid","sequenceNumber"],bE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ET=["indexId","uid","orderedDocumentKey"],JC=["userId","collectionPath","documentId"],IE=["userId","collectionPath","largestBatchId"],b_=["userId","collectionGroup","largestBatchId"],TE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],I_=[...TE,"documentOverlays"],SE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],T_=SE,S_=[...T_,"indexConfiguration","indexState","indexEntries"];class Mm extends Cm{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ss(n,e){const t=wn(n);return ru.M(t.ht,e)}function C_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class fi{constructor(e,t){this.comparator=e,this.root=t||to.EMPTY}insert(e,t){return new fi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,to.BLACK,null,null))}remove(e){return new fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,to.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nm(this.root,e,this.comparator,!0)}}class Nm{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class to{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??to.RED,this.left=o??to.EMPTY,this.right=u??to.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new to(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return to.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return to.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,to.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,to.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nn();const e=this.left.check();if(e!==this.right.check())throw Nn();return e+(this.isRed()?0:1)}}to.EMPTY=null,to.RED=!0,to.BLACK=!1,to.EMPTY=new class{constructor(){this.size=0}get key(){throw Nn()}get value(){throw Nn()}get color(){throw Nn()}get left(){throw Nn()}get right(){throw Nn()}copy(n,e,t,r,o){return this}insert(n,e,t){return new to(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pi{constructor(e){this.comparator=e,this.data=new fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bT(this.data.getIterator())}getIteratorFrom(e){return new bT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof pi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pi(this.comparator);return t.data=e,t}}class bT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rd(n){return n.hasNext()?n.getNext():void 0}class Go{constructor(e){this.fields=e,e.sort(Zi.comparator)}static empty(){return new Go([])}unionWith(e){let t=new pi(Zi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Go(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Eh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class AE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new AE("Invalid base64 string: "+o):o}}(e);return new Cs(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Cs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cs.EMPTY_BYTE_STRING=new Cs("");const IT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ql(n){if(Bn(!!n),"string"==typeof n){let e=0;const t=IT.exec(n);if(Bn(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pi(n.seconds),nanos:Pi(n.nanos)}}function Pi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Du(n){return"string"==typeof n?Cs.fromBase64String(n):Cs.fromUint8Array(n)}function pp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Rm(n){const e=n.mapValue.fields.__previous_value__;return pp(e)?Rm(e):e}function gp(n){const e=Ql(n.mapValue.fields.__local_write_time__.timestampValue);return new Ei(e.seconds,e.nanos)}class TT{constructor(e,t,r,o,u,f,w,N,V){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=w,this.longPollingOptions=N,this.useFetchStreams=V}}class Jl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Jl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}const Xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Om={nullValue:"NULL_VALUE"};function Aa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pp(n)?4:ME(n)?9007199254740991:10:Nn()}function su(n,e){if(n===e)return!0;const t=Aa(n);if(t!==Aa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gp(n).isEqual(gp(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Ql(r.timestampValue),f=Ql(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Du(n.bytesValue).isEqual(Du(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Pi(r.geoPointValue.latitude)===Pi(o.geoPointValue.latitude)&&Pi(r.geoPointValue.longitude)===Pi(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Pi(r.integerValue)===Pi(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Pi(r.doubleValue),f=Pi(o.doubleValue);return u===f?fp(u)===fp(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return Eh(n.arrayValue.values||[],e.arrayValue.values||[],su);case 10:return function(r,o){const u=r.mapValue.fields||{},f=o.mapValue.fields||{};if(C_(u)!==C_(f))return!1;for(const w in u)if(u.hasOwnProperty(w)&&(void 0===f[w]||!su(u[w],f[w])))return!1;return!0}(n,e);default:return Nn()}var o}function Th(n,e){return void 0!==(n.values||[]).find(t=>su(t,e))}function dl(n,e){if(n===e)return 0;const t=Aa(n),r=Aa(e);if(t!==r)return rr(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return rr(n.booleanValue,e.booleanValue);case 2:return function(o,u){const f=Pi(o.integerValue||o.doubleValue),w=Pi(u.integerValue||u.doubleValue);return f<w?-1:f>w?1:f===w?0:isNaN(f)?isNaN(w)?0:-1:1}(n,e);case 3:return A_(n.timestampValue,e.timestampValue);case 4:return A_(gp(n),gp(e));case 5:return rr(n.stringValue,e.stringValue);case 6:return function(o,u){const f=Du(o),w=Du(u);return f.compareTo(w)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const f=o.split("/"),w=u.split("/");for(let N=0;N<f.length&&N<w.length;N++){const V=rr(f[N],w[N]);if(0!==V)return V}return rr(f.length,w.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const f=rr(Pi(o.latitude),Pi(u.latitude));return 0!==f?f:rr(Pi(o.longitude),Pi(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const f=o.values||[],w=u.values||[];for(let N=0;N<f.length&&N<w.length;++N){const V=dl(f[N],w[N]);if(V)return V}return rr(f.length,w.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Xl.mapValue&&u===Xl.mapValue)return 0;if(o===Xl.mapValue)return 1;if(u===Xl.mapValue)return-1;const f=o.fields||{},w=Object.keys(f),N=u.fields||{},V=Object.keys(N);w.sort(),V.sort();for(let Y=0;Y<w.length&&Y<V.length;++Y){const me=rr(w[Y],V[Y]);if(0!==me)return me;const st=dl(f[w[Y]],N[V[Y]]);if(0!==st)return st}return rr(w.length,V.length)}(n.mapValue,e.mapValue);default:throw Nn()}}function A_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return rr(n,e);const t=Ql(n),r=Ql(e),o=rr(t.seconds,r.seconds);return 0!==o?o:rr(t.nanos,r.nanos)}function id(n){return Pm(n)}function Pm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Ql(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Du(n.bytesValue).toBase64():"referenceValue"in n?mn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const f of r.values||[])u?u=!1:o+=",",o+=Pm(f);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const w of o)f?f=!1:u+=",",u+=`${w}:${Pm(r.fields[w])}`;return u+"}"}(n.mapValue):Nn();var e}function Sh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Lm(n){return!!n&&"integerValue"in n}function mp(n){return!!n&&"arrayValue"in n}function DE(n){return!!n&&"nullValue"in n}function xE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fm(n){return!!n&&"mapValue"in n}function hl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ME(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function D_(n){return"nullValue"in n?Om:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Sh(Jl.empty(),mn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Nn()}function xu(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Sh(Jl.empty(),mn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Xl:Nn()}function NE(n,e){const t=dl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function vp(n,e){const t=dl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class is{constructor(e){this.value=e}static empty(){return new is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hl(t)}setAll(e){let t=Zi.emptyPath(),r={},o=[];e.forEach((f,w)=>{if(!t.isImmediateParentOf(w)){const N=this.getFieldsMap(t);this.applyChanges(N,r,o),r={},o=[],t=w.popLast()}f?r[w.lastSegment()]=hl(f):o.push(w.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Fm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return su(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Fm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){cl(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new is(hl(this.value))}}function RE(n){const e=[];return cl(n.fields,(t,r)=>{const o=new Zi([t]);if(Fm(r)){const u=RE(r.mapValue).fields;if(0===u.length)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Go(e)}class bi{constructor(e,t,r,o,u,f,w){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=w}static newInvalidDocument(e){return new bi(e,0,jn.min(),jn.min(),jn.min(),is.empty(),0)}static newFoundDocument(e,t,r,o){return new bi(e,1,t,jn.min(),r,o,0)}static newNoDocument(e,t){return new bi(e,2,t,jn.min(),jn.min(),is.empty(),0)}static newUnknownDocument(e,t){return new bi(e,3,t,jn.min(),jn.min(),is.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ec{constructor(e,t){this.position=e,this.inclusive=t}}function yp(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],f=n.position[o];if(r=u.field.isKeyField()?mn.comparator(mn.fromName(f.referenceValue),t.key):dl(f,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function _p(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!su(n.position[t],e.position[t]))return!1;return!0}class Ch{constructor(e,t="asc"){this.field=e,this.dir=t}}function ST(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class x_{}class Cr extends x_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new CT(e,t,r):"array-contains"===t?new LE(e,r):"in"===t?new N_(e,r):"not-in"===t?new FE(e,r):"array-contains-any"===t?new UE(e,r):new Cr(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new AT(e,r):new kE(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dl(t,this.value)):null!==t&&Aa(this.value)===Aa(t)&&this.matchesComparison(dl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class zr extends x_{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new zr(e,t)}matches(e){return sd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function sd(n){return"and"===n.op}function wp(n){return"or"===n.op}function Ep(n){return M_(n)&&sd(n)}function M_(n){for(const e of n.filters)if(e instanceof zr)return!1;return!0}function bp(n){if(n instanceof Cr)return n.field.canonicalString()+n.op.toString()+id(n.value);if(Ep(n))return n.filters.map(e=>bp(e)).join(",");{const e=n.filters.map(t=>bp(t)).join(",");return`${n.op}(${e})`}}function Um(n,e){return n instanceof Cr?(t=n,(r=e)instanceof Cr&&t.op===r.op&&t.field.isEqual(r.field)&&su(t.value,r.value)):n instanceof zr?function(t,r){return r instanceof zr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,f)=>o&&Um(u,r.filters[f]),!0)}(n,e):void Nn();var t,r}function OE(n,e){const t=n.filters.concat(e);return zr.create(t,n.op)}function PE(n){return n instanceof Cr?function(e){return`${e.field.canonicalString()} ${e.op} ${id(e.value)}`}(n):n instanceof zr?function(e){return e.op.toString()+" {"+e.getFilters().map(PE).join(" ,")+"}"}(n):"Filter"}class CT extends Cr{constructor(e,t,r){super(e,t,r),this.key=mn.fromName(r.referenceValue)}matches(e){const t=mn.comparator(e.key,this.key);return this.matchesComparison(t)}}class AT extends Cr{constructor(e,t){super(e,"in",t),this.keys=Bm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class kE extends Cr{constructor(e,t){super(e,"not-in",t),this.keys=Bm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Bm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>mn.fromName(r.referenceValue))}class LE extends Cr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mp(t)&&Th(t.arrayValue,this.value)}}class N_ extends Cr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Th(this.value.arrayValue,t)}}class FE extends Cr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Th(this.value.arrayValue,t)}}class UE extends Cr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Th(this.value.arrayValue,r))}}class DT{constructor(e,t=null,r=[],o=[],u=null,f=null,w=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=w,this.dt=null}}function Vm(n,e=null,t=[],r=[],o=null,u=null,f=null){return new DT(n,e,t,r,o,u,f)}function tc(n){const e=wn(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>bp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),hp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>id(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>id(r)).join(",")),e.dt=t}return e.dt}function Ip(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ST(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Um(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_p(n.startAt,e.startAt)&&_p(n.endAt,e.endAt)}function Tp(n){return mn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Sp(n,e){return n.filters.filter(t=>t instanceof Cr&&t.field.isEqual(e))}function po(n,e,t){let r=Om,o=!0;for(const u of Sp(n,e)){let f=Om,w=!0;switch(u.op){case"<":case"<=":f=D_(u.value);break;case"==":case"in":case">=":f=u.value;break;case">":f=u.value,w=!1;break;case"!=":case"not-in":f=Om}NE({value:r,inclusive:o},{value:f,inclusive:w})<0&&(r=f,o=w)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const f=t.position[u];NE({value:r,inclusive:o},{value:f,inclusive:t.inclusive})<0&&(r=f,o=t.inclusive);break}return{value:r,inclusive:o}}function od(n,e,t){let r=Xl,o=!0;for(const u of Sp(n,e)){let f=Xl,w=!0;switch(u.op){case">=":case">":f=xu(u.value),w=!1;break;case"==":case"in":case"<=":f=u.value;break;case"<":f=u.value,w=!1;break;case"!=":case"not-in":f=Xl}vp({value:r,inclusive:o},{value:f,inclusive:w})>0&&(r=f,o=w)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const f=t.position[u];vp({value:r,inclusive:o},{value:f,inclusive:t.inclusive})>0&&(r=f,o=t.inclusive);break}return{value:r,inclusive:o}}class fl{constructor(e,t=null,r=[],o=[],u=null,f="F",w=null,N=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=w,this.endAt=N,this.wt=null,this._t=null}}function BE(n,e,t,r,o,u,f,w){return new fl(n,e,t,r,o,u,f,w)}function Cp(n){return new fl(n)}function xT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function jm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ah(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function ad(n){return null!==n.collectionGroup}function ud(n){const e=wn(n);if(null===e.wt){e.wt=[];const t=Ah(e),r=jm(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Ch(t)),e.wt.push(new Ch(Zi.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ch(Zi.keyField(),u))}}}return e.wt}function no(n){const e=wn(n);if(!e._t)if("F"===e.limitType)e._t=Vm(e.path,e.collectionGroup,ud(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of ud(e))t.push(new Ch(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new ec(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new ec(e.startAt.position,e.startAt.inclusive):null;e._t=Vm(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function R_(n,e){e.getFirstInequalityField(),Ah(n);const t=n.filters.concat([e]);return new fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ap(n,e,t){return new fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dp(n,e){return Ip(no(n),no(e))&&n.limitType===e.limitType}function VE(n){return`${tc(no(n))}|lt:${n.limitType}`}function O_(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>PE(r)).join(", ")}]`),hp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>id(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>id(r)).join(",")),`Target(${t})`}(no(n))}; limitType=${n.limitType})`}function ld(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):mn.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of ud(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,f){const w=yp(o,u,f);return o.inclusive?w<=0:w<0}(t.startAt,ud(t),r)||t.endAt&&!function(o,u,f){const w=yp(o,u,f);return o.inclusive?w>=0:w>0}(t.endAt,ud(t),r)));var t,r}function P_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function k_(n){return(e,t)=>{let r=!1;for(const o of ud(n)){const u=Hm(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function Hm(n,e,t){const r=n.field.isKeyField()?mn.comparator(e.key,t.key):function(o,u,f){const w=u.data.field(o),N=f.data.field(o);return null!==w&&null!==N?dl(w,N):Nn()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Nn()}}class ou{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cl(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return CE(this.inner)}size(){return this.innerSize}}const eA=new fi(mn.comparator);function xo(){return eA}const jE=new fi(mn.comparator);function Dh(...n){let e=jE;for(const t of n)e=e.insert(t.key,t);return e}function cd(n){let e=jE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Mu(){return dd()}function L_(){return dd()}function dd(){return new ou(n=>n.toString(),(n,e)=>n.isEqual(e))}const tA=new fi(mn.comparator),MT=new pi(mn.comparator);function vr(...n){let e=MT;for(const t of n)e=e.add(t);return e}const NT=new pi(rr);function F_(){return NT}function HE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fp(e)?"-0":e}}function U_(n){return{integerValue:""+n}}function B_(n,e){return v_(e)?U_(e):HE(n,e)}class $m{constructor(){this._=void 0}}function $E(n,e,t){return n instanceof xh?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&pp(o)&&(o=Rm(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof nc?GE(n,e):n instanceof rc?V_(n,e):function(r,o){const u=WE(r,o),f=j_(u)+j_(r.gt);return Lm(u)&&Lm(r.gt)?U_(f):HE(r.serializer,f)}(n,e)}function zE(n,e,t){return n instanceof nc?GE(n,e):n instanceof rc?V_(n,e):t}function WE(n,e){return n instanceof hd?Lm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class xh extends $m{}class nc extends $m{constructor(e){super(),this.elements=e}}function GE(n,e){const t=KE(e);for(const r of n.elements)t.some(o=>su(o,r))||t.push(r);return{arrayValue:{values:t}}}class rc extends $m{constructor(e){super(),this.elements=e}}function V_(n,e){let t=KE(e);for(const r of n.elements)t=t.filter(o=>!su(o,r));return{arrayValue:{values:t}}}class hd extends $m{constructor(e,t){super(),this.serializer=e,this.gt=t}}function j_(n){return Pi(n.integerValue||n.doubleValue)}function KE(n){return mp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class xp{constructor(e,t){this.field=e,this.transform=t}}class ZE{constructor(e,t){this.version=e,this.transformResults=t}}class ki{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function H_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class $_{}function RT(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new fd(n.key,ki.none()):new pl(n.key,n.data,ki.none());{const t=n.data,r=is.empty();let o=new pi(Zi.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);null===f&&u.length>1&&(u=u.popLast(),f=t.field(u)),null===f?r.delete(u):r.set(u,f),o=o.add(u)}return new ic(n.key,r,new Go(o.toArray()),ki.none())}}function rA(n,e,t){n instanceof pl?function(r,o,u){const f=r.value.clone(),w=Mp(r.fieldTransforms,o,u.transformResults);f.setAll(w),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ic?function(r,o,u){if(!H_(r.precondition,o))return void o.convertToUnknownDocument(u.version);const f=Mp(r.fieldTransforms,o,u.transformResults),w=o.data;w.setAll(z_(r)),w.setAll(f),o.convertToFoundDocument(u.version,w).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function zm(n,e,t,r){return n instanceof pl?function(o,u,f,w){if(!H_(o.precondition,u))return f;const N=o.value.clone(),V=W_(o.fieldTransforms,w,u);return N.setAll(V),u.convertToFoundDocument(u.version,N).setHasLocalMutations(),null}(n,e,t,r):n instanceof ic?function(o,u,f,w){if(!H_(o.precondition,u))return f;const N=W_(o.fieldTransforms,w,u),V=u.data;return V.setAll(z_(o)),V.setAll(N),u.convertToFoundDocument(u.version,V).setHasLocalMutations(),null===f?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(Y=>Y.field))}(n,e,t,r):(f=t,H_(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f);var u,f}function iA(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=WE(r.transform,o||null);null!=u&&(null===t&&(t=is.empty()),t.set(r.field,u))}return t||null}function OT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Eh(t,r,(o,u)=>function nA(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof nc&&r instanceof nc||t instanceof rc&&r instanceof rc?Eh(t.elements,r.elements,su):t instanceof hd&&r instanceof hd?su(t.gt,r.gt):t instanceof xh&&r instanceof xh);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class pl extends $_{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ic extends $_{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function z_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Mp(n,e,t){const r=new Map;Bn(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],f=u.transform,w=e.data.field(u.field);r.set(u.field,zE(f,w,t[o]))}return r}function W_(n,e,t){const r=new Map;for(const o of n){const u=o.transform,f=t.data.field(o.field);r.set(o.field,$E(u,f,e))}return r}class fd extends $_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qE extends $_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Np{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&rA(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=zm(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=zm(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=L_();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let w=this.applyToLocalView(f,u.mutatedFields);w=t.has(o.key)?null:w;const N=RT(f,w);null!==N&&r.set(o.key,N),f.isValidDocument()||f.convertToNoDocument(jn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),vr())}isEqual(e){return this.batchId===e.batchId&&Eh(this.mutations,e.mutations,(t,r)=>OT(t,r))&&Eh(this.baseMutations,e.baseMutations,(t,r)=>OT(t,r))}}class Wm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Bn(e.mutations.length===r.length);let o=tA;const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Wm(e,t,r,o)}}class G_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class PT{constructor(e,t){this.count=e,this.unchangedNames=t}}var ps,kr;function Rp(n){switch(n){default:return Nn();case Dt.CANCELLED:case Dt.UNKNOWN:case Dt.DEADLINE_EXCEEDED:case Dt.RESOURCE_EXHAUSTED:case Dt.INTERNAL:case Dt.UNAVAILABLE:case Dt.UNAUTHENTICATED:return!1;case Dt.INVALID_ARGUMENT:case Dt.NOT_FOUND:case Dt.ALREADY_EXISTS:case Dt.PERMISSION_DENIED:case Dt.FAILED_PRECONDITION:case Dt.ABORTED:case Dt.OUT_OF_RANGE:case Dt.UNIMPLEMENTED:case Dt.DATA_LOSS:return!0}}function YE(n){if(void 0===n)return Ki("GRPC error has no .code"),Dt.UNKNOWN;switch(n){case ps.OK:return Dt.OK;case ps.CANCELLED:return Dt.CANCELLED;case ps.UNKNOWN:return Dt.UNKNOWN;case ps.DEADLINE_EXCEEDED:return Dt.DEADLINE_EXCEEDED;case ps.RESOURCE_EXHAUSTED:return Dt.RESOURCE_EXHAUSTED;case ps.INTERNAL:return Dt.INTERNAL;case ps.UNAVAILABLE:return Dt.UNAVAILABLE;case ps.UNAUTHENTICATED:return Dt.UNAUTHENTICATED;case ps.INVALID_ARGUMENT:return Dt.INVALID_ARGUMENT;case ps.NOT_FOUND:return Dt.NOT_FOUND;case ps.ALREADY_EXISTS:return Dt.ALREADY_EXISTS;case ps.PERMISSION_DENIED:return Dt.PERMISSION_DENIED;case ps.FAILED_PRECONDITION:return Dt.FAILED_PRECONDITION;case ps.ABORTED:return Dt.ABORTED;case ps.OUT_OF_RANGE:return Dt.OUT_OF_RANGE;case ps.UNIMPLEMENTED:return Dt.UNIMPLEMENTED;case ps.DATA_LOSS:return Dt.DATA_LOSS;default:return Nn()}}(kr=ps||(ps={}))[kr.OK=0]="OK",kr[kr.CANCELLED=1]="CANCELLED",kr[kr.UNKNOWN=2]="UNKNOWN",kr[kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kr[kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kr[kr.NOT_FOUND=5]="NOT_FOUND",kr[kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",kr[kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",kr[kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",kr[kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kr[kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kr[kr.ABORTED=10]="ABORTED",kr[kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",kr[kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",kr[kr.INTERNAL=13]="INTERNAL",kr[kr.UNAVAILABLE=14]="UNAVAILABLE",kr[kr.DATA_LOSS=15]="DATA_LOSS";class QE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return K_}static getOrCreateInstance(){return null===K_&&(K_=new QE),K_}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let K_=null;function kT(){return new TextEncoder}const LT=new wh([4294967295,4294967295],0);function JE(n){const e=kT().encode(n),t=new uE;return t.update(e),new Uint8Array(t.digest())}function XE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new wh([t,r],0),new wh([o,u],0)]}class eb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Op(`Invalid padding: ${t}`);if(r<0)throw new Op(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Op(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Op(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=wh.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(wh.fromNumber(r)));return 1===o.compare(LT)&&(o=new wh([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=JE(e),[r,o]=XE(t);for(let u=0;u<this.hashCount;u++){const f=this.Et(r,o,u);if(!this.At(f))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new eb(u,o,t);return r.forEach(w=>f.insert(w)),f}insert(e){if(0===this.It)return;const t=JE(e),[r,o]=XE(t);for(let u=0;u<this.hashCount;u++){const f=this.Et(r,o,u);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Op extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mh{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Nh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Mh(jn.min(),o,new fi(rr),xo(),vr())}}class Nh{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Nh(r,t,vr(),vr(),vr())}}class Z_{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class Da{constructor(e,t){this.targetId=e,this.Vt=t}}class tb{constructor(e,t,r=Cs.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Gm{constructor(){this.St=0,this.Dt=ca(),this.Ct=Cs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=vr(),t=vr(),r=vr();return this.Dt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Nn()}}),new Nh(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=ca()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class FT{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=xo(),this.zt=UT(),this.Wt=new fi(rr)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Nn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,u=this.se(r);if(u){const f=u.target;if(Tp(f))if(0===o){const w=new mn(f.path);this.Yt(r,w,bi.newNoDocument(w,jn.min()))}else Bn(1===o);else{const w=this.ie(r);if(w!==o){const N=this.re(e,w);0!==N&&(this.ee(r),this.Wt=this.Wt.insert(r,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=QE.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(V,Y,me){var st,St,sn,En,Sn,fr;const Rr={localCacheCount:Y,existenceFilterCount:me.count},yr=me.unchangedNames;return yr&&(Rr.bloomFilter={applied:0===V,hashCount:null!==(st=yr?.hashCount)&&void 0!==st?st:0,bitmapLength:null!==(En=null===(sn=null===(St=yr?.bits)||void 0===St?void 0:St.bitmap)||void 0===sn?void 0:sn.length)&&void 0!==En?En:0,padding:null!==(fr=null===(Sn=yr?.bits)||void 0===Sn?void 0:Sn.padding)&&void 0!==fr?fr:0}),Rr}(N,w,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:f=0},hashCount:w=0}=r;let N,V;try{N=Du(u).toUint8Array()}catch(Y){if(Y instanceof AE)return aa("Decoding the base64 bloom filter in existence filter failed ("+Y.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Y}try{V=new eb(N,f,w)}catch(Y){return aa(Y instanceof Op?"BloomFilter error: ":"Applying bloom filter failed: ",Y),1}return 0===V.It?1:o!==t-this.oe(e.targetId,V)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(u=>{const f=this.Gt.ue(),w=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.vt(w)||(this.Yt(e,u,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((u,f)=>{const w=this.se(f);if(w){if(u.current&&Tp(w.target)){const N=new mn(w.target.path);null!==this.jt.get(N)||this.ae(f,N)||this.Yt(f,N,bi.newNoDocument(N,e))}u.Mt&&(t.set(f,u.Ot()),u.Ft())}});let r=vr();this.zt.forEach((u,f)=>{let w=!0;f.forEachWhile(N=>{const V=this.se(N);return!V||"TargetPurposeLimboResolution"===V.purpose||(w=!1,!1)}),w&&(r=r.add(u))}),this.jt.forEach((u,f)=>f.setReadTime(e));const o=new Mh(e,t,this.Wt,this.jt,r);return this.jt=xo(),this.zt=UT(),this.Wt=new fi(rr),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Gm,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new pi(rr),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||nn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Gm),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function UT(){return new fi(mn.comparator)}function ca(){return new fi(mn.comparator)}const BT={asc:"ASCENDING",desc:"DESCENDING"},q_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VT={and:"AND",or:"OR"};class jT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pp(n,e){return n.useProto3Json||hp(e)?e:{value:e}}function pd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function HT(n,e){return pd(n,e.toTimestamp())}function qi(n){return Bn(!!n),jn.fromTimestamp(function(e){const t=Ql(e);return new Ei(t.seconds,t.nanos)}(n))}function Km(n,e){return(t=n,new Pr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function nb(n){const e=Pr.fromString(n);return Bn(n0(e)),e}function Rh(n,e){return Km(n.databaseId,e.path)}function Nu(n,e){const t=nb(e);if(t.get(1)!==n.databaseId.projectId)throw new qt(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new qt(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new mn(Q_(t))}function kp(n,e){return Km(n.databaseId,e)}function Ru(n){const e=nb(n);return 4===e.length?Pr.emptyPath():Q_(e)}function xa(n){return new Pr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q_(n){return Bn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Zm(n,e,t){return{name:Rh(n,e),fields:t.value.mapValue.fields}}function J_(n,e,t){const r=Nu(n,e.name),o=qi(e.updateTime),u=e.createTime?qi(e.createTime):jn.min(),f=new is({mapValue:{fields:e.fields}}),w=bi.newFoundDocument(r,o,u,f);return t&&w.setHasCommittedMutations(),t?w.setHasCommittedMutations():w}function Lp(n,e){let t;if(e instanceof pl)t={update:Zm(n,e.key,e.value)};else if(e instanceof fd)t={delete:Rh(n,e.key)};else if(e instanceof ic)t={update:Zm(n,e.key,e.data),updateMask:ab(e.fieldMask)};else{if(!(e instanceof qE))return Nn();t={verify:Rh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const f=u.transform;if(f instanceof xh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof nc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof rc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof hd)return{fieldPath:u.field.canonicalString(),increment:f.gt};throw Nn()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:HT(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Nn()),t;var o}function X_(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?ki.updateTime(qi(o.updateTime)):void 0!==o.exists?ki.exists(o.exists):ki.none():ki.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,f){let w=null;"setToServerValue"in f?(Bn("REQUEST_TIME"===f.setToServerValue),w=new xh):"appendMissingElements"in f?w=new nc(f.appendMissingElements.values||[]):"removeAllFromArray"in f?w=new rc(f.removeAllFromArray.values||[]):"increment"in f?w=new hd(u,f.increment):Nn();const N=Zi.fromServerFormat(f.fieldPath);return new xp(N,w)}(n,o)):[];var o;if(e.update){const o=Nu(n,e.update.name),u=new is({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Go((e.updateMask.fieldPaths||[]).map(V=>Zi.fromServerFormat(V)));return new ic(o,u,f,t,r)}return new pl(o,u,t,r)}if(e.delete){const o=Nu(n,e.delete);return new fd(o,t)}if(e.verify){const o=Nu(n,e.verify);return new qE(o,t)}return Nn()}function rb(n,e){return{documents:[kp(n,e.path)]}}function qm(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=kp(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=kp(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(N){if(0!==N.length)return t0(zr.create(N,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(N){if(0!==N.length)return N.map(V=>{return{field:gl((Y=V).field),direction:ob(Y.dir)};var Y})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Pp(n,e.limit);var w,N;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(w=e.startAt).inclusive,values:w.position}),e.endAt&&(t.structuredQuery.endAt={before:!(N=e.endAt).inclusive,values:N.position}),t}function WT(n){let e=Ru(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Bn(1===r);const Y=t.from[0];Y.allDescendants?o=Y.collectionId:e=e.child(Y.collectionId)}let u=[];t.where&&(u=function(Y){const me=sb(Y);return me instanceof zr&&Ep(me)?me.getFilters():[me]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(Y=>{return new Ch(gd((me=Y).field),function(st){switch(st){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(me.direction));var me}));let w=null;t.limit&&(w=function(Y){let me;return me="object"==typeof Y?Y.value:Y,hp(me)?null:me}(t.limit));let N=null;var Y;t.startAt&&(N=new ec((Y=t.startAt).values||[],!!Y.before));let V=null;return t.endAt&&(V=function(Y){return new ec(Y.values||[],!Y.before)}(t.endAt)),BE(e,o,f,u,w,"F",N,V)}function sb(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=gd(e.unaryFilter.field);return Cr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=gd(e.unaryFilter.field);return Cr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gd(e.unaryFilter.field);return Cr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=gd(e.unaryFilter.field);return Cr.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Nn()}}(n):void 0!==n.fieldFilter?function(e){return Cr.create(gd(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nn()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):void 0!==n.compositeFilter?function(e){return zr.create(e.compositeFilter.filters.map(t=>sb(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Nn()}}(e.compositeFilter.op))}(n):Nn()}function ob(n){return BT[n]}function aA(n){return q_[n]}function e0(n){return VT[n]}function gl(n){return{fieldPath:n.canonicalString()}}function gd(n){return Zi.fromServerFormat(n.fieldPath)}function t0(n){return n instanceof Cr?function(e){if("=="===e.op){if(xE(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NAN"}};if(DE(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xE(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NOT_NAN"}};if(DE(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(e.field),op:aA(e.op),value:e.value}}}(n):n instanceof zr?function(e){const t=e.getFilters().map(r=>t0(r));return 1===t.length?t[0]:{compositeFilter:{op:e0(e.op),filters:t}}}(n):Nn()}function ab(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function n0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ma{constructor(e,t,r,o,u=jn.min(),f=jn.min(),w=Cs.EMPTY_BYTE_STRING,N=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=w,this.expectedCount=N}withSequenceNumber(e){return new Ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Fp{constructor(e){this.fe=e}}function lb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ym(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Rh(o=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:pd(o,u.version.toTimestamp()),createTime:pd(o,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Oh(e.version)};else{if(!e.isUnknownDocument())return Nn();r.unknownDocument={path:t.path.toArray(),version:Oh(e.version)}}var o,u;return r}function Ym(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Oh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ph(n){const e=new Ei(n.seconds,n.nanoseconds);return jn.fromTimestamp(e)}function kh(n,e){const t=(e.baseMutations||[]).map(u=>X_(n.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>X_(n.fe,u)),o=Ei.fromMillis(e.localWriteTimeMs);return new Np(e.batchId,o,t,r)}function Lh(n){const e=Ph(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ph(n.lastLimboFreeSnapshotVersion):jn.min();let r;var o;return void 0!==n.query.documents?(Bn(1===(o=n.query).documents.length),r=no(Cp(Ru(o.documents[0])))):r=no(WT(n.query)),new Ma(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Cs.fromBase64String(n.resumeToken))}function cb(n,e){const t=Oh(e.snapshotVersion),r=Oh(e.lastLimboFreeSnapshotVersion);let o;o=Tp(e.target)?rb(n.fe,e.target):qm(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:tc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function r0(n){const e=WT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ap(e,e.limit,"L"):e}function s0(n,e){return new G_(e.largestBatchId,X_(n.fe,e.overlayMutation))}function GT(n,e){const t=e.path.lastSegment();return[n,eo(e.path.popLast()),t]}function KT(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Oh(r.readTime),documentKey:eo(r.documentKey.path),largestBatchId:r.largestBatchId}}class uA{getBundleMetadata(e,t){return ZT(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Ph(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return ZT(e).put({bundleId:(r=t).id,createTime:Oh(qi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return qT(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:r0(o.bundledQuery),readTime:Ph(o.readTime)};var o})}saveNamedQuery(e,t){return qT(e).put({name:(r=t).name,readTime:Oh(qi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ZT(n){return Ss(n,"bundles")}function qT(n){return Ss(n,"namedQueries")}class Qm{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Qm(e,t.uid||"")}getOverlay(e,t){return sc(e).get(GT(this.userId,t)).next(r=>r?s0(this.serializer,r):null)}getOverlays(e,t){const r=Mu();return bt.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,f)=>{const w=new G_(t,f);o.push(this.we(e,w))}),bt.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(f=>o.add(eo(f.getCollectionPath())));const u=[];return o.forEach(f=>{const w=IDBKeyRange.bound([this.userId,f,r],[this.userId,f,r+1],!1,!0);u.push(sc(e).J("collectionPathOverlayIndex",w))}),bt.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Mu(),u=eo(t),f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return sc(e).j("collectionPathOverlayIndex",f).next(w=>{for(const N of w){const V=s0(this.serializer,N);o.set(V.getKey(),V)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Mu();let f;const w=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sc(e).X({index:"collectionGroupOverlayIndex",range:w},(N,V,Y)=>{const me=s0(this.serializer,V);u.size()<o||me.largestBatchId===f?(u.set(me.getKey(),me),f=me.largestBatchId):Y.done()}).next(()=>u)}we(e,t){return sc(e).put(function(r,o,u){const[f,w,N]=GT(o,u.mutation.key);return{userId:o,collectionPath:w,documentId:N,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Lp(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function sc(n){return Ss(n,"documentOverlays")}class md{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Pi(e.integerValue));else if("doubleValue"in e){const r=Pi(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),fp(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Du(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?ME(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Nn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),mn.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function YT(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function o0(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=YT(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}md.Ve=new md;class vd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=t.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=t.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const t=this.Fe(e),r=o0(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Le(e){const t=this.Fe(e),r=o0(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class db{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class a0{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class yd{constructor(){this.je=new vd,this.ze=new db(this.je),this.We=new a0(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class _d{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new _d(this.indexId,this.documentKey,this.arrayValue,r)}}function Ou(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Jm(n.arrayValue,e.arrayValue),0!==t?t:(t=Jm(n.directionalValue,e.directionalValue),0!==t?t:mn.comparator(n.documentKey,e.documentKey)))}function Jm(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Xm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Bn(e.collectionGroup===this.collectionId);const t=Tm(e);if(void 0!==t&&!this.en(t))return!1;const r=ed(e);let o=new Set,u=0,f=0;for(;u<r.length&&this.en(r[u]);++u)o=o.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const w=r[u];if(!this.nn(this.Ze,w)||!this.sn(this.Ye[f++],w))return!1}++u}for(;u<r.length;++u)if(f>=this.Ye.length||!this.sn(this.Ye[f++],r[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function QT(n){var e,t;if(Bn(n instanceof Cr||n instanceof zr),n instanceof Cr){if(n instanceof N_){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Cr.create(n.field,"==",u)))||[];return zr.create(o,"or")}return n}const r=n.filters.map(o=>QT(o));return zr.create(r,n.op)}function lA(n){if(0===n.getFilters().length)return[];const e=l0(QT(n));return Bn(u0(e)),hb(e)||fb(e)?[e]:e.getFilters()}function hb(n){return n instanceof Cr}function fb(n){return n instanceof zr&&Ep(n)}function u0(n){return hb(n)||fb(n)||function(e){if(e instanceof zr&&wp(e)){for(const t of e.getFilters())if(!hb(t)&&!fb(t))return!1;return!0}return!1}(n)}function l0(n){if(Bn(n instanceof Cr||n instanceof zr),n instanceof Cr)return n;if(1===n.filters.length)return l0(n.filters[0]);const e=n.filters.map(r=>l0(r));let t=zr.create(e,n.op);return t=ev(t),u0(t)?t:(Bn(t instanceof zr),Bn(sd(t)),Bn(t.filters.length>1),t.filters.reduce((r,o)=>c0(r,o)))}function c0(n,e){let t;return Bn(n instanceof Cr||n instanceof zr),Bn(e instanceof Cr||e instanceof zr),t=n instanceof Cr?e instanceof Cr?zr.create([n,e],"and"):pb(n,e):e instanceof Cr?pb(e,n):function(r,o){if(Bn(r.filters.length>0&&o.filters.length>0),sd(r)&&sd(o))return OE(r,o.getFilters());const u=wp(r)?r:o,f=wp(r)?o:r,w=u.filters.map(N=>c0(N,f));return zr.create(w,"or")}(n,e),ev(t)}function pb(n,e){if(sd(e))return OE(e,n.getFilters());{const t=e.filters.map(r=>c0(n,r));return zr.create(t,"or")}}function ev(n){if(Bn(n instanceof Cr||n instanceof zr),n instanceof Cr)return n;const e=n.getFilters();if(1===e.length)return ev(e[0]);if(M_(n))return n;const t=e.map(o=>ev(o)),r=[];return t.forEach(o=>{o instanceof Cr?r.push(o):o instanceof zr&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:zr.create(r,n.op)}class gb{constructor(){this.rn=new tv}addToCollectionParentIndex(e,t){return this.rn.add(t),bt.resolve()}getCollectionParents(e,t){return bt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return bt.resolve()}deleteFieldIndex(e,t){return bt.resolve()}getDocumentsMatchingTarget(e,t){return bt.resolve(null)}getIndexType(e,t){return bt.resolve(0)}getFieldIndexes(e,t){return bt.resolve([])}getNextCollectionGroupToUpdate(e){return bt.resolve(null)}getMinOffset(e,t){return bt.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,t){return bt.resolve(ua.min())}updateCollectionGroup(e,t,r){return bt.resolve()}updateIndexEntries(e,t){return bt.resolve()}}class tv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new pi(Pr.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new pi(Pr.comparator)).toArray()}}const Up=new Uint8Array(0);class JT{constructor(e,t){this.user=e,this.databaseId=t,this.on=new tv,this.un=new ou(r=>tc(r),(r,o)=>Ip(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:eo(o)};return mb(e).put(u)}return bt.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[hE(t),""],!1,!0);return mb(e).j(o).next(u=>{for(const f of u){if(f.collectionId!==t)break;r.push(iu(f.parent))}return r})}addFieldIndex(e,t){const r=Uh(e),o={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(w=>[w.fieldPath.canonicalString(),w.kind])};var f;delete o.indexId;const u=r.add(o);if(t.indexState){const f=nv(e);return u.next(w=>{f.put(KT(w,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Uh(e),o=nv(e),u=Fh(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Fh(e);let o=!0;const u=new Map;return bt.forEach(this.cn(t),f=>this.an(e,f).next(w=>{o&&(o=!!w),u.set(f,w)})).next(()=>{if(o){let f=vr();const w=[];return bt.forEach(u,(N,V)=>{var Y;nn("IndexedDbIndexManager",`Using index ${Y=N,`id=${Y.indexId}|cg=${Y.collectionGroup}|f=${Y.fields.map(yr=>`${yr.fieldPath}:${yr.kind}`).join(",")}`} to execute ${tc(t)}`);const me=function(yr,gs){const os=Tm(gs);if(void 0===os)return null;for(const si of Sp(yr,os.fieldPath))switch(si.op){case"array-contains-any":return si.value.arrayValue.values||[];case"array-contains":return[si.value]}return null}(V,N),st=function(yr,gs){const os=new Map;for(const si of ed(gs))for(const No of Sp(yr,si.fieldPath))switch(No.op){case"==":case"in":os.set(si.fieldPath.canonicalString(),No.value);break;case"not-in":case"!=":return os.set(si.fieldPath.canonicalString(),No.value),Array.from(os.values())}return null}(V,N),St=function(yr,gs){const os=[];let si=!0;for(const No of ed(gs)){const Td=0===No.kind?po(yr,No.fieldPath,yr.startAt):od(yr,No.fieldPath,yr.startAt);os.push(Td.value),si&&(si=Td.inclusive)}return new ec(os,si)}(V,N),sn=function(yr,gs){const os=[];let si=!0;for(const No of ed(gs)){const Td=0===No.kind?od(yr,No.fieldPath,yr.endAt):po(yr,No.fieldPath,yr.endAt);os.push(Td.value),si&&(si=Td.inclusive)}return new ec(os,si)}(V,N),En=this.hn(N,V,St),Sn=this.hn(N,V,sn),fr=this.ln(N,V,st),Rr=this.fn(N.indexId,me,En,St.inclusive,Sn,sn.inclusive,fr);return bt.forEach(Rr,yr=>r.H(yr,t.limit).next(gs=>{gs.forEach(os=>{const si=mn.fromSegments(os.documentKey);f.has(si)||(f=f.add(si),w.push(si))})}))}).next(()=>w)}return bt.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:lA(zr.create(e.filters,"and")).map(r=>Vm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,o,u,f,w){const N=(null!=t?t.length:1)*Math.max(r.length,u.length),V=N/(null!=t?t.length:1),Y=[];for(let me=0;me<N;++me){const st=t?this.dn(t[me/V]):Up,St=this.wn(e,st,r[me%V],o),sn=this._n(e,st,u[me%V],f),En=w.map(Sn=>this.wn(e,st,Sn,!0));Y.push(...this.createRange(St,sn,En))}return Y}wn(e,t,r,o){const u=new _d(e,mn.empty(),t,r);return o?u:u.Je()}_n(e,t,r,o){const u=new _d(e,mn.empty(),t,r);return o?u.Je():u}an(e,t){const r=new Xm(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let f=null;for(const w of u)r.tn(w)&&(!f||w.fields.length>f.fields.length)&&(f=w);return f})}getIndexType(e,t){let r=2;const o=this.cn(t);return bt.forEach(o,u=>this.an(e,u).next(f=>{f?0!==r&&f.fields.length<function(w){let N=new pi(Zi.comparator),V=!1;for(const Y of w.filters)for(const me of Y.getFlattenedFilters())me.field.isKeyField()||("array-contains"===me.op||"array-contains-any"===me.op?V=!0:N=N.add(me.field));for(const Y of w.orderBy)Y.field.isKeyField()||(N=N.add(Y.field));return N.size+(V?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}mn(e,t){const r=new yd;for(const o of ed(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const f=r.He(o.kind);md.Ve._e(u,f)}return r.Qe()}dn(e){const t=new yd;return md.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new yd;return md.Ve._e(Sh(this.databaseId,t),r.He(function(o){const u=ed(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let o=[];o.push(new yd);let u=0;for(const f of ed(e)){const w=r[u++];for(const N of o)if(this.yn(t,f.fieldPath)&&mp(w))o=this.pn(o,f,w);else{const V=N.He(f.kind);md.Ve._e(w,V)}}return this.In(o)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const o=[...e],u=[];for(const f of r.arrayValue.values||[])for(const w of o){const N=new yd;N.seed(w.Qe()),md.Ve._e(f,N.He(t.kind)),u.push(N)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof Cr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Uh(e),o=nv(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const f=[];return bt.forEach(u,w=>o.get([w.indexId,this.uid]).next(N=>{f.push(function(V,Y){const me=Y?new bh(Y.sequenceNumber,new ua(Ph(Y.readTime),new mn(iu(Y.documentKey)),Y.largestBatchId)):bh.empty(),st=V.fields.map(([St,sn])=>new Zl(Zi.fromServerFormat(St),sn));return new Im(V.indexId,V.collectionGroup,st,me)}(w,N))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:rr(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Uh(e),u=nv(e);return this.Tn(e).next(f=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(w=>bt.forEach(w,N=>u.put(KT(N.indexId,this.user,f,r)))))}updateIndexEntries(e,t){const r=new Map;return bt.forEach(t,(o,u)=>{const f=r.get(o.collectionGroup);return(f?bt.resolve(f):this.getFieldIndexes(e,o.collectionGroup)).next(w=>(r.set(o.collectionGroup,w),bt.forEach(w,N=>this.En(e,o,N).next(V=>{const Y=this.An(u,N);return V.isEqual(Y)?bt.resolve():this.vn(e,u,N,V,Y)}))))})}Rn(e,t,r,o){return Fh(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,o){return Fh(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const o=Fh(e);let u=new pi(Ou);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(f,w)=>{u=u.add(new _d(r.indexId,t,w.arrayValue,w.directionalValue))}).next(()=>u)}An(e,t){let r=new pi(Ou);const o=this.mn(t,e);if(null==o)return r;const u=Tm(t);if(null!=u){const f=e.data.field(u.fieldPath);if(mp(f))for(const w of f.arrayValue.values||[])r=r.add(new _d(t.indexId,e.key,this.dn(w),o))}else r=r.add(new _d(t.indexId,e.key,Up,o));return r}vn(e,t,r,o,u){nn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(w,N,V,Y,me){const st=w.getIterator(),St=N.getIterator();let sn=rd(st),En=rd(St);for(;sn||En;){let Sn=!1,fr=!1;if(sn&&En){const Rr=V(sn,En);Rr<0?fr=!0:Rr>0&&(Sn=!0)}else null!=sn?fr=!0:Sn=!0;Sn?(Y(En),En=rd(St)):fr?(me(sn),sn=rd(st)):(sn=rd(st),En=rd(St))}}(o,u,Ou,w=>{f.push(this.Rn(e,t,r,w))},w=>{f.push(this.Pn(e,t,r,w))}),bt.waitFor(f)}Tn(e){let t=1;return nv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((f,w)=>Ou(f,w)).filter((f,w,N)=>!w||0!==Ou(f,N[w-1]));const o=[];o.push(e);for(const f of r){const w=Ou(f,e),N=Ou(f,t);if(0===w)o[0]=e.Je();else if(w>0&&N<0)o.push(f),o.push(f.Je());else if(N>0)break}o.push(t);const u=[];for(let f=0;f<o.length;f+=2){if(this.bn(o[f],o[f+1]))return[];u.push(IDBKeyRange.bound([o[f].indexId,this.uid,o[f].arrayValue,o[f].directionalValue,Up,[]],[o[f+1].indexId,this.uid,o[f+1].arrayValue,o[f+1].directionalValue,Up,[]]))}return u}bn(e,t){return Ou(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(d0)}getMinOffset(e,t){return bt.mapArray(this.cn(t),r=>this.an(e,r).next(o=>o||Nn())).next(d0)}}function mb(n){return Ss(n,"collectionParents")}function Fh(n){return Ss(n,"indexEntries")}function Uh(n){return Ss(n,"indexConfiguration")}function nv(n){return Ss(n,"indexState")}function d0(n){Bn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;Sm(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new ua(e.readTime,e.documentKey,t)}const rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class go{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new go(e,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vb(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],f=IDBKeyRange.only(t.batchId);let w=0;const N=r.X({range:f},(Y,me,st)=>(w++,st.delete()));u.push(N.next(()=>{Bn(1===w)}));const V=[];for(const Y of t.mutations){const me=_E(e,Y.key.path,t.batchId);u.push(o.delete(me)),V.push(Y.key)}return bt.waitFor(u).next(()=>V)}function h0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Nn();e=n.noDocument}return JSON.stringify(e).length}go.DEFAULT_COLLECTION_PERCENTILE=10,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,go.DEFAULT=new go(41943040,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),go.DISABLED=new go(-1,0,0);class f0{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,t,r,o){Bn(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new f0(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oc(e).X({index:"userMutationsIndex",range:r},(o,u,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Bh(e),f=oc(e);return f.add({}).next(w=>{Bn("number"==typeof w);const N=new Np(w,t,r,o),V=function(st,St,sn){const En=sn.baseMutations.map(fr=>Lp(st.fe,fr)),Sn=sn.mutations.map(fr=>Lp(st.fe,fr));return{userId:St,batchId:sn.batchId,localWriteTimeMs:sn.localWriteTime.toMillis(),baseMutations:En,mutations:Sn}}(this.serializer,this.userId,N),Y=[];let me=new pi((st,St)=>rr(st.canonicalString(),St.canonicalString()));for(const st of o){const St=_E(this.userId,st.key.path,w);me=me.add(st.key.path.popLast()),Y.push(f.put(V)),Y.push(u.put(St,y_))}return me.forEach(st=>{Y.push(this.indexManager.addToCollectionParentIndex(e,st))}),e.addOnCommittedListener(()=>{this.Vn[w]=N.keys()}),bt.waitFor(Y).next(()=>N)})}lookupMutationBatch(e,t){return oc(e).get(t).next(r=>r?(Bn(r.userId===this.userId),kh(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?bt.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Vn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return oc(e).X({index:"userMutationsIndex",range:o},(f,w,N)=>{w.userId===this.userId&&(Bn(w.batchId>=r),u=kh(this.serializer,w)),N.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return oc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(o,u,f)=>{r=u.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oc(e).j("userMutationsIndex",t).next(r=>r.map(o=>kh(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=xm(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Bh(e).X({range:o},(f,w,N)=>{const[V,Y,me]=f,st=iu(Y);if(V===this.userId&&t.path.isEqual(st))return oc(e).get(me).next(St=>{if(!St)throw Nn();Bn(St.userId===this.userId),u.push(kh(this.serializer,St))});N.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pi(rr);const o=[];return t.forEach(u=>{const f=xm(this.userId,u.path),w=IDBKeyRange.lowerBound(f),N=Bh(e).X({range:w},(V,Y,me)=>{const[st,St,sn]=V,En=iu(St);st===this.userId&&u.path.isEqual(En)?r=r.add(sn):me.done()});o.push(N)}),bt.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=xm(this.userId,r),f=IDBKeyRange.lowerBound(u);let w=new pi(rr);return Bh(e).X({range:f},(N,V,Y)=>{const[me,st,St]=N,sn=iu(st);me===this.userId&&r.isPrefixOf(sn)?sn.length===o&&(w=w.add(St)):Y.done()}).next(()=>this.Dn(e,w))}Dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(oc(e).get(u).next(f=>{if(null===f)throw Nn();Bn(f.userId===this.userId),r.push(kh(this.serializer,f))}))}),bt.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return vb(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),bt.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return bt.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Bh(e).X({range:r},(u,f,w)=>{if(u[0]===this.userId){const N=iu(u[1]);o.push(N)}else w.done()}).next(()=>{Bn(0===o.length)})})}containsKey(e,t){return yb(e,this.userId,t)}xn(e){return XT(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yb(n,e,t){const r=xm(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let f=!1;return Bh(n).X({range:u,Y:!0},(w,N,V)=>{const[Y,me,st]=w;Y===e&&me===o&&(f=!0),V.done()}).next(()=>f)}function oc(n){return Ss(n,"mutations")}function Bh(n){return Ss(n,"documentMutations")}function XT(n){return Ss(n,"mutationQueues")}class Vh{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Vh(0)}static Mn(){return new Vh(-1)}}class cA{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Vh(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>jn.fromTimestamp(new Ei(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.On(e,o)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bp(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Bn(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Bp(e).X((f,w)=>{const N=Lh(w);N.sequenceNumber<=t&&null===r.get(N.targetId)&&(o++,u.push(this.removeTargetData(e,N)))}).next(()=>bt.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Bp(e).X((r,o)=>{const u=Lh(o);t(u)})}$n(e){return _b(e).get("targetGlobalKey").next(t=>(Bn(null!==t),t))}On(e,t){return _b(e).put("targetGlobalKey",t)}Fn(e,t){return Bp(e).put(cb(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=tc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Bp(e).X({range:o,index:"queryTargetsIndex"},(f,w,N)=>{const V=Lh(w);Ip(t,V.target)&&(u=V,N.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=wd(e);return t.forEach(f=>{const w=eo(f.path);o.push(u.put({targetId:r,path:w})),o.push(this.referenceDelegate.addReference(e,r,f))}),bt.waitFor(o)}removeMatchingKeys(e,t,r){const o=wd(e);return bt.forEach(t,u=>{const f=eo(u.path);return bt.waitFor([o.delete([r,f]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=wd(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=wd(e);let u=vr();return o.X({range:r,Y:!0},(f,w,N)=>{const V=iu(f[1]),Y=new mn(V);u=u.add(Y)}).next(()=>u)}containsKey(e,t){const r=eo(t.path),o=IDBKeyRange.bound([r],[hE(r)],!1,!0);let u=0;return wd(e).X({index:"documentTargetsIndex",Y:!0,range:o},([f,w],N,V)=>{0!==f&&(u++,V.done())}).next(()=>u>0)}le(e,t){return Bp(e).get(t).next(r=>r?Lh(r):null)}}function Bp(n){return Ss(n,"targets")}function _b(n){return Ss(n,"targetGlobal")}function wd(n){return Ss(n,"targetDocuments")}function eS([n,e],[t,r]){const o=rr(n,t);return 0===o?rr(e,r):o}class dA{constructor(e){this.Ln=e,this.buffer=new pi(eS),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();eS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tS{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;nn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,oe.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Yl(r)?nn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ql(r)}yield t.Qn(3e5)}))}}class hA{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return bt.resolve(la.ct);const r=new dA(t);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(nn("LruGarbageCollector","Garbage collection skipped; disabled"),bt.resolve(rv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(nn("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rv):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,o,u,f,w,N,V;const Y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(me=>(me>this.params.maximumSequenceNumbersToCollect?(nn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${me}`),o=this.params.maximumSequenceNumbersToCollect):o=me,f=Date.now(),this.nthSequenceNumber(e,o))).next(me=>(r=me,w=Date.now(),this.removeTargets(e,r,t))).next(me=>(u=me,N=Date.now(),this.removeOrphanedDocuments(e,r))).next(me=>(V=Date.now(),h_()<=Re.DEBUG&&nn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-Y}ms\n\tDetermined least recently used ${o} in `+(w-f)+`ms\n\tRemoved ${u} targets in `+(N-w)+`ms\n\tRemoved ${me} documents in `+(V-N)+`ms\nTotal Duration: ${V-Y}ms`),bt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:me})))}}class i{constructor(e,t){this.db=e,this.garbageCollector=function nS(n,e){return new hA(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,o)=>t(o))}addReference(e,t,r){return s(e,r)}removeReference(e,t,r){return s(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return s(e,t)}Xn(e,t){return function(r,o){let u=!1;return XT(r).Z(f=>yb(r,f,o).next(w=>(w&&(u=!0),bt.resolve(!w)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Yn(e,(f,w)=>{if(w<=t){const N=this.Xn(e,f).next(V=>{if(!V)return u++,r.getEntry(e,f).next(()=>(r.removeEntry(f,jn.min()),wd(e).delete([0,eo(f.path)])))});o.push(N)}}).next(()=>bt.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return s(e,t)}Yn(e,t){const r=wd(e);let o,u=la.ct;return r.X({index:"documentTargetsIndex"},([f,w],{path:N,sequenceNumber:V})=>{0===f?(u!==la.ct&&t(new mn(iu(o)),u),u=V,o=N):u=la.ct}).next(()=>{u!==la.ct&&t(new mn(iu(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function s(n,e){return wd(n).put((r=n.currentSequenceNumber,{targetId:0,path:eo(e.path),sequenceNumber:r}));var r}class a{constructor(){this.changes=new ou(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?bt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class l{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return x(e).put(r)}removeEntry(e,t,r){return x(e).delete(function(o,u){const f=o.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Ym(u),f[f.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=bi.newInvalidDocument(t);return x(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(L(t))},(o,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:bi.newInvalidDocument(t)};return x(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(L(t))},(o,u)=>{r={document:this.ts(t,u),size:h0(u)}}).next(()=>r)}getEntries(e,t){let r=xo();return this.ns(e,t,(o,u)=>{const f=this.ts(o,u);r=r.insert(o,f)}).next(()=>r)}ss(e,t){let r=xo(),o=new fi(mn.comparator);return this.ns(e,t,(u,f)=>{const w=this.ts(u,f);r=r.insert(u,w),o=o.insert(u,h0(f))}).next(()=>({documents:r,rs:o}))}ns(e,t,r){if(t.isEmpty())return bt.resolve();let o=new pi(he);t.forEach(N=>o=o.add(N));const u=IDBKeyRange.bound(L(o.first()),L(o.last())),f=o.getIterator();let w=f.getNext();return x(e).X({index:"documentKeyIndex",range:u},(N,V,Y)=>{const me=mn.fromSegments([...V.prefixPath,V.collectionGroup,V.documentId]);for(;w&&he(w,me)<0;)r(w,null),w=f.getNext();w&&w.isEqual(me)&&(r(w,V),w=f.hasNext()?f.getNext():null),w?Y.G(L(w)):Y.done()}).next(()=>{for(;w;)r(w,null),w=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const u=t.path,f=[u.popLast().toArray(),u.lastSegment(),Ym(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],w=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return x(e).j(IDBKeyRange.bound(f,w,!0)).next(N=>{let V=xo();for(const Y of N){const me=this.ts(mn.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);me.isFoundDocument()&&(ld(t,me)||o.has(me.key))&&(V=V.insert(me.key,me))}return V})}getAllFromCollectionGroup(e,t,r,o){let u=xo();const f=K(t,r),w=K(t,ua.max());return x(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,w,!0)},(N,V,Y)=>{const me=this.ts(mn.fromSegments(V.prefixPath.concat(V.collectionGroup,V.documentId)),V);u=u.insert(me.key,me),u.size===o&&Y.done()}).next(()=>u)}newChangeBuffer(e){return new g(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return E(e).get("remoteDocumentGlobalKey").next(t=>(Bn(!!t),t))}Zn(e,t){return E(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function ub(n,e){let t;if(e.document)t=J_(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=mn.fromSegments(e.noDocument.path),o=Ph(e.noDocument.readTime);t=bi.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Nn();{const r=mn.fromSegments(e.unknownDocument.path),o=Ph(e.unknownDocument.version);t=bi.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Ei(r[0],r[1]);return jn.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(jn.min()))return r}return bi.newInvalidDocument(e)}}function h(n){return new l(n)}class g extends a{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ou(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new pi((u,f)=>rr(u.canonicalString(),f.canonicalString()));return this.changes.forEach((u,f)=>{const w=this.us.get(u);if(t.push(this.os.removeEntry(e,u,w.readTime)),f.isValidDocument()){const N=lb(this.os.serializer,f);o=o.add(u.path.popLast());const V=h0(N);r+=V-w.size,t.push(this.os.addEntry(e,u,N))}else if(r-=w.size,this.trackRemovals){const N=lb(this.os.serializer,f.convertToNoDocument(jn.min()));t.push(this.os.addEntry(e,u,N))}}),o.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),bt.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:o})=>(o.forEach((u,f)=>{this.us.set(u,{size:f,readTime:r.get(u).readTime})}),r))}}function E(n){return Ss(n,"remoteDocumentGlobal")}function x(n){return Ss(n,"remoteDocumentsV14")}function L(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function K(n,e){const t=e.documentKey.path.toArray();return[n,Ym(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function he(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=rr(t[u],r[u]),o)return o;return o=rr(t.length,r.length),o||(o=rr(t[t.length-2],r[r.length-2]),o||rr(t[t.length-1],r[r.length-1]))}class ke{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ut{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&zm(r.mutation,o,Go.empty(),Ei.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,vr()).next(()=>r))}getLocalViewOfDocuments(e,t,r=vr()){const o=Mu();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let f=Dh();return u.forEach((w,N)=>{f=f.insert(w,N.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const r=Mu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,vr()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,w)=>{t.set(f,w)})})}computeViews(e,t,r,o){let u=xo();const f=dd(),w=dd();return t.forEach((N,V)=>{const Y=r.get(V.key);o.has(V.key)&&(void 0===Y||Y.mutation instanceof ic)?u=u.insert(V.key,V):void 0!==Y?(f.set(V.key,Y.mutation.getFieldMask()),zm(Y.mutation,V,Y.mutation.getFieldMask(),Ei.now())):f.set(V.key,Go.empty())}),this.recalculateAndSaveOverlays(e,u).next(N=>(N.forEach((V,Y)=>f.set(V,Y)),t.forEach((V,Y)=>{var me;return w.set(V,new ke(Y,null!==(me=f.get(V))&&void 0!==me?me:null))}),w))}recalculateAndSaveOverlays(e,t){const r=dd();let o=new fi((f,w)=>f-w),u=vr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const w of f)w.keys().forEach(N=>{const V=t.get(N);if(null===V)return;let Y=r.get(N)||Go.empty();Y=w.applyToLocalView(V,Y),r.set(N,Y);const me=(o.get(w.batchId)||vr()).add(N);o=o.insert(w.batchId,me)})}).next(()=>{const f=[],w=o.getReverseIterator();for(;w.hasNext();){const N=w.getNext(),V=N.key,Y=N.value,me=L_();Y.forEach(st=>{if(!u.has(st)){const St=RT(t.get(st),r.get(st));null!==St&&me.set(st,St),u=u.add(st)}}),f.push(this.documentOverlayCache.saveOverlays(e,V,me))}return bt.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return mn.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ad(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):bt.resolve(Mu());let w=-1,N=u;return f.next(V=>bt.forEach(V,(Y,me)=>(w<me.largestBatchId&&(w=me.largestBatchId),u.get(Y)?bt.resolve():this.remoteDocumentCache.getEntry(e,Y).next(st=>{N=N.insert(Y,st)}))).next(()=>this.populateOverlays(e,V,u)).next(()=>this.computeViews(e,N,V,vr())).next(Y=>({batchId:w,changes:cd(Y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new mn(t)).next(r=>{let o=Dh();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=Dh();return this.indexManager.getCollectionParents(e,o).next(f=>bt.forEach(f,w=>{const N=(V=t,Y=w.child(o),new fl(Y,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt));var V,Y;return this.getDocumentsMatchingCollectionQuery(e,N,r).next(V=>{V.forEach((Y,me)=>{u=u.insert(Y,me)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((w,N)=>{const V=N.getKey();null===u.get(V)&&(u=u.insert(V,bi.newInvalidDocument(V)))});let f=Dh();return u.forEach((w,N)=>{const V=o.get(w);void 0!==V&&zm(V.mutation,N,Go.empty(),Ei.now()),ld(t,N)&&(f=f.insert(w,N))}),f})}}class wt{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return bt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:qi(r.createTime)}),bt.resolve()}getNamedQuery(e,t){return bt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:r0(r.bundledQuery),readTime:qi(r.readTime)}),bt.resolve();var r}}class Vt{constructor(){this.overlays=new fi(mn.comparator),this.ls=new Map}getOverlay(e,t){return bt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Mu();return bt.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.we(e,t,u)}),bt.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),bt.resolve()}getOverlaysForCollection(e,t,r){const o=Mu(),u=t.length+1,f=new mn(t.child("")),w=this.overlays.getIteratorFrom(f);for(;w.hasNext();){const N=w.getNext().value,V=N.getKey();if(!t.isPrefixOf(V.path))break;V.path.length===u&&N.largestBatchId>r&&o.set(N.getKey(),N)}return bt.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new fi((V,Y)=>V-Y);const f=this.overlays.getIterator();for(;f.hasNext();){const V=f.getNext().value;if(V.getKey().getCollectionGroup()===t&&V.largestBatchId>r){let Y=u.get(V.largestBatchId);null===Y&&(Y=Mu(),u=u.insert(V.largestBatchId,Y)),Y.set(V.getKey(),V)}}const w=Mu(),N=u.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((V,Y)=>w.set(V,Y)),!(w.size()>=o)););return bt.resolve(w)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const f=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new G_(t,r));let u=this.ls.get(t);void 0===u&&(u=vr(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class un{constructor(){this.fs=new pi(ln.ds),this.ws=new pi(ln._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new ln(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new ln(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new mn(new Pr([])),r=new ln(t,e),o=new ln(t,e+1),u=[];return this.ws.forEachInRange([r,o],f=>{this.ys(f),u.push(f.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new mn(new Pr([])),r=new ln(t,e),o=new ln(t,e+1);let u=vr();return this.ws.forEachInRange([r,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new ln(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ln{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return mn.comparator(e.key,t.key)||rr(e.As,t.As)}static _s(e,t){return rr(e.As,t.As)||mn.comparator(e.key,t.key)}}class Un{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new pi(ln.ds)}checkEmpty(e){return bt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.vs;this.vs++;const f=new Np(u,t,r,o);this.mutationQueue.push(f);for(const w of o)this.Rs=this.Rs.add(new ln(w.key,u)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return bt.resolve(f)}lookupMutationBatch(e,t){return bt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),u=o<0?0:o;return bt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ln(t,0),o=new ln(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,o],f=>{const w=this.Ps(f.As);u.push(w)}),bt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pi(rr);return t.forEach(o=>{const u=new ln(o,0),f=new ln(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,f],w=>{r=r.add(w.As)})}),bt.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;mn.isDocumentKey(u)||(u=u.child(""));const f=new ln(new mn(u),0);let w=new pi(rr);return this.Rs.forEachWhile(N=>{const V=N.key.path;return!!r.isPrefixOf(V)&&(V.length===o&&(w=w.add(N.As)),!0)},f),bt.resolve(this.Vs(w))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Bn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return bt.forEach(t.mutations,o=>{const u=new ln(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new ln(t,0),o=this.Rs.firstAfterOrEqual(r);return bt.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return bt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Jn{constructor(e){this.Ds=e,this.docs=new fi(mn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,f=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return bt.resolve(r?r.document.mutableCopy():bi.newInvalidDocument(t))}getEntries(e,t){let r=xo();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():bi.newInvalidDocument(o))}),bt.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=xo();const f=t.path,w=new mn(f.child("")),N=this.docs.getIteratorFrom(w);for(;N.hasNext();){const{key:V,value:{document:Y}}=N.getNext();if(!f.isPrefixOf(V.path))break;V.path.length>f.length+1||Sm(g_(Y),r)<=0||(o.has(Y.key)||ld(t,Y))&&(u=u.insert(Y.key,Y.mutableCopy()))}return bt.resolve(u)}getAllFromCollectionGroup(e,t,r,o){Nn()}Cs(e,t){return bt.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new tn(this)}getSize(e){return bt.resolve(this.size)}}class tn extends a{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),bt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ur{constructor(e){this.persistence=e,this.xs=new ou(t=>tc(t),Ip),this.lastRemoteSnapshotVersion=jn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new un,this.targetCount=0,this.Ms=Vh.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),bt.resolve()}getLastRemoteSnapshotVersion(e){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return bt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),bt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Vh(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,bt.resolve()}updateTargetData(e,t){return this.Fn(t),bt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,bt.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.xs.forEach((f,w)=>{w.sequenceNumber<=t&&null===r.get(w.targetId)&&(this.xs.delete(f),u.push(this.removeMatchingKeysForTargetId(e,w.targetId)),o++)}),bt.waitFor(u).next(()=>o)}getTargetCount(e){return bt.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return bt.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),bt.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),bt.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),bt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return bt.resolve(r)}containsKey(e,t){return bt.resolve(this.ks.containsKey(t))}}class gi{constructor(e,t){this.$s={},this.overlays={},this.Os=new la(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ur(this),this.indexManager=new gb,this.remoteDocumentCache=new Jn(r=>this.referenceDelegate.Ls(r)),this.serializer=new Fp(t),this.qs=new wt(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vt,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Un(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){nn("MemoryPersistence","Starting transaction:",e);const o=new ss(this.Os.next());return this.referenceDelegate.Us(),r(o).next(u=>this.referenceDelegate.Ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Gs(e,t){return bt.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class ss extends Cm{constructor(e){super(),this.currentSequenceNumber=e}}class p0{constructor(e){this.persistence=e,this.Qs=new un,this.js=null}static zs(e){return new p0(e)}get Ws(){if(this.js)return this.js;throw Nn()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),bt.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),bt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),bt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.Ws,r=>{const o=mn.fromPath(r);return this.Hs(e,o).next(u=>{u||t.removeEntry(o,jn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return bt.or([()=>bt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class VD{constructor(e){this.serializer=e}O(e,t,r,o){const u=new Dm("createOrUpgrade",t);var w;r<1&&o>=1&&(e.createObjectStore("owner"),(w=e).createObjectStore("mutationQueues",{keyPath:"userId"}),w.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yE,{unique:!0}),w.createObjectStore("documentMutations"),fA(e),function(w){w.createObjectStore("remoteDocuments")}(e));let f=bt.resolve();return r<3&&o>=3&&(0!==r&&(function(w){w.deleteObjectStore("targetDocuments"),w.deleteObjectStore("targets"),w.deleteObjectStore("targetGlobal")}(e),fA(e)),f=f.next(()=>function(w){const N=w.store("targetGlobal"),V={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jn.min().toTimestamp(),targetCount:0};return N.put("targetGlobalKey",V)}(u))),r<4&&o>=4&&(0!==r&&(f=f.next(()=>function(w,N){return N.store("mutations").j().next(V=>{w.deleteObjectStore("mutations"),w.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yE,{unique:!0});const Y=N.store("mutations"),me=V.map(st=>Y.put(st));return bt.waitFor(me)})}(e,u))),f=f.next(()=>{!function(w){w.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(f=f.next(()=>this.Ys(u))),r<6&&o>=6&&(f=f.next(()=>(function(w){w.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&o>=7&&(f=f.next(()=>this.Zs(u))),r<8&&o>=8&&(f=f.next(()=>this.ti(e,u))),r<9&&o>=9&&(f=f.next(()=>{!function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(f=f.next(()=>this.ei(u))),r<11&&o>=11&&(f=f.next(()=>{(function(w){w.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(w){w.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(f=f.next(()=>{!function(w){const N=w.createObjectStore("documentOverlays",{keyPath:JC});N.createIndex("collectionPathOverlayIndex",IE,{unique:!1}),N.createIndex("collectionGroupOverlayIndex",b_,{unique:!1})}(e)})),r<13&&o>=13&&(f=f.next(()=>function(w){const N=w.createObjectStore("remoteDocumentsV14",{keyPath:__});N.createIndex("documentKeyIndex",wE),N.createIndex("collectionGroupIndex",w_)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(f=f.next(()=>this.si(e,u))),r<15&&o>=15&&(f=f.next(()=>function(w){w.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),w.createObjectStore("indexState",{keyPath:EE}).createIndex("sequenceNumberIndex",Ih,{unique:!1}),w.createObjectStore("indexEntries",{keyPath:bE}).createIndex("documentKeyIndex",ET,{unique:!1})}(e))),f}Xs(e){let t=0;return e.store("remoteDocuments").X((r,o)=>{t+=h0(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>bt.forEach(o,u=>{const f=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",f).next(w=>bt.forEach(w,N=>{Bn(N.userId===u.userId);const V=kh(this.serializer,N);return vb(e,u.userId,V).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.X((f,w)=>{const N=new Pr(f),V=[0,eo(N)];u.push(t.get(V).next(Y=>Y?bt.resolve():t.put({targetId:0,path:eo(N),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>bt.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:wT});const r=t.store("collectionParents"),o=new tv,u=f=>{if(o.add(f)){const w=f.lastSegment(),N=f.popLast();return r.put({collectionId:w,parent:eo(N)})}};return t.store("remoteDocuments").X({Y:!0},(f,w)=>{const N=new Pr(f);return u(N.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([f,w,N],V)=>{const Y=iu(w);return u(Y.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,o)=>{const u=Lh(o),f=cb(this.serializer,u);return t.put(f)})}ni(e,t){const r=t.store("remoteDocuments"),o=[];return r.X((u,f)=>{const w=t.store("remoteDocumentsV14"),N=(V=f,V.document?new mn(Pr.fromString(V.document.name).popFirst(5)):V.noDocument?mn.fromSegments(V.noDocument.path):V.unknownDocument?mn.fromSegments(V.unknownDocument.path):Nn()).path.toArray();var V;const Y={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};o.push(w.put(Y))}).next(()=>bt.waitFor(o))}si(e,t){const r=t.store("mutations"),o=h(this.serializer),u=new gi(p0.zs,this.serializer.fe);return r.j().next(f=>{const w=new Map;return f.forEach(N=>{var V;let Y=null!==(V=w.get(N.userId))&&void 0!==V?V:vr();kh(this.serializer,N).keys().forEach(me=>Y=Y.add(me)),w.set(N.userId,Y)}),bt.forEach(w,(N,V)=>{const Y=new Vs(V),me=Qm.de(this.serializer,Y),st=u.getIndexManager(Y),St=f0.de(Y,this.serializer,st,u.referenceDelegate);return new ut(o,St,me,st).recalculateAndSaveOverlaysForDocumentKeys(new Mm(t,la.ct),N).next()})})}}function fA(n){n.createObjectStore("targetDocuments",{keyPath:_T}).createIndex("documentTargetsIndex",E_,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yT,{unique:!0}),n.createObjectStore("targetGlobal")}const rS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class iS{constructor(e,t,r,o,u,f,w,N,V,Y,me=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=f,this.document=w,this.ri=V,this.oi=Y,this.ui=me,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=st=>Promise.resolve(),!iS.D())throw new qt(Dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new i(this,o),this.di=t+"main",this.serializer=new Fp(N),this.wi=new ru(this.di,this.ui,new VD(this.serializer)),this.Bs=new cA(this.referenceDelegate,this.serializer),this.remoteDocumentCache=h(this.serializer),this.qs=new uA,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===Y&&Ki("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qt(Dt.FAILED_PRECONDITION,rS);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new la(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,oe.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,oe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,oe.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Eb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Yl(e))return nn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return nn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return g0(e).get("owner").next(t=>bt.resolve(this.Ri(t)))}Pi(e){return Eb(e).delete(this.clientId)}bi(){var e=this;return(0,oe.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Ss(r,"clientMetadata");return o.j().next(u=>{const f=e.Si(u,18e5),w=u.filter(N=>-1===f.indexOf(N));return bt.forEach(w,N=>o.delete(N.clientId)).next(()=>w)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?bt.resolve(!0):g0(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new qt(Dt.FAILED_PRECONDITION,rS);return!1}}return!(!this.networkEnabled||!this.inForeground)||Eb(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&nn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,oe.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Mm(t,la.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Eb(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return f0.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new JT(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Qm.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){nn("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(f=this.ui)?S_:14===f?T_:13===f?SE:12===f?I_:11===f?TE:void Nn();var f;let w;return this.wi.runTransaction(e,o,u,N=>(w=new Mm(N,this.Os?this.Os.next():la.ct),"readwrite-primary"===t?this.Ti(w).next(V=>!!V||this.Ei(w)).next(V=>{if(!V)throw Ki(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new qt(Dt.FAILED_PRECONDITION,pE);return r(w)}).next(V=>this.vi(w).next(()=>V)):this.Oi(w).next(()=>r(w)))).then(N=>(w.raiseOnCommittedEvent(),N))}Oi(e){return g0(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new qt(Dt.FAILED_PRECONDITION,rS)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return g0(e).put("owner",t)}static D(){return ru.D()}Ai(e){const t=g0(e);return t.get("owner").next(r=>this.Ri(r)?(nn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):bt.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Ki(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(function ye(){return!_t()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return nn("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ki("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Ki("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function g0(n){return Ss(n,"owner")}function Eb(n){return Ss(n,"clientMetadata")}function sS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class oS{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=vr(),o=vr();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new oS(e,t.fromCache,r,o)}}class pA{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(u=>u||this.Gi(e,t,o,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(xT(t))return bt.resolve(null);let r=no(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Ap(t,null,"F"),r=no(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const f=vr(...u);return this.Ui.getDocuments(e,f).next(w=>this.indexManager.getMinOffset(e,r).next(N=>{const V=this.ji(t,w);return this.zi(t,V,f,N.readTime)?this.Ki(e,Ap(t,null,"F")):this.Wi(e,V,t,N)}))})))}Gi(e,t,r,o){return xT(t)||o.isEqual(jn.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const f=this.ji(t,u);return this.zi(t,f,r,o)?this.Qi(e,t):(h_()<=Re.DEBUG&&nn("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),O_(t)),this.Wi(e,f,t,fE(o,-1)))})}ji(e,t){let r=new pi(k_(e));return t.forEach((o,u)=>{ld(e,u)&&(r=r.add(u))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Qi(e,t){return h_()<=Re.DEBUG&&nn("QueryEngine","Using full collection scan to execute query:",O_(t)),this.Ui.getDocumentsMatchingQuery(e,t,ua.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}class jD{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new fi(rr),this.Yi=new ou(u=>tc(u),Ip),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ut(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function gA(n,e,t,r){return new jD(n,e,t,r)}function mA(n,e){return aS.apply(this,arguments)}function aS(){return aS=(0,oe.Z)(function*(n,e){const t=wn(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const f=[],w=[];let N=vr();for(const V of o){f.push(V.batchId);for(const Y of V.mutations)N=N.add(Y.key)}for(const V of u){w.push(V.batchId);for(const Y of V.mutations)N=N.add(Y.key)}return t.localDocuments.getDocuments(r,N).next(V=>({er:V,removedBatchIds:f,addedBatchIds:w}))})})}),aS.apply(this,arguments)}function vA(n){const e=wn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function yA(n,e,t){let r=vr(),o=vr();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let f=xo();return t.forEach((w,N)=>{const V=u.get(w);N.isFoundDocument()!==V.isFoundDocument()&&(o=o.add(w)),N.isNoDocument()&&N.version.isEqual(jn.min())?(e.removeEntry(w,N.readTime),f=f.insert(w,N)):!V.isValidDocument()||N.version.compareTo(V.version)>0||0===N.version.compareTo(V.version)&&V.hasPendingWrites?(e.addEntry(N),f=f.insert(w,N)):nn("LocalStore","Ignoring outdated watch update for ",w,". Current version:",V.version," Watch version:",N.version)}),{nr:f,sr:o}})}function zD(n,e){const t=wn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iv(n,e){const t=wn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(u=>u?(o=u,bt.resolve(o)):t.Bs.allocateTargetId(r).next(f=>(o=new Ma(e,f,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function sv(n,e,t){return uS.apply(this,arguments)}function uS(){return uS=(0,oe.Z)(function*(n,e,t){const r=wn(n),o=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Yl(f))throw f;nn("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),uS.apply(this,arguments)}function bb(n,e,t){const r=wn(n);let o=jn.min(),u=vr();return r.persistence.runTransaction("Execute query","readonly",f=>function(w,N,V){const Y=wn(w),me=Y.Yi.get(V);return void 0!==me?bt.resolve(Y.Ji.get(me)):Y.Bs.getTargetData(N,V)}(r,f,no(e)).next(w=>{if(w)return o=w.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(f,w.targetId).next(N=>{u=N})}).next(()=>r.Hi.getDocumentsMatchingQuery(f,e,t?o:jn.min(),t?u:vr())).next(w=>(EA(r,P_(e),w),{documents:w,ir:u})))}function _A(n,e){const t=wn(n),r=wn(t.Bs),o=t.Ji.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(f=>f?f.target:null))}function wA(n,e){const t=wn(n),r=t.Xi.get(e)||jn.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Zi.getAllFromCollectionGroup(o,e,fE(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(EA(t,e,o),o))}function EA(n,e,t){let r=n.Xi.get(e)||jn.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function lS(){return lS=(0,oe.Z)(function*(n,e,t,r){const o=wn(n);let u=vr(),f=xo();for(const V of t){const Y=e.rr(V.metadata.name);V.document&&(u=u.add(Y));const me=e.ur(V);me.setReadTime(e.cr(V.metadata.readTime)),f=f.insert(Y,me)}const w=o.Zi.newChangeBuffer({trackRemovals:!0}),N=yield iv(o,(V=r,no(Cp(Pr.fromString(`__bundle__/docs/${V}`)))));var V;return o.persistence.runTransaction("Apply bundle documents","readwrite",V=>yA(V,w,f).next(Y=>(w.apply(V),Y)).next(Y=>o.Bs.removeMatchingKeysForTargetId(V,N.targetId).next(()=>o.Bs.addMatchingKeys(V,u,N.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(V,Y.nr,Y.sr)).next(()=>Y.nr)))}),lS.apply(this,arguments)}function GD(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,oe.Z)(function*(n,e,t=vr()){const r=yield iv(n,no(r0(e.bundledQuery))),o=wn(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const f=qi(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return o.qs.saveNamedQuery(u,e);const w=r.withResumeToken(Cs.EMPTY_BYTE_STRING,f);return o.Ji=o.Ji.insert(w.targetId,w),o.Bs.updateTargetData(u,w).next(()=>o.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>o.qs.saveNamedQuery(u,e))})}),cS.apply(this,arguments)}function bA(n,e){return`firestore_clients_${n}_${e}`}function IA(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function dS(n,e){return`firestore_targets_${n}_${e}`}class Ib{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static ar(e,t,r){const o=JSON.parse(r);let u,f="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new qt(o.error.code,o.error.message))),f?new Ib(e,t,o.state,u):(Ki("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class m0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new qt(r.error.code,r.error.message))),u?new m0(e,r.state,o):(Ki("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=F_();for(let f=0;o&&f<r.activeTargetIds.length;++f)o=v_(r.activeTargetIds[f]),u=u.add(r.activeTargetIds[f]);return o?new Tb(e,u):(Ki("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hS{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hS(t.clientId,t.onlineState):(Ki("SharedClientState",`Failed to parse online state: ${e}`),null)}}class fS{constructor(){this.activeTargetIds=F_()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pS{constructor(e,t,r,o,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new fi(rr),this.started=!1,this.yr=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=bA(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new fS),this.Tr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(w){return`firestore_bundle_loaded_v2_${w}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,oe.Z)(function*(){const t=yield e.syncEngine.$i();for(const o of t){if(o===e.wr)continue;const u=e.getItem(bA(e.persistenceKey,o));if(u){const f=Tb.ar(o,u);f&&(e.gr=e.gr.insert(f.clientId,f))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(dS(this.persistenceKey,e));if(r){const o=m0.ar(e,r);o&&(t=o.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dS(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return nn("SharedClientState","READ",e,t),t}setItem(e,t){nn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){nn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(nn("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Ki("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,oe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const o=t.Or(r.key);return t.Fr(o,null)}{const o=t.Br(r.key,r.newValue);if(o)return t.Fr(o.clientId,o)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const o=t.Lr(r.key,r.newValue);if(o)return t.qr(o)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const o=t.Ur(r.key,r.newValue);if(o)return t.Kr(o)}}else if(r.key===t.vr){if(null!==r.newValue){const o=t.br(r.newValue);if(o)return t.Vr(o)}}else if(r.key===t.Ir){const o=function(u){let f=la.ct;if(null!=u)try{const w=JSON.parse(u);Bn("number"==typeof w),f=w}catch(w){Ki("SharedClientState","Failed to read sequence number from WebStorage",w)}return f}(r.newValue);o!==la.ct&&t.sequenceNumberHandler(o)}else if(r.key===t.Rr){const o=t.Gr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const o=new Ib(this.currentUser,e,t,r),u=IA(this.persistenceKey,this.currentUser,e);this.setItem(u,o.hr())}Cr(e){const t=IA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const o=dS(this.persistenceKey,e),u=new m0(e,t,r);this.setItem(o,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return Tb.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),o=Number(r[1]);return Ib.ar(new Vs(void 0!==r[2]?r[2]:null),o,t)}Ur(e,t){const r=this.Ar.exec(e),o=Number(r[1]);return m0.ar(o,t)}br(e){return hS.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);nn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),o=this.Sr(this.gr),u=this.Sr(r),f=[],w=[];return u.forEach(N=>{o.has(N)||f.push(N)}),o.forEach(N=>{u.has(N)||w.push(N)}),this.syncEngine.Wr(f,w).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=F_();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class TA{constructor(){this.Hr=new fS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new fS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class KD{Yr(e){}shutdown(){}}class SA{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){nn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){nn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Sb=null;function gS(){return null===Sb?Sb=268435456+Math.round(2147483648*Math.random()):Sb++,"0x"+Sb.toString(16)}const ZD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qD{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ko="WebChannelConnection";class YD extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,u){const f=gS(),w=this.To(e,t);nn("RestConnection",`Sending RPC '${e}' ${f}:`,w,r);const N={};return this.Eo(N,o,u),this.Ao(e,w,N,r).then(V=>(nn("RestConnection",`Received RPC '${e}' ${f}: `,V),V),V=>{throw aa("RestConnection",`RPC '${e}' ${f} failed with error: `,V,"url: ",w,"request:",r),V})}vo(e,t,r,o,u,f){return this.Io(e,t,r,o,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Au,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}To(e,t){return`${this.mo}/v1/${t}:${ZD[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const u=gS();return new Promise((f,w)=>{const N=new aE;N.setWithCredentials(!0),N.listenOnce(rE.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case nE.NO_ERROR:const Y=N.getResponseJson();nn(Ko,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(Y)),f(Y);break;case nE.TIMEOUT:nn(Ko,`RPC '${e}' ${u} timed out`),w(new qt(Dt.DEADLINE_EXCEEDED,"Request time out"));break;case nE.HTTP_ERROR:const me=N.getStatus();if(nn(Ko,`RPC '${e}' ${u} failed with status:`,me,"response text:",N.getResponseText()),me>0){let st=N.getResponseJson();Array.isArray(st)&&(st=st[0]);const St=st?.error;if(St&&St.status&&St.message){const sn=function(En){const Sn=En.toLowerCase().replace(/_/g,"-");return Object.values(Dt).indexOf(Sn)>=0?Sn:Dt.UNKNOWN}(St.status);w(new qt(sn,St.message))}else w(new qt(Dt.UNKNOWN,"Server responded with status "+N.getStatus()))}else w(new qt(Dt.UNAVAILABLE,"Connection failed."));break;default:Nn()}}finally{nn(Ko,`RPC '${e}' ${u} completed.`)}});const V=JSON.stringify(o);nn(Ko,`RPC '${e}' ${u} sending request:`,o),N.send(t,"POST",V,r,15)})}Ro(e,t,r){const o=gS(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Em(),w=Gi(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},V=this.longPollingOptions.timeoutSeconds;void 0!==V&&(N.longPollingTimeout=Math.round(1e3*V)),this.useFetchStreams&&(N.xmlHttpFactory=new oE({})),this.Eo(N.initMessageHeaders,t,r),N.encodeInitMessageHeaders=!0;const Y=u.join("");nn(Ko,`Creating RPC '${e}' stream ${o}: ${Y}`,N);const me=f.createWebChannel(Y,N);let st=!1,St=!1;const sn=new qD({ro:Sn=>{St?nn(Ko,`Not sending because RPC '${e}' stream ${o} is closed:`,Sn):(st||(nn(Ko,`Opening RPC '${e}' stream ${o} transport.`),me.open(),st=!0),nn(Ko,`RPC '${e}' stream ${o} sending:`,Sn),me.send(Sn))},oo:()=>me.close()}),En=(Sn,fr,Rr)=>{Sn.listen(fr,yr=>{try{Rr(yr)}catch(gs){setTimeout(()=>{throw gs},0)}})};return En(me,lp.EventType.OPEN,()=>{St||nn(Ko,`RPC '${e}' stream ${o} transport opened.`)}),En(me,lp.EventType.CLOSE,()=>{St||(St=!0,nn(Ko,`RPC '${e}' stream ${o} transport closed`),sn.wo())}),En(me,lp.EventType.ERROR,Sn=>{St||(St=!0,aa(Ko,`RPC '${e}' stream ${o} transport errored:`,Sn),sn.wo(new qt(Dt.UNAVAILABLE,"The operation could not be completed")))}),En(me,lp.EventType.MESSAGE,Sn=>{var fr;if(!St){const Rr=Sn.data[0];Bn(!!Rr);const gs=Rr.error||(null===(fr=Rr[0])||void 0===fr?void 0:fr.error);if(gs){nn(Ko,`RPC '${e}' stream ${o} received error:`,gs);const os=gs.status;let si=function(Td){const yv=ps[Td];if(void 0!==yv)return YE(yv)}(os),No=gs.message;void 0===si&&(si=Dt.INTERNAL,No="Unknown error status: "+os+" with message "+gs.message),St=!0,sn.wo(new qt(si,No)),me.close()}else nn(Ko,`RPC '${e}' stream ${o} received:`,Rr),sn._o(Rr)}}),En(w,iE.STAT_EVENT,Sn=>{Sn.stat===sE.PROXY?nn(Ko,`RPC '${e}' stream ${o} detected buffering proxy`):Sn.stat===sE.NOPROXY&&nn(Ko,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{sn.fo()},0),sn}}function CA(){return typeof window<"u"?window:null}function Cb(){return typeof document<"u"?document:null}function v0(n){return new jT(n,!0)}class mS{constructor(e,t,r=1e3,o=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&nn("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class AA{constructor(e,t,r,o,u,f,w,N){this.ii=e,this.$o=r,this.Oo=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=w,this.listener=N,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mS(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,oe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,oe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,oe.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===Dt.RESOURCE_EXHAUSTED?(Ki(t.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===Dt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new qt(Dt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,oe.Z)(function*(){e.state=0,e.start()}))}tu(e){return nn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(nn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QD extends AA{constructor(e,t,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,f),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function oA(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(N=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===N?1:"REMOVE"===N?2:"CURRENT"===N?3:"RESET"===N?4:Nn(),o=e.targetChange.targetIds||[],u=function(N,V){return N.useProto3Json?(Bn(void 0===V||"string"==typeof V),Cs.fromBase64String(V||"")):(Bn(void 0===V||V instanceof Uint8Array),Cs.fromUint8Array(V||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,w=f&&function(N){const V=void 0===N.code?Dt.UNKNOWN:YE(N.code);return new qt(V,N.message||"")}(f);t=new tb(r,o,u,w||null)}else if("documentChange"in e){const r=e.documentChange,o=Nu(n,r.document.name),u=qi(r.document.updateTime),f=r.document.createTime?qi(r.document.createTime):jn.min(),w=new is({mapValue:{fields:r.document.fields}}),N=bi.newFoundDocument(o,u,f,w);t=new Z_(r.targetIds||[],r.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const r=e.documentDelete,o=Nu(n,r.document),u=r.readTime?qi(r.readTime):jn.min(),f=bi.newNoDocument(o,u);t=new Z_([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,o=Nu(n,r.document);t=new Z_([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Nn();{const r=e.filter,{count:o=0,unchangedNames:u}=r,f=new PT(o,u);t=new Da(r.targetId,f)}}var N;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return jn.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?jn.min():u.readTime?qi(u.readTime):jn.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=xa(this.serializer),t.addTarget=function(o,u){let f;const w=u.target;if(f=Tp(w)?{documents:rb(o,w)}:{query:qm(o,w)},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Y_(o,u.resumeToken);const N=Pp(o,u.expectedCount);null!==N&&(f.expectedCount=N)}else if(u.snapshotVersion.compareTo(jn.min())>0){f.readTime=pd(o,u.snapshotVersion.toTimestamp());const N=Pp(o,u.expectedCount);null!==N&&(f.expectedCount=N)}return f}(this.serializer,e);const r=function ib(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=xa(this.serializer),t.removeTarget=e,this.Wo(t)}}class JD extends AA{constructor(e,t,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,f),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function zT(n,e){return n&&n.length>0?(Bn(void 0!==e),n.map(t=>function(r,o){let u=qi(r.updateTime?r.updateTime:o);return u.isEqual(jn.min())&&(u=qi(o)),new ZE(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=qi(e.commitTime);return this.listener.cu(r,t)}return Bn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=xa(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Lp(this.serializer,r))};this.Wo(t)}}class XD extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new qt(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Io(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qt(Dt.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.vo(e,t,r,u,f,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new qt(Dt.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class t1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ki(t),this.mu=!1):nn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class n1{constructor(e,t,r,o,u){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(w=>{r.enqueueAndForget((0,oe.Z)(function*(){var N;jh(f)&&(nn("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,oe.Z)(function*(V){const Y=wn(V);Y.vu.add(4),yield ov(Y),Y.bu.set("Unknown"),Y.vu.delete(4),yield y0(Y)}),function(V){return N.apply(this,arguments)})(f))}))}),this.bu=new t1(r,o)}}function y0(n){return yS.apply(this,arguments)}function yS(){return yS=(0,oe.Z)(function*(n){if(jh(n))for(const e of n.Ru)yield e(!0)}),yS.apply(this,arguments)}function ov(n){return _S.apply(this,arguments)}function _S(){return _S=(0,oe.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),_S.apply(this,arguments)}function Ab(n,e){const t=wn(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),bS(t)?ES(t):uv(t).Ko()&&wS(t,e))}function _0(n,e){const t=wn(n),r=uv(t);t.Au.delete(e),r.Ko()&&DA(t,e),0===t.Au.size&&(r.Ko()?r.jo():jh(t)&&t.bu.set("Unknown"))}function wS(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}uv(n).su(e)}function DA(n,e){n.Vu.qt(e),uv(n).iu(e)}function ES(n){n.Vu=new FT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),uv(n).start(),n.bu.gu()}function bS(n){return jh(n)&&!uv(n).Uo()&&n.Au.size>0}function jh(n){return 0===wn(n).vu.size}function xA(n){n.Vu=void 0}function r1(n){return IS.apply(this,arguments)}function IS(){return IS=(0,oe.Z)(function*(n){n.Au.forEach((e,t)=>{wS(n,e)})}),IS.apply(this,arguments)}function i1(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,oe.Z)(function*(n,e){xA(n),bS(n)?(n.bu.Iu(e),ES(n)):n.bu.set("Unknown")}),TS.apply(this,arguments)}function s1(n,e,t){return SS.apply(this,arguments)}function SS(){return SS=(0,oe.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof tb&&2===e.state&&e.cause)try{yield(r=(0,oe.Z)(function*(o,u){const f=u.cause;for(const w of u.targetIds)o.Au.has(w)&&(yield o.remoteSyncer.rejectListen(w,f),o.Au.delete(w),o.Vu.removeTarget(w))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){nn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Db(n,r)}else if(e instanceof Z_?n.Vu.Ht(e):e instanceof Da?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(jn.min()))try{const r=yield vA(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const f=o.Vu.ce(u);return f.targetChanges.forEach((w,N)=>{if(w.resumeToken.approximateByteSize()>0){const V=o.Au.get(N);V&&o.Au.set(N,V.withResumeToken(w.resumeToken,u))}}),f.targetMismatches.forEach((w,N)=>{const V=o.Au.get(w);if(!V)return;o.Au.set(w,V.withResumeToken(Cs.EMPTY_BYTE_STRING,V.snapshotVersion)),DA(o,w);const Y=new Ma(V.target,w,N,V.sequenceNumber);wS(o,Y)}),o.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){nn("RemoteStore","Failed to raise snapshot:",r),yield Db(n,r)}var r}),SS.apply(this,arguments)}function Db(n,e,t){return CS.apply(this,arguments)}function CS(){return CS=(0,oe.Z)(function*(n,e,t){if(!Yl(e))throw e;n.vu.add(1),yield ov(n),n.bu.set("Offline"),t||(t=()=>vA(n.localStore)),n.asyncQueue.enqueueRetryable((0,oe.Z)(function*(){nn("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield y0(n)}))}),CS.apply(this,arguments)}function MA(n,e){return e().catch(t=>Db(n,t,e))}function av(n){return AS.apply(this,arguments)}function AS(){return AS=(0,oe.Z)(function*(n){const e=wn(n),t=Hh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;o1(e);)try{const o=yield zD(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,a1(e,o)}catch(o){yield Db(e,o)}NA(e)&&RA(e)}),AS.apply(this,arguments)}function o1(n){return jh(n)&&n.Eu.length<10}function a1(n,e){n.Eu.push(e);const t=Hh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function NA(n){return jh(n)&&!Hh(n).Uo()&&n.Eu.length>0}function RA(n){Hh(n).start()}function u1(n){return DS.apply(this,arguments)}function DS(){return DS=(0,oe.Z)(function*(n){Hh(n).hu()}),DS.apply(this,arguments)}function l1(n){return xS.apply(this,arguments)}function xS(){return xS=(0,oe.Z)(function*(n){const e=Hh(n);for(const t of n.Eu)e.uu(t.mutations)}),xS.apply(this,arguments)}function c1(n,e,t){return MS.apply(this,arguments)}function MS(){return MS=(0,oe.Z)(function*(n,e,t){const r=n.Eu.shift(),o=Wm.from(r,e,t);yield MA(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield av(n)}),MS.apply(this,arguments)}function d1(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,oe.Z)(function*(n,e){var t;e&&Hh(n).ou&&(yield(t=(0,oe.Z)(function*(r,o){if(Rp(u=o.code)&&u!==Dt.ABORTED){const f=r.Eu.shift();Hh(r).Qo(),yield MA(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,o)),yield av(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),NA(n)&&RA(n)}),NS.apply(this,arguments)}function OA(n,e){return RS.apply(this,arguments)}function RS(){return RS=(0,oe.Z)(function*(n,e){const t=wn(n);t.asyncQueue.verifyOperationInProgress(),nn("RemoteStore","RemoteStore received new credentials");const r=jh(t);t.vu.add(3),yield ov(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield y0(t)}),RS.apply(this,arguments)}function OS(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,oe.Z)(function*(n,e){const t=wn(n);e?(t.vu.delete(2),yield y0(t)):e||(t.vu.add(2),yield ov(t),t.bu.set("Unknown"))}),PS.apply(this,arguments)}function uv(n){return n.Su||(n.Su=function(e,t,r){const o=wn(e);return o.fu(),new QD(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:r1.bind(null,n),ao:i1.bind(null,n),nu:s1.bind(null,n)}),n.Ru.push(function(){var e=(0,oe.Z)(function*(t){t?(n.Su.Qo(),bS(n)?ES(n):n.bu.set("Unknown")):(yield n.Su.stop(),xA(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Hh(n){return n.Du||(n.Du=function(e,t,r){const o=wn(e);return o.fu(),new JD(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:u1.bind(null,n),ao:d1.bind(null,n),au:l1.bind(null,n),cu:c1.bind(null,n)}),n.Ru.push(function(){var e=(0,oe.Z)(function*(t){t?(n.Du.Qo(),yield av(n)):(yield n.Du.stop(),n.Eu.length>0&&(nn("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class kS{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,o,u){const f=Date.now()+r,w=new kS(e,t,f,o,u);return w.start(r),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qt(Dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lv(n,e){if(Ki("AsyncQueue",`${e}: ${n}`),Yl(n))return new qt(Dt.UNAVAILABLE,`${e}: ${n}`);throw n}class cv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||mn.comparator(t.key,r.key):(t,r)=>mn.comparator(t.key,r.key),this.keyedMap=Dh(),this.sortedSet=new fi(this.comparator)}static emptySet(e){return new cv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new cv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class PA{constructor(){this.Cu=new fi(mn.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Nn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class dv{constructor(e,t,r,o,u,f,w,N,V){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=w,this.excludesMetadataChanges=N,this.hasCachedResults=V}static fromInitialDocuments(e,t,r,o,u){const f=[];return t.forEach(w=>{f.push({type:0,doc:w})}),new dv(e,t,cv.emptySet(t),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class h1{constructor(){this.Nu=void 0,this.listeners=[]}}class f1{constructor(){this.queries=new ou(e=>VE(e),Dp),this.onlineState="Unknown",this.ku=new Set}}function LS(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,oe.Z)(function*(n,e){const t=wn(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new h1),o)try{u.Nu=yield t.onListen(r)}catch(f){const w=lv(f,`Initialization of query '${O_(e.query)}' failed`);return void e.onError(w)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&VS(t)}),FS.apply(this,arguments)}function US(n,e){return BS.apply(this,arguments)}function BS(){return BS=(0,oe.Z)(function*(n,e){const t=wn(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const f=u.listeners.indexOf(e);f>=0&&(u.listeners.splice(f,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),BS.apply(this,arguments)}function p1(n,e){const t=wn(n);let r=!1;for(const o of e){const f=t.queries.get(o.query);if(f){for(const w of f.listeners)w.$u(o)&&(r=!0);f.Nu=o}}r&&VS(t)}function g1(n,e,t){const r=wn(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function VS(n){n.ku.forEach(e=>{e.next()})}class jS{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new dv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=dv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class m1{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class kA{constructor(e){this.serializer=e}rr(e){return Nu(this.serializer,e)}ur(e){return e.metadata.exists?J_(this.serializer,e.document,!1):bi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return qi(e)}}class v1{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LA(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Pr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new kA(this.serializer);for(const o of e)if(o.metadata.queries){const u=r.rr(o.metadata.name);for(const f of o.metadata.queries){const w=(t.get(f)||vr()).add(u);t.set(f,w)}}return t}complete(){var e=this;return(0,oe.Z)(function*(){const t=yield function WD(n,e,t,r){return lS.apply(this,arguments)}(e.localStore,new kA(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield GD(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function LA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class FA{constructor(e){this.key=e}}class UA{constructor(e){this.key=e}}class BA{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=vr(),this.mutatedKeys=vr(),this.tc=k_(e),this.ec=new cv(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new PA,o=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,w=!1;const N="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,V="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((Y,me)=>{const st=o.get(Y),St=ld(this.query,me)?me:null,sn=!!st&&this.mutatedKeys.has(st.key),En=!!St&&(St.hasLocalMutations||this.mutatedKeys.has(St.key)&&St.hasCommittedMutations);let Sn=!1;st&&St?st.data.isEqual(St.data)?sn!==En&&(r.track({type:3,doc:St}),Sn=!0):this.rc(st,St)||(r.track({type:2,doc:St}),Sn=!0,(N&&this.tc(St,N)>0||V&&this.tc(St,V)<0)&&(w=!0)):!st&&St?(r.track({type:0,doc:St}),Sn=!0):st&&!St&&(r.track({type:1,doc:st}),Sn=!0,(N||V)&&(w=!0)),Sn&&(St?(f=f.add(St),u=En?u.add(Y):u.delete(Y)):(f=f.delete(Y),u=u.delete(Y)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Y="F"===this.query.limitType?f.last():f.first();f=f.delete(Y.key),u=u.delete(Y.key),r.track({type:1,doc:Y})}return{ec:f,ic:r,zi:w,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((V,Y)=>function(me,st){const St=sn=>{switch(sn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nn()}};return St(me)-St(st)}(V.type,Y.type)||this.tc(V.doc,Y.doc)),this.oc(r);const f=t?this.uc():[],w=0===this.Zu.size&&this.current?1:0,N=w!==this.Xu;return this.Xu=w,0!==u.length||N?{snapshot:new dv(this.query,e.ec,o,u,e.mutatedKeys,0===w,N,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new PA,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=vr(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new UA(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new FA(r))}),t}hc(e){this.Yu=e.ir,this.Zu=vr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return dv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class y1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _1{constructor(e){this.key=e,this.fc=!1}}class w1{constructor(e,t,r,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new ou(w=>VE(w),Dp),this._c=new Map,this.mc=new Set,this.gc=new fi(mn.comparator),this.yc=new Map,this.Ic=new un,this.Tc={},this.Ec=new Map,this.Ac=Vh.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function E1(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,oe.Z)(function*(n,e){const t=dC(n);let r,o;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.lc();else{const f=yield iv(t.localStore,no(e)),w=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,o=yield $S(t,e,r,"current"===w,f.resumeToken),t.isPrimaryClient&&Ab(t.remoteStore,f)}return o}),HS.apply(this,arguments)}function $S(n,e,t,r,o){return zS.apply(this,arguments)}function zS(){return zS=(0,oe.Z)(function*(n,e,t,r,o){n.Rc=(me,st,St)=>{return(sn=(0,oe.Z)(function*(En,Sn,fr,Rr){let yr=Sn.view.sc(fr);yr.zi&&(yr=yield bb(En.localStore,Sn.query,!1).then(({documents:si})=>Sn.view.sc(si,yr)));const gs=Rr&&Rr.targetChanges.get(Sn.targetId),os=Sn.view.applyChanges(yr,En.isPrimaryClient,gs);return eC(En,Sn.targetId,os.cc),os.snapshot}),function(En,Sn,fr,Rr){return sn.apply(this,arguments)})(n,me,st,St);var sn};const u=yield bb(n.localStore,e,!0),f=new BA(e,u.ir),w=f.sc(u.documents),N=Nh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),V=f.applyChanges(w,n.isPrimaryClient,N);eC(n,t,V.cc);const Y=new y1(e,t,f);return n.wc.set(e,Y),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),V.snapshot}),zS.apply(this,arguments)}function b1(n,e){return WS.apply(this,arguments)}function WS(){return WS=(0,oe.Z)(function*(n,e){const t=wn(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(u=>!Dp(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield sv(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),_0(t.remoteStore,r.targetId),hv(t,r.targetId)}).catch(ql))):(hv(t,r.targetId),yield sv(t.localStore,r.targetId,!0))}),WS.apply(this,arguments)}function GS(){return GS=(0,oe.Z)(function*(n,e,t){const r=hC(n);try{const o=yield function(u,f){const w=wn(u),N=Ei.now(),V=f.reduce((st,St)=>st.add(St.key),vr());let Y,me;return w.persistence.runTransaction("Locally write mutations","readwrite",st=>{let St=xo(),sn=vr();return w.Zi.getEntries(st,V).next(En=>{St=En,St.forEach((Sn,fr)=>{fr.isValidDocument()||(sn=sn.add(Sn))})}).next(()=>w.localDocuments.getOverlayedDocuments(st,St)).next(En=>{Y=En;const Sn=[];for(const fr of f){const Rr=iA(fr,Y.get(fr.key).overlayedDocument);null!=Rr&&Sn.push(new ic(fr.key,Rr,RE(Rr.value.mapValue),ki.exists(!0)))}return w.mutationQueue.addMutationBatch(st,N,Sn,f)}).next(En=>{me=En;const Sn=En.applyToLocalDocumentSet(Y,sn);return w.documentOverlayCache.saveOverlays(st,En.batchId,Sn)})}).then(()=>({batchId:me.batchId,changes:cd(Y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,f,w){let N=u.Tc[u.currentUser.toKey()];N||(N=new fi(rr)),N=N.insert(f,w),u.Tc[u.currentUser.toKey()]=N}(r,o.batchId,t),yield Ed(r,o.changes),yield av(r.remoteStore)}catch(o){const u=lv(o,"Failed to persist write");t.reject(u)}}),GS.apply(this,arguments)}function VA(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,oe.Z)(function*(n,e){const t=wn(n);try{const r=yield function $D(n,e){const t=wn(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const w=[];e.targetChanges.forEach((Y,me)=>{const st=o.get(me);if(!st)return;w.push(t.Bs.removeMatchingKeys(u,Y.removedDocuments,me).next(()=>t.Bs.addMatchingKeys(u,Y.addedDocuments,me)));let St=st.withSequenceNumber(u.currentSequenceNumber);var sn,En,Sn;null!==e.targetMismatches.get(me)?St=St.withResumeToken(Cs.EMPTY_BYTE_STRING,jn.min()).withLastLimboFreeSnapshotVersion(jn.min()):Y.resumeToken.approximateByteSize()>0&&(St=St.withResumeToken(Y.resumeToken,r)),o=o.insert(me,St),En=St,Sn=Y,(0===(sn=st).resumeToken.approximateByteSize()||En.snapshotVersion.toMicroseconds()-sn.snapshotVersion.toMicroseconds()>=3e8||Sn.addedDocuments.size+Sn.modifiedDocuments.size+Sn.removedDocuments.size>0)&&w.push(t.Bs.updateTargetData(u,St))});let N=xo(),V=vr();if(e.documentUpdates.forEach(Y=>{e.resolvedLimboDocuments.has(Y)&&w.push(t.persistence.referenceDelegate.updateLimboDocument(u,Y))}),w.push(yA(u,f,e.documentUpdates).next(Y=>{N=Y.nr,V=Y.sr})),!r.isEqual(jn.min())){const Y=t.Bs.getLastRemoteSnapshotVersion(u).next(me=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));w.push(Y)}return bt.waitFor(w).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,N,V)).next(()=>N)}).then(u=>(t.Ji=o,u))}(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.yc.get(u);f&&(Bn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.fc=!0:o.modifiedDocuments.size>0?Bn(f.fc):o.removedDocuments.size>0&&(Bn(f.fc),f.fc=!1))}),yield Ed(t,r,e)}catch(r){yield ql(r)}}),KS.apply(this,arguments)}function jA(n,e,t){const r=wn(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((u,f)=>{const w=f.view.Mu(e);w.snapshot&&o.push(w.snapshot)}),function(u,f){const w=wn(u);w.onlineState=f;let N=!1;w.queries.forEach((V,Y)=>{for(const me of Y.listeners)me.Mu(f)&&(N=!0)}),N&&VS(w)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function T1(n,e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,oe.Z)(function*(n,e,t){const r=wn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),u=o&&o.key;if(u){let f=new fi(mn.comparator);f=f.insert(u,bi.newNoDocument(u,jn.min()));const w=vr().add(u),N=new Mh(jn.min(),new Map,new fi(rr),f,w);yield VA(r,N),r.gc=r.gc.remove(u),r.yc.delete(e),tC(r)}else yield sv(r.localStore,e,!1).then(()=>hv(r,e,t)).catch(ql)}),ZS.apply(this,arguments)}function S1(n,e){return qS.apply(this,arguments)}function qS(){return qS=(0,oe.Z)(function*(n,e){const t=wn(n),r=e.batch.batchId;try{const o=yield function HD(n,e){const t=wn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,w,N,V){const Y=N.batch,me=Y.keys();let st=bt.resolve();return me.forEach(St=>{st=st.next(()=>V.getEntry(w,St)).next(sn=>{const En=N.docVersions.get(St);Bn(null!==En),sn.version.compareTo(En)<0&&(Y.applyToRemoteDocument(sn,N),sn.isValidDocument()&&(sn.setReadTime(N.commitVersion),V.addEntry(sn)))})}),st.next(()=>f.mutationQueue.removeMutationBatch(w,Y))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let w=vr();for(let N=0;N<f.mutationResults.length;++N)f.mutationResults[N].transformResults.length>0&&(w=w.add(f.batch.mutations[N].key));return w}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);XS(t,r,null),JS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ed(t,o)}catch(o){yield ql(o)}}),qS.apply(this,arguments)}function C1(n,e,t){return YS.apply(this,arguments)}function YS(){return YS=(0,oe.Z)(function*(n,e,t){const r=wn(n);try{const o=yield function(u,f){const w=wn(u);return w.persistence.runTransaction("Reject batch","readwrite-primary",N=>{let V;return w.mutationQueue.lookupMutationBatch(N,f).next(Y=>(Bn(null!==Y),V=Y.keys(),w.mutationQueue.removeMutationBatch(N,Y))).next(()=>w.mutationQueue.performConsistencyCheck(N)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(N,V,f)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,V)).next(()=>w.localDocuments.getDocuments(N,V))})}(r.localStore,e);XS(r,e,t),JS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ed(r,o)}catch(o){yield ql(o)}}),YS.apply(this,arguments)}function QS(){return QS=(0,oe.Z)(function*(n,e){const t=wn(n);jh(t.remoteStore)||nn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const f=wn(u);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>f.mutationQueue.getHighestUnacknowledgedBatchId(w))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ec.get(r)||[];o.push(e),t.Ec.set(r,o)}catch(r){const o=lv(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),QS.apply(this,arguments)}function JS(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function XS(n,e,t){const r=wn(n);let o=r.Tc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function hv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||HA(n,r)})}function HA(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(_0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),tC(n))}function eC(n,e,t){for(const r of t)r instanceof FA?(n.Ic.addReference(r.key,e),D1(n,r)):r instanceof UA?(nn("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||HA(n,r.key)):Nn()}function D1(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(nn("SyncEngine","New document in limbo: "+t),n.mc.add(r),tC(n))}function tC(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new mn(Pr.fromString(e)),r=n.Ac.next();n.yc.set(r,new _1(t)),n.gc=n.gc.insert(t,r),Ab(n.remoteStore,new Ma(no(Cp(t.path)),r,"TargetPurposeLimboResolution",la.ct))}}function Ed(n,e,t){return nC.apply(this,arguments)}function nC(){return nC=(0,oe.Z)(function*(n,e,t){const r=wn(n),o=[],u=[],f=[];var w;r.wc.isEmpty()||(r.wc.forEach((w,N)=>{f.push(r.Rc(N,e,t).then(V=>{if((V||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(N.targetId,V?.fromCache?"not-current":"current"),V){o.push(V);const Y=oS.Li(N.targetId,V);u.push(Y)}}))}),yield Promise.all(f),r.dc.nu(o),yield(w=(0,oe.Z)(function*(N,V){const Y=wn(N);try{yield Y.persistence.runTransaction("notifyLocalViewChanges","readwrite",me=>bt.forEach(V,st=>bt.forEach(st.Fi,St=>Y.persistence.referenceDelegate.addReference(me,st.targetId,St)).next(()=>bt.forEach(st.Bi,St=>Y.persistence.referenceDelegate.removeReference(me,st.targetId,St)))))}catch(me){if(!Yl(me))throw me;nn("LocalStore","Failed to update sequence numbers: "+me)}for(const me of V){const st=me.targetId;if(!me.fromCache){const St=Y.Ji.get(st),En=St.withLastLimboFreeSnapshotVersion(St.snapshotVersion);Y.Ji=Y.Ji.insert(st,En)}}}),function(N,V){return w.apply(this,arguments)})(r.localStore,u))}),nC.apply(this,arguments)}function x1(n,e){return rC.apply(this,arguments)}function rC(){return rC=(0,oe.Z)(function*(n,e){const t=wn(n);if(!t.currentUser.isEqual(e)){nn("SyncEngine","User change. New user:",e.toKey());const r=yield mA(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(f=>{f.forEach(w=>{w.reject(new qt(Dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ed(t,r.er)}var o}),rC.apply(this,arguments)}function M1(n,e){const t=wn(n),r=t.yc.get(e);if(r&&r.fc)return vr().add(r.key);{let o=vr();const u=t._c.get(e);if(!u)return o;for(const f of u){const w=t.wc.get(f);o=o.unionWith(w.view.nc)}return o}}function N1(n,e){return iC.apply(this,arguments)}function iC(){return iC=(0,oe.Z)(function*(n,e){const t=wn(n),r=yield bb(t.localStore,e.query,!0),o=e.view.hc(r);return t.isPrimaryClient&&eC(t,e.targetId,o.cc),o}),iC.apply(this,arguments)}function R1(n,e){return sC.apply(this,arguments)}function sC(){return sC=(0,oe.Z)(function*(n,e){const t=wn(n);return wA(t.localStore,e).then(r=>Ed(t,r))}),sC.apply(this,arguments)}function O1(n,e,t,r){return oC.apply(this,arguments)}function oC(){return oC=(0,oe.Z)(function*(n,e,t,r){const o=wn(n),u=yield function(f,w){const N=wn(f),V=wn(N.mutationQueue);return N.persistence.runTransaction("Lookup mutation documents","readonly",Y=>V.Sn(Y,w).next(me=>me?N.localDocuments.getDocuments(Y,me):bt.resolve(null)))}(o.localStore,e);var w;null!==u?("pending"===t?yield av(o.remoteStore):"acknowledged"===t||"rejected"===t?(XS(o,e,r||null),JS(o,e),w=e,wn(wn(o.localStore).mutationQueue).Cn(w)):Nn(),yield Ed(o,u)):nn("SyncEngine","Cannot apply mutation batch with id: "+e)}),oC.apply(this,arguments)}function aC(){return aC=(0,oe.Z)(function*(n,e){const t=wn(n);if(dC(t),hC(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield $A(t,r.toArray());t.vc=!0,yield OS(t.remoteStore,!0);for(const u of o)Ab(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let o=Promise.resolve();t._c.forEach((u,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):o=o.then(()=>(hv(t,f),sv(t.localStore,f,!0))),_0(t.remoteStore,f)}),yield o,yield $A(t,r),function(u){const f=wn(u);f.yc.forEach((w,N)=>{_0(f.remoteStore,N)}),f.Ic.Ts(),f.yc=new Map,f.gc=new fi(mn.comparator)}(t),t.vc=!1,yield OS(t.remoteStore,!1)}}),aC.apply(this,arguments)}function $A(n,e,t){return uC.apply(this,arguments)}function uC(){return uC=(0,oe.Z)(function*(n,e,t){const r=wn(n),o=[],u=[];for(const f of e){let w;const N=r._c.get(f);if(N&&0!==N.length){w=yield iv(r.localStore,no(N[0]));for(const V of N){const Y=r.wc.get(V),me=yield N1(r,Y);me.snapshot&&u.push(me.snapshot)}}else{const V=yield _A(r.localStore,f);w=yield iv(r.localStore,V),yield $S(r,zA(V),f,!1,w.resumeToken)}o.push(w)}return r.dc.nu(u),o}),uC.apply(this,arguments)}function zA(n){return BE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function k1(n){const e=wn(n);return wn(wn(e.localStore).persistence).$i()}function L1(n,e,t,r){return lC.apply(this,arguments)}function lC(){return lC=(0,oe.Z)(function*(n,e,t,r){const o=wn(n);if(o.vc)return void nn("SyncEngine","Ignoring unexpected query state notification.");const u=o._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const f=yield wA(o.localStore,P_(u[0])),w=Mh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Cs.EMPTY_BYTE_STRING);yield Ed(o,f,w);break}case"rejected":yield sv(o.localStore,e,!0),hv(o,e,r);break;default:Nn()}}),lC.apply(this,arguments)}function F1(n,e,t){return cC.apply(this,arguments)}function cC(){return cC=(0,oe.Z)(function*(n,e,t){const r=dC(n);if(r.vc){for(const o of e){if(r._c.has(o)){nn("SyncEngine","Adding an already active target "+o);continue}const u=yield _A(r.localStore,o),f=yield iv(r.localStore,u);yield $S(r,zA(u),f.targetId,!1,f.resumeToken),Ab(r.remoteStore,f)}for(const o of t)r._c.has(o)&&(yield sv(r.localStore,o,!1).then(()=>{_0(r.remoteStore,o),hv(r,o)}).catch(ql))}}),cC.apply(this,arguments)}function dC(n){const e=wn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T1.bind(null,e),e.dc.nu=p1.bind(null,e.eventManager),e.dc.Pc=g1.bind(null,e.eventManager),e}function hC(n){const e=wn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C1.bind(null,e),e}class w0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,oe.Z)(function*(){t.serializer=v0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return gA(this.persistence,new pA,e.initialUser,this.serializer)}createPersistence(e){return new gi(p0.zs,this.serializer)}createSharedClientState(e){return new TA}terminate(){var e=this;return(0,oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fC extends w0{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,oe.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield hC(r.Vc.syncEngine),yield av(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return gA(this.persistence,new pA,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new tS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new mT(t,this.persistence);return new gT(e.asyncQueue,r)}createPersistence(e){const t=sS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?go.withCacheSize(this.cacheSizeBytes):go.DEFAULT;return new iS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,CA(),Cb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new TA}}class WA extends fC{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,oe.Z)(function*(){yield t().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof pS&&(r.sharedClientState.syncEngine={jr:O1.bind(null,o),zr:L1.bind(null,o),Wr:F1.bind(null,o),$i:k1.bind(null,o),Qr:R1.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,oe.Z)(function*(f){yield function P1(n,e){return aC.apply(this,arguments)}(r.Vc.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start():f||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(f&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():f||r.indexBackfillerScheduler.stop())});return function(f){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=CA();if(!pS.D(t))throw new qt(Dt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=sS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class fv{initialize(e,t){var r=this;return(0,oe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>jA(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=x1.bind(null,r.syncEngine),yield OS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new f1}createDatastore(e){const t=v0(e.databaseInfo.databaseId),r=new YD(e.databaseInfo);return new XD(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=w=>jA(this.syncEngine,w,0),f=SA.D()?new SA:new KD,new n1(t,r,o,u,f);var t,r,o,u,f}createSyncEngine(e,t){return function(r,o,u,f,w,N,V){const Y=new w1(r,o,u,f,w,N);return V&&(Y.vc=!0),Y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=(0,oe.Z)(function*(t){const r=wn(t);nn("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ov(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}function GA(n,e=10240){let t=0;return{read:()=>(0,oe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,oe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class xb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class V1{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new fs,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,oe.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,oe.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,oe.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(o);return new m1(JSON.parse(u),t.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,oe.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,oe.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class j1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new qt(Dt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,oe.Z)(function*(u,f){const w=wn(u),N=xa(w.serializer)+"/documents",V={documents:f.map(St=>Rh(w.serializer,St))},Y=yield w.vo("BatchGetDocuments",N,V,f.length),me=new Map;Y.forEach(St=>{const sn=function $T(n,e){return"found"in e?function(t,r){Bn(!!r.found);const o=Nu(t,r.found.name),u=qi(r.found.updateTime),f=r.found.createTime?qi(r.found.createTime):jn.min(),w=new is({mapValue:{fields:r.found.fields}});return bi.newFoundDocument(o,u,f,w)}(n,e):"missing"in e?function(t,r){Bn(!!r.missing),Bn(!!r.readTime);const o=Nu(t,r.missing),u=qi(r.readTime);return bi.newNoDocument(o,u)}(n,e):Nn()}(w.serializer,St);me.set(sn.key.toString(),sn)});const st=[];return f.forEach(St=>{const sn=me.get(St.toString());Bn(!!sn),st.push(sn)}),st}),function(u,f){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new fd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=mn.fromPath(o);e.mutations.push(new qE(u,e.precondition(u)))}),yield(r=(0,oe.Z)(function*(o,u){const f=wn(o),w=xa(f.serializer)+"/documents",N={writes:u.map(V=>Lp(f.serializer,V))};yield f.Io("Commit",w,N)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Nn();t=jn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new qt(Dt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(jn.min())?ki.exists(!1):ki.updateTime(t):ki.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(jn.min()))throw new qt(Dt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ki.updateTime(t)}return ki.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class H1{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new mS(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,oe.Z)(function*(){const t=new j1(e.datastore),r=e.qc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Uc(u)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const t=this.updateFunction(e);return!hp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Rp(t)}return!1}}class $1{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Vs.UNAUTHENTICATED,this.clientId=p_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,oe.Z)(function*(w){nn("FirestoreClient","Received user=",w.uid),yield u.authCredentialListener(w),u.user=w});return function(w){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,f=>(nn("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qt(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=lv(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Mb(n,e){return pC.apply(this,arguments)}function pC(){return pC=(0,oe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),nn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,oe.Z)(function*(u){r.isEqual(u)||(yield mA(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),pC.apply(this,arguments)}function gC(n,e){return mC.apply(this,arguments)}function mC(){return mC=(0,oe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield vC(n);nn("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>OA(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>OA(e.remoteStore,u)),n._onlineComponents=e}),mC.apply(this,arguments)}function KA(n){return"FirebaseError"===n.name?n.code===Dt.FAILED_PRECONDITION||n.code===Dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function vC(n){return yC.apply(this,arguments)}function yC(){return yC=(0,oe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){nn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!KA(t))throw t;aa("Error using user provided cache. Falling back to memory cache: "+t),yield Mb(n,new w0)}}else nn("FirestoreClient","Using default OfflineComponentProvider"),yield Mb(n,new w0);return n._offlineComponents}),yC.apply(this,arguments)}function Nb(n){return _C.apply(this,arguments)}function _C(){return _C=(0,oe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(nn("FirestoreClient","Using user provided OnlineComponentProvider"),yield gC(n,n._uninitializedComponentsProvider._online)):(nn("FirestoreClient","Using default OnlineComponentProvider"),yield gC(n,new fv))),n._onlineComponents}),_C.apply(this,arguments)}function ZA(n){return vC(n).then(e=>e.persistence)}function Rb(n){return vC(n).then(e=>e.localStore)}function qA(n){return Nb(n).then(e=>e.remoteStore)}function wC(n){return Nb(n).then(e=>e.syncEngine)}function pv(n){return EC.apply(this,arguments)}function EC(){return EC=(0,oe.Z)(function*(n){const e=yield Nb(n),t=e.eventManager;return t.onListen=E1.bind(null,e.syncEngine),t.onUnlisten=b1.bind(null,e.syncEngine),t}),EC.apply(this,arguments)}function QA(n,e,t={}){const r=new fs;return n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(o,u,f,w,N){const V=new xb({next:me=>{u.enqueueAndForget(()=>US(o,Y));const st=me.docs.has(f);!st&&me.fromCache?N.reject(new qt(Dt.UNAVAILABLE,"Failed to get document because the client is offline.")):st&&me.fromCache&&w&&"server"===w.source?N.reject(new qt(Dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):N.resolve(me)},error:me=>N.reject(me)}),Y=new jS(Cp(f.path),V,{includeMetadataChanges:!0,Ku:!0});return LS(o,Y)}(yield pv(n),n.asyncQueue,e,t,r)})),r.promise}function JA(n,e,t={}){const r=new fs;return n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(o,u,f,w,N){const V=new xb({next:me=>{u.enqueueAndForget(()=>US(o,Y)),me.fromCache&&"server"===w.source?N.reject(new qt(Dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):N.resolve(me)},error:me=>N.reject(me)}),Y=new jS(f,V,{includeMetadataChanges:!0,Ku:!0});return LS(o,Y)}(yield pv(n),n.asyncQueue,e,t,r)})),r.promise}function XA(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const eD=new Map;function bC(n,e,t){if(!t)throw new qt(Dt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tD(n,e,t,r){if(!0===e&&!0===r)throw new qt(Dt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nD(n){if(!mn.isDocumentKey(n))throw new qt(Dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rD(n){if(mn.isDocumentKey(n))throw new qt(Dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ob(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Nn()}function Lr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new qt(Dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ob(n);throw new qt(Dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function iD(n,e){if(e<=0)throw new qt(Dt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class sD{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new qt(Dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qt(Dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=XA(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new qt(Dt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new qt(Dt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new qt(Dt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class E0{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sD({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new qt(Dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qt(Dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sD(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new cE;switch(t.type){case"firstParty":return new lT(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new qt(Dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=eD.get(e);t&&(nn("ComponentProvider","Removing Datastore"),eD.delete(e),t.terminate())}(this),Promise.resolve()}}class Li{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ac(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Li(this.firestore,e,this._key)}}class Mo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mo(this.firestore,e,this._query)}}class ac extends Mo{constructor(e,t,r){super(e,t,Cp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Li(this.firestore,null,new mn(e))}withConverter(e){return new ac(this.firestore,e,this._path)}}function aD(n,e,...t){if(n=Zt(n),bC("collection","path",e),n instanceof E0){const r=Pr.fromString(e,...t);return rD(r),new ac(n,null,r)}{if(!(n instanceof Li||n instanceof ac))throw new qt(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Pr.fromString(e,...t));return rD(r),new ac(n.firestore,null,r)}}function Pb(n,e,...t){if(n=Zt(n),1===arguments.length&&(e=p_.A()),bC("doc","path",e),n instanceof E0){const r=Pr.fromString(e,...t);return nD(r),new Li(n,null,new mn(r))}{if(!(n instanceof Li||n instanceof ac))throw new qt(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Pr.fromString(e,...t));return nD(r),new Li(n.firestore,n instanceof ac?n.converter:null,new mn(r))}}function uD(n,e){return n=Zt(n),e=Zt(e),(n instanceof Li||n instanceof ac)&&(e instanceof Li||e instanceof ac)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function IC(n,e){return n=Zt(n),e=Zt(e),n instanceof Mo&&e instanceof Mo&&n.firestore===e.firestore&&Dp(n._query,e._query)&&n.converter===e.converter}class X1{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mS(this,"async_queue_retry"),this.Xc=()=>{const t=Cb();t&&nn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Cb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Cb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new fs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,oe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Yl(t))throw t;nn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ki("INTERNAL UNHANDLED ERROR: ",function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),f}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=kS.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(o),o}Zc(){this.Wc&&Nn()}verifyOperationInProgress(){}sa(){var e=this;return(0,oe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function TC(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class ex{constructor(){this._progressObserver={},this._taskCompletionResolver=new fs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Fi extends E0{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new X1,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||lD(this),this._firestoreClient.terminate()}}function As(n){return n._firestoreClient||lD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function lD(n){var e,t,r;const o=n._freezeSettings(),u=(w=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new TT(n._databaseId,w,n._persistenceKey,(V=o).host,V.ssl,V.experimentalForceLongPolling,V.experimentalAutoDetectLongPolling,XA(V.experimentalLongPollingOptions),V.useFetchStreams));var w,V;n._firestoreClient=new $1(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function cD(n,e,t){const r=new fs;return n.asyncQueue.enqueue((0,oe.Z)(function*(){try{yield Mb(n,t),yield gC(n,e),r.resolve()}catch(o){const u=o;if(!KA(u))throw u;aa("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function dD(n){if(n._initialized||n._terminated)throw new qt(Dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uc(Cs.fromBase64String(e))}catch(t){throw new qt(Dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uc(Cs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new qt(Dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vp{constructor(e){this._methodName=e}}class kb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qt(Dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qt(Dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rr(this._lat,e._lat)||rr(this._long,e._long)}}const dx=/^__.*__$/;class hx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ic(e,this.data,this.fieldMask,t,this.fieldTransforms):new pl(e,this.data,t,this.fieldTransforms)}}class hD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ic(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nn()}}class Lb{constructor(e,t,r,o,u,f){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Lb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Bb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(fD(this.ca)&&dx.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class fx{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||v0(e)}ya(e,t,r,o=!1){return new Lb({ca:e,methodName:t,ga:r,path:Zi.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jp(n){const e=n._freezeSettings(),t=v0(n._databaseId);return new fx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Fb(n,e,t,r,o,u={}){const f=n.ya(u.merge||u.mergeFields?2:0,e,t,o);DC("Data must be an object, but it was:",f,r);const w=mD(r,f);let N,V;if(u.merge)N=new Go(f.fieldMask),V=f.fieldTransforms;else if(u.mergeFields){const Y=[];for(const me of u.mergeFields){const st=T0(e,me,t);if(!f.contains(st))throw new qt(Dt.INVALID_ARGUMENT,`Field '${st}' is specified in your field mask but missing from your input data.`);yD(Y,st)||Y.push(st)}N=new Go(Y),V=f.fieldTransforms.filter(me=>N.covers(me.field))}else N=null,V=f.fieldTransforms;return new hx(new is(w),N,V)}class I0 extends Vp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof I0}}function pD(n,e,t){return new Lb({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class SC extends Vp{_toFieldTransform(e){return new xp(e.path,new xh)}isEqual(e){return e instanceof SC}}class px extends Vp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pD(this,e,!0),r=this.pa.map(u=>Hp(u,t)),o=new nc(r);return new xp(e.path,o)}isEqual(e){return this===e}}class gx extends Vp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pD(this,e,!0),r=this.pa.map(u=>Hp(u,t)),o=new rc(r);return new xp(e.path,o)}isEqual(e){return this===e}}class mx extends Vp{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new hd(e.serializer,B_(e.serializer,this.Ia));return new xp(e.path,t)}isEqual(e){return this===e}}function CC(n,e,t,r){const o=n.ya(1,e,t);DC("Data must be an object, but it was:",o,r);const u=[],f=is.empty();cl(r,(N,V)=>{const Y=Ub(e,N,t);V=Zt(V);const me=o.da(Y);if(V instanceof I0)u.push(Y);else{const st=Hp(V,me);null!=st&&(u.push(Y),f.set(Y,st))}});const w=new Go(u);return new hD(f,w,o.fieldTransforms)}function AC(n,e,t,r,o,u){const f=n.ya(1,e,t),w=[T0(e,r,t)],N=[o];if(u.length%2!=0)throw new qt(Dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let st=0;st<u.length;st+=2)w.push(T0(e,u[st])),N.push(u[st+1]);const V=[],Y=is.empty();for(let st=w.length-1;st>=0;--st)if(!yD(V,w[st])){const St=w[st];let sn=N[st];sn=Zt(sn);const En=f.da(St);if(sn instanceof I0)V.push(St);else{const Sn=Hp(sn,En);null!=Sn&&(V.push(St),Y.set(St,Sn))}}const me=new Go(V);return new hD(Y,me,f.fieldTransforms)}function gD(n,e,t,r=!1){return Hp(t,n.ya(r?4:3,e))}function Hp(n,e){if(vD(n=Zt(n)))return DC("Unsupported field value:",e,n),mD(n,e);if(n instanceof Vp)return function(t,r){if(!fD(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const f of t){let w=Hp(f,r.wa(u));null==w&&(w={nullValue:"NULL_VALUE"}),o.push(w),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=Zt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return B_(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Ei.fromDate(t);return{timestampValue:pd(r.serializer,o)}}if(t instanceof Ei){const o=new Ei(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:pd(r.serializer,o)}}if(t instanceof kb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof uc)return{bytesValue:Y_(r.serializer,t._byteString)};if(t instanceof Li){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Km(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Ob(t)}`)}(n,e)}function mD(n,e){const t={};return CE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cl(n,(r,o)=>{const u=Hp(o,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function vD(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ei||n instanceof kb||n instanceof uc||n instanceof Li||n instanceof Vp)}function DC(n,e,t){if(!vD(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ob(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function T0(n,e,t){if((e=Zt(e))instanceof bd)return e._internalPath;if("string"==typeof e)return Ub(n,e);throw Bb("Field path arguments must be of type string or ",n,!1,void 0,t)}const vx=new RegExp("[~\\*/\\[\\]]");function Ub(n,e,t){if(e.search(vx)>=0)throw Bb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bd(...e.split("."))._internalPath}catch{throw Bb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bb(n,e,t,r,o){const u=r&&!r.isEmpty(),f=void 0!==o;let w=`Function ${e}() called with invalid data`;t&&(w+=" (via `toFirestore()`)"),w+=". ";let N="";return(u||f)&&(N+=" (found",u&&(N+=` in field ${r}`),f&&(N+=` in document ${o}`),N+=")"),new qt(Dt.INVALID_ARGUMENT,w+n+N)}function yD(n,e){return n.some(t=>t.isEqual(e))}class S0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yx extends S0{data(){return super.data()}}function Vb(n,e){return"string"==typeof e?Ub(n,e):e instanceof bd?e._internalPath:e._delegate._internalPath}function _D(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new qt(Dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xC{}class C0 extends xC{}function $h(n,e,...t){let r=[];e instanceof xC&&r.push(e),r=r.concat(t),function(o){const u=o.filter(w=>w instanceof gv).length,f=o.filter(w=>w instanceof A0).length;if(u>1||u>0&&f>0)throw new qt(Dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class A0 extends C0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new A0(e,t,r)}_apply(e){const t=this._parse(e);return ID(e._query,t),new Mo(e.firestore,e.converter,R_(e._query,t))}_parse(e){const t=jp(e.firestore);return function(o,u,f,w,N,V,Y){let me;if(N.isKeyField()){if("array-contains"===V||"array-contains-any"===V)throw new qt(Dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${V}' queries on documentId().`);if("in"===V||"not-in"===V){bD(Y,V);const st=[];for(const St of Y)st.push(ED(w,o,St));me={arrayValue:{values:st}}}else me=ED(w,o,Y)}else"in"!==V&&"not-in"!==V&&"array-contains-any"!==V||bD(Y,V),me=gD(f,"where",Y,"in"===V||"not-in"===V);return Cr.create(N,V,me)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class gv extends xC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:zr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let u=r;const f=o.getFlattenedFilters();for(const w of f)ID(u,w),u=R_(u,w)}(e._query,t),new Mo(e.firestore,e.converter,R_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class MC extends C0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new MC(e,t)}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new qt(Dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new qt(Dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Ch(o,u);return function(w,N){if(null===jm(w)){const V=Ah(w);null!==V&&TD(0,V,N.field)}}(r,f),f}(e._query,this._field,this._direction);return new Mo(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new fl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class jb extends C0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new jb(e,t,r)}_apply(e){return new Mo(e.firestore,e.converter,Ap(e._query,this._limit,this._limitType))}}class Hb extends C0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Hb(e,t,r)}_apply(e){const t=wD(e,this.type,this._docOrFields,this._inclusive);return new Mo(e.firestore,e.converter,(o=t,new fl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class $b extends C0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new $b(e,t,r)}_apply(e){const t=wD(e,this.type,this._docOrFields,this._inclusive);return new Mo(e.firestore,e.converter,(o=t,new fl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function wD(n,e,t,r){if(t[0]=Zt(t[0]),t[0]instanceof S0)return function(o,u,f,w,N){if(!w)throw new qt(Dt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const V=[];for(const Y of ud(o))if(Y.field.isKeyField())V.push(Sh(u,w.key));else{const me=w.data.field(Y.field);if(pp(me))throw new qt(Dt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===me){const st=Y.field.canonicalString();throw new qt(Dt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${st}' (used as the orderBy) does not exist.`)}V.push(me)}return new ec(V,N)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=jp(n.firestore);return function(u,f,w,N,V,Y){const me=u.explicitOrderBy;if(V.length>me.length)throw new qt(Dt.INVALID_ARGUMENT,`Too many arguments provided to ${N}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const st=[];for(let St=0;St<V.length;St++){const sn=V[St];if(me[St].field.isKeyField()){if("string"!=typeof sn)throw new qt(Dt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${N}(), but got a ${typeof sn}`);if(!ad(u)&&-1!==sn.indexOf("/"))throw new qt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${N}() must be a plain document ID, but '${sn}' contains a slash.`);const En=u.path.child(Pr.fromString(sn));if(!mn.isDocumentKey(En))throw new qt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${N}() must result in a valid document path, but '${En}' is not because it contains an odd number of segments.`);const Sn=new mn(En);st.push(Sh(f,Sn))}else{const En=gD(w,N,sn);st.push(En)}}return new ec(st,Y)}(n._query,n.firestore._databaseId,o,e,t,r)}}function ED(n,e,t){if("string"==typeof(t=Zt(t))){if(""===t)throw new qt(Dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ad(e)&&-1!==t.indexOf("/"))throw new qt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Pr.fromString(t));if(!mn.isDocumentKey(r))throw new qt(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sh(n,new mn(r))}if(t instanceof Li)return Sh(n,t._key);throw new qt(Dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ob(t)}.`)}function bD(n,e){if(!Array.isArray(n)||0===n.length)throw new qt(Dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ID(n,e){if(e.isInequality()){const r=Ah(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new qt(Dt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const u=jm(n);null!==u&&TD(0,o,u)}const t=function(r,o){for(const u of r)for(const f of u.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new qt(Dt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function TD(n,e,t){if(!t.isEqual(e))throw new qt(Dt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NC{convertValue(e,t="none"){switch(Aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Du(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Nn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return cl(e,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new kb(Pi(e.latitude),Pi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Rm(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gp(e));default:return null}}convertTimestamp(e){const t=Ql(e);return new Ei(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Pr.fromString(e);Bn(n0(r));const o=new Jl(r.get(1),r.get(3)),u=new mn(r.popFirst(5));return o.isEqual(t)||Ki(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function zb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Ax extends NC{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,t)}}class $p{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Id extends S0{constructor(e,t,r,o,u,f){super(e,t,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new D0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class D0 extends Id{data(e={}){return super.data(e)}}class zh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new $p(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new D0(this._firestore,this._userDataWriter,r.key,r,new $p(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qt(Dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new D0(r._firestore,r._userDataWriter,f.doc.key,f.doc,new $p(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>o||3!==f.type).map(f=>{const w=new D0(r._firestore,r._userDataWriter,f.doc.key,f.doc,new $p(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let N=-1,V=-1;return 0!==f.type&&(N=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),1!==f.type&&(u=u.add(f.doc),V=u.indexOf(f.doc.key)),{type:xx(f.type),doc:w,oldIndex:N,newIndex:V}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nn()}}function CD(n,e){return n instanceof Id&&e instanceof Id?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof zh&&e instanceof zh&&n._firestore===e._firestore&&IC(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Wh extends NC{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,t)}}function AD(n,e,t){n=Lr(n,Li);const r=Lr(n.firestore,Fi),o=zb(n.converter,e,t);return mv(r,[Fb(jp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,ki.none())])}function DD(n,e,t,...r){n=Lr(n,Li);const o=Lr(n.firestore,Fi),u=jp(o);let f;return f="string"==typeof(e=Zt(e))||e instanceof bd?AC(u,"updateDoc",n._key,e,t,r):CC(u,"updateDoc",n._key,e),mv(o,[f.toMutation(n._key,ki.exists(!0))])}function xD(n,...e){var t,r,o;n=Zt(n);let u={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||TC(e[f])||(u=e[f],f++);const w={includeMetadataChanges:u.includeMetadataChanges};if(TC(e[f])){const me=e[f];e[f]=null===(t=me.next)||void 0===t?void 0:t.bind(me),e[f+1]=null===(r=me.error)||void 0===r?void 0:r.bind(me),e[f+2]=null===(o=me.complete)||void 0===o?void 0:o.bind(me)}let N,V,Y;if(n instanceof Li)V=Lr(n.firestore,Fi),Y=Cp(n._key.path),N={next:me=>{e[f]&&e[f](RC(V,n,me))},error:e[f+1],complete:e[f+2]};else{const me=Lr(n,Mo);V=Lr(me.firestore,Fi),Y=me._query;const st=new Wh(V);N={next:St=>{e[f]&&e[f](new zh(V,st,me,St))},error:e[f+1],complete:e[f+2]},_D(n._query)}return function(me,st,St,sn){const En=new xb(sn),Sn=new jS(st,En,St);return me.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return LS(yield pv(me),Sn)})),()=>{En.Dc(),me.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return US(yield pv(me),Sn)}))}}(As(V),Y,w,N)}function mv(n,e){return function(t,r){const o=new fs;return t.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function I1(n,e,t){return GS.apply(this,arguments)}(yield wC(t),r,o)})),o.promise}(As(n),e)}function RC(n,e,t){const r=t.docs.get(e._key),o=new Wh(n);return new Id(n,o,e._key,r,new $p(t.hasPendingWrites,t.fromCache),e.converter)}const Kx={maxAttempts:5};class MD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jp(e)}set(e,t,r){this._verifyNotCommitted();const o=Gh(e,this._firestore),u=zb(o.converter,t,r),f=Fb(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(f.toMutation(o._key,ki.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Gh(e,this._firestore);let f;return f="string"==typeof(t=Zt(t))||t instanceof bd?AC(this._dataReader,"WriteBatch.update",u._key,t,r,o):CC(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(f.toMutation(u._key,ki.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gh(e,this._firestore);return this._mutations=this._mutations.concat(new fd(t._key,ki.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qt(Dt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gh(n,e){if((n=Zt(n)).firestore!==e)throw new qt(Dt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Zx extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=jp(e)}get(e){const t=Gh(e,this._firestore),r=new Ax(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Nn();const u=o[0];if(u.isFoundDocument())return new S0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new S0(this._firestore,r,t._key,null,t.converter);throw Nn()})}set(e,t,r){const o=Gh(e,this._firestore),u=zb(o.converter,t,r),f=Fb(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,f),this}update(e,t,r,...o){const u=Gh(e,this._firestore);let f;return f="string"==typeof(t=Zt(t))||t instanceof bd?AC(this._dataReader,"Transaction.update",u._key,t,r,o):CC(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,f),this}delete(e){const t=Gh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Gh(e,this._firestore),r=new Wh(this._firestore);return super.get(e).then(o=>new Id(this._firestore,r,t._key,o._document,new $p(!1,!1),t.converter))}}!function(n,e=!0){Au=Rs,Ai(new Hn("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),f=new Fi(new dE(t.getProvider("auth-internal")),new YC(t.getProvider("app-check-internal")),function(w,N){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new qt(Dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(w.options.projectId,N)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),Di(lE,"3.13.0",n),Di(lE,"3.13.0","esm2017")}();function OC(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new qt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function RD(){if(typeof Uint8Array>"u")throw new qt("unimplemented","Uint8Arrays are not available in this environment.")}function OD(){if(!function XC(){return typeof atob<"u"}())throw new qt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class x0{constructor(e){this._delegate=e}static fromBase64String(e){return OD(),new x0(uc.fromBase64String(e))}static fromUint8Array(e){return RD(),new x0(uc.fromUint8Array(e))}toBase64(){return OD(),this._delegate.toBase64()}toUint8Array(){return RD(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function PC(n){return function rM(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class iM{enableIndexedDbPersistence(e,t){return function nx(n,e){dD(n=Lr(n,Fi));const t=As(n);if(t._uninitializedComponentsProvider)throw new qt(Dt.FAILED_PRECONDITION,"SDK cache is already specified.");aa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new fv;return cD(t,o,new fC(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function rx(n){dD(n=Lr(n,Fi));const e=As(n);if(e._uninitializedComponentsProvider)throw new qt(Dt.FAILED_PRECONDITION,"SDK cache is already specified.");aa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new fv;return cD(e,r,new WA(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ix(n){if(n._initialized&&!n._terminated)throw new qt(Dt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new fs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{yield(t=(0,oe.Z)(function*(r){if(!ru.D())return Promise.resolve();const o=r+"main";yield ru.delete(o)}),function(r){return t.apply(this,arguments)})(sS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class PD{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Jl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&aa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function oD(n,e,t,r={}){var o;const u=(n=Lr(n,E0))._getSettings(),f=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==f&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),r.mockUserToken){let w,N;if("string"==typeof r.mockUserToken)w=r.mockUserToken,N=Vs.MOCK_USER;else{w=function Be(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[X(JSON.stringify({alg:"none",type:"JWT"})),X(JSON.stringify(f)),""].join(".")}(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const V=r.mockUserToken.sub||r.mockUserToken.user_id;if(!V)throw new qt(Dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Vs(V)}n._authCredentials=new aT(new f_(w,N))}}(this._delegate,e,t,r)}enableNetwork(){return function ox(n){return function z1(n){return n.asyncQueue.enqueue((0,oe.Z)(function*(){const e=yield ZA(n),t=yield qA(n);return e.setNetworkEnabled(!0),function(r){const o=wn(r);return o.vu.delete(0),y0(o)}(t)}))}(As(n=Lr(n,Fi)))}(this._delegate)}disableNetwork(){return function ax(n){return function W1(n){return n.asyncQueue.enqueue((0,oe.Z)(function*(){const e=yield ZA(n),t=yield qA(n);return e.setNetworkEnabled(!1),(r=(0,oe.Z)(function*(o){const u=wn(o);u.vu.add(0),yield ov(u),u.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(As(n=Lr(n,Fi)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,tD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function sx(n){return function(e){const t=new fs;return e.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function A1(n,e){return QS.apply(this,arguments)}(yield wC(e),t)})),t.promise}(As(n=Lr(n,Fi)))}(this._delegate)}onSnapshotsInSync(e){return function Ux(n,e){return function Z1(n,e){const t=new xb(e);return n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return r=yield pv(n),o=t,wn(r).ku.add(o),void o.next();var r,o})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return r=yield pv(n),o=t,void wn(r).ku.delete(o);var r,o}))}}(As(n=Lr(n,Fi)),TC(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new qt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new vv(this,aD(this._delegate,e))}catch(t){throw da(t,"collection()","Firestore.collection()")}}doc(e){try{return new Pu(this,Pb(this._delegate,e))}catch(t){throw da(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ha(this,function J1(n,e){if(n=Lr(n,E0),bC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qt(Dt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Mo(n,null,(t=e,new fl(Pr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw da(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function qx(n,e,t){n=Lr(n,Fi);const r=Object.assign(Object.assign({},Kx),t);return function(o){if(o.maxAttempts<1)throw new qt(Dt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,f){const w=new fs;return o.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){const N=yield function YA(n){return Nb(n).then(e=>e.datastore)}(o);new H1(o.asyncQueue,N,f,u,w).run()})),w.promise}(As(n),o=>e(new Zx(n,o)),r)}(this._delegate,t=>e(new kD(this,t)))}batch(){return As(this._delegate),new LD(new MD(this._delegate,e=>mv(this._delegate,e)))}loadBundle(e){return function ux(n,e){const t=As(n=Lr(n,Fi)),r=new ex;return function q1(n,e,t,r){const o=function(u,f){let w;return w="string"==typeof u?kT().encode(u):u,N=function(N,V){if(N instanceof Uint8Array)return GA(N,V);if(N instanceof ArrayBuffer)return GA(new Uint8Array(N),V);if(N instanceof ReadableStream)return N.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(w),new V1(N,f);var N}(t,v0(e));n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){!function U1(n,e,t){const r=wn(n);var o;(o=(0,oe.Z)(function*(u,f,w){try{const N=yield f.getMetadata();if(yield function(st,St){const sn=wn(st),En=qi(St.createTime);return sn.persistence.runTransaction("hasNewerBundle","readonly",Sn=>sn.qs.getBundleMetadata(Sn,St.id)).then(Sn=>!!Sn&&Sn.createTime.compareTo(En)>=0)}(u.localStore,N))return yield f.close(),w._completeWith({taskState:"Success",documentsLoaded:(st=N).totalDocuments,bytesLoaded:st.totalBytes,totalDocuments:st.totalDocuments,totalBytes:st.totalBytes}),Promise.resolve(new Set);w._updateProgress(LA(N));const V=new v1(N,u.localStore,f.serializer);let Y=yield f.bc();for(;Y;){const st=yield V.zu(Y);st&&w._updateProgress(st),Y=yield f.bc()}const me=yield V.complete();return yield Ed(u,me.Ju,void 0),yield function(st,St){const sn=wn(st);return sn.persistence.runTransaction("Save bundle","readwrite",En=>sn.qs.saveBundleMetadata(En,St))}(u.localStore,N),w._completeWith(me.progress),Promise.resolve(me.Hu)}catch(N){return aa("SyncEngine",`Loading bundle failed with ${N}`),w._failWith(N),Promise.resolve(new Set)}var st}),function(u,f,w){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield wC(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function lx(n,e){return function Y1(n,e){return n.asyncQueue.enqueue((0,oe.Z)(function*(){return function(t,r){const o=wn(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.qs.getNamedQuery(u,r))}(yield Rb(n),e)}))}(As(n=Lr(n,Fi)),e).then(t=>t?new Mo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ha(this,t):null)}}class Wb extends NC{constructor(e){super(),this.firestore=e}convertBytes(e){return new x0(new uc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Pu.forKey(t,this.firestore,null)}}class kD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Wb(e)}get(e){const t=Wp(e);return this._delegate.get(t).then(r=>new M0(this._firestore,new Id(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Wp(e);return r?(OC("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Wp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Wp(e);return this._delegate.delete(t),this}}class LD{constructor(e){this._delegate=e}set(e,t,r){const o=Wp(e);return r?(OC("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Wp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Wp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new D0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new N0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=zp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new zp(e,new Wb(e),t),o.set(t,u)),u}}zp.INSTANCES=new WeakMap;class Pu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Wb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new qt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Pu(t,new Li(t._delegate,r,new mn(e)))}static forKey(e,t,r){return new Pu(t,new Li(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new vv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new vv(this.firestore,aD(this._delegate,e))}catch(t){throw da(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Zt(e))instanceof Li&&uD(this._delegate,e)}set(e,t){t=OC("DocumentReference.set",t);try{return t?AD(this._delegate,e,t):AD(this._delegate,e)}catch(r){throw da(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?DD(this._delegate,e):DD(this._delegate,e,t,...r)}catch(o){throw da(o,"updateDoc()","DocumentReference.update()")}}delete(){return function Lx(n){return mv(Lr(n.firestore,Fi),[new fd(n._key,ki.none())])}(this._delegate)}onSnapshot(...e){const t=FD(e),r=UD(e,o=>new M0(this.firestore,new Id(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return xD(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Nx(n){n=Lr(n,Li);const e=Lr(n.firestore,Fi),t=As(e),r=new Wh(e);return function G1(n,e){const t=new fs;return n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(r=(0,oe.Z)(function*(o,u,f){try{const w=yield function(N,V){const Y=wn(N);return Y.persistence.runTransaction("read document","readonly",me=>Y.localDocuments.getDocument(me,V))}(o,u);w.isFoundDocument()?f.resolve(w):w.isNoDocument()?f.resolve(null):f.reject(new qt(Dt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(w){const N=lv(w,`Failed to get document '${u} from cache`);f.reject(N)}}),function(o,u,f){return r.apply(this,arguments)})(yield Rb(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Id(e,r,n._key,o,new $p(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Rx(n){n=Lr(n,Li);const e=Lr(n.firestore,Fi);return QA(As(e),n._key,{source:"server"}).then(t=>RC(e,n,t))}(this._delegate):function Mx(n){n=Lr(n,Li);const e=Lr(n.firestore,Fi);return QA(As(e),n._key).then(t=>RC(e,n,t))}(this._delegate),t.then(r=>new M0(this.firestore,new Id(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Pu(this.firestore,this._delegate.withConverter(e?zp.getInstance(this.firestore,e):null))}}function da(n,e,t){return n.message=n.message.replace(e,t),n}function FD(n){for(const e of n)if("object"==typeof e&&!PC(e))return e;return{}}function UD(n,e){var t,r;let o;return o=PC(n[0])?n[0]:PC(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class M0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Pu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return CD(this._delegate,e._delegate)}}class N0 extends M0{data(e){const t=this._delegate.data(e);return function cp(n,e){n||Nn()}(void 0!==t),t}}class ha{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Wb(e)}where(e,t,r){try{return new ha(this.firestore,$h(this._delegate,function _x(n,e,t){const r=e,o=Vb("where",n);return A0._create(o,r,t)}(e,t,r)))}catch(o){throw da(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ha(this.firestore,$h(this._delegate,function wx(n,e="asc"){const t=e,r=Vb("orderBy",n);return MC._create(r,t)}(e,t)))}catch(r){throw da(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ha(this.firestore,$h(this._delegate,function Ex(n){return iD("limit",n),jb._create("limit",n,"F")}(e)))}catch(t){throw da(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ha(this.firestore,$h(this._delegate,function bx(n){return iD("limitToLast",n),jb._create("limitToLast",n,"L")}(e)))}catch(t){throw da(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ha(this.firestore,$h(this._delegate,function Ix(...n){return Hb._create("startAt",n,!0)}(...e)))}catch(t){throw da(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ha(this.firestore,$h(this._delegate,function Tx(...n){return Hb._create("startAfter",n,!1)}(...e)))}catch(t){throw da(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ha(this.firestore,$h(this._delegate,function Sx(...n){return $b._create("endBefore",n,!1)}(...e)))}catch(t){throw da(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ha(this.firestore,$h(this._delegate,function Cx(...n){return $b._create("endAt",n,!0)}(...e)))}catch(t){throw da(t,"endAt()","Query.endAt()")}}isEqual(e){return IC(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Px(n){n=Lr(n,Mo);const e=Lr(n.firestore,Fi),t=As(e),r=new Wh(e);return function K1(n,e){const t=new fs;return n.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(r=(0,oe.Z)(function*(o,u,f){try{const w=yield bb(o,u,!0),N=new BA(u,w.ir),V=N.sc(w.documents),Y=N.applyChanges(V,!1);f.resolve(Y.snapshot)}catch(w){const N=lv(w,`Failed to execute query '${u} against cache`);f.reject(N)}}),function(o,u,f){return r.apply(this,arguments)})(yield Rb(n),e,t);var r})),t.promise}(t,n._query).then(o=>new zh(e,r,n,o))}(this._delegate):"server"===e?.source?function kx(n){n=Lr(n,Mo);const e=Lr(n.firestore,Fi),t=As(e),r=new Wh(e);return JA(t,n._query,{source:"server"}).then(o=>new zh(e,r,n,o))}(this._delegate):function Ox(n){n=Lr(n,Mo);const e=Lr(n.firestore,Fi),t=As(e),r=new Wh(e);return _D(n._query),JA(t,n._query).then(o=>new zh(e,r,n,o))}(this._delegate),t.then(r=>new kC(this.firestore,new zh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=FD(e),r=UD(e,o=>new kC(this.firestore,new zh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return xD(this._delegate,t,r)}withConverter(e){return new ha(this.firestore,this._delegate.withConverter(e?zp.getInstance(this.firestore,e):null))}}class oM{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new N0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class kC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ha(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new N0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new oM(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new N0(this._firestore,r))})}isEqual(e){return CD(this._delegate,e._delegate)}}class vv extends ha{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Pu(this.firestore,e):null}doc(e){try{return new Pu(this.firestore,void 0===e?Pb(this._delegate):Pb(this._delegate,e))}catch(t){throw da(t,"doc()","CollectionReference.doc()")}}add(e){return function Fx(n,e){const t=Lr(n.firestore,Fi),r=Pb(n),o=zb(n.converter,e);return mv(t,[Fb(jp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,ki.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Pu(this.firestore,t))}isEqual(e){return uD(this._delegate,e._delegate)}withConverter(e){return new vv(this.firestore,this._delegate.withConverter(e?zp.getInstance(this.firestore,e):null))}}function Wp(n){return Lr(n,Li)}class LC{constructor(...e){this._delegate=new bd(...e)}static documentId(){return new LC(Zi.keyField().canonicalString())}isEqual(e){return(e=Zt(e))instanceof bd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Gp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Qx(){return new SC("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Gp(e)}static delete(){const e=function Yx(){return new I0("deleteField")}();return e._methodName="FieldValue.delete",new Gp(e)}static arrayUnion(...e){const t=function Jx(...n){return new px("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Gp(t)}static arrayRemove(...e){const t=function Xx(...n){return new gx("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Gp(t)}static increment(e){const t=function eM(n){return new mx("increment",n)}(e);return t._methodName="FieldValue.increment",new Gp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const aM={Firestore:PD,GeoPoint:kb,Timestamp:Ei,Blob:x0,Transaction:kD,WriteBatch:LD,DocumentReference:Pu,DocumentSnapshot:M0,Query:ha,QueryDocumentSnapshot:N0,QuerySnapshot:kC,CollectionReference:vv,FieldPath:LC,FieldValue:Gp,setLogLevel:function sM(n){!function oT(n){Kl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function lM(n){(function uM(n,e){n.INTERNAL.registerComponent(new Hn("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},aM)))})(n,(e,t)=>new PD(e,t,new iM)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(U);class cM{constructor(e){this.registerUser=(t,r)=>new Promise((o,u)=>{U.auth().createUserWithEmailAndPassword(t,r).then(w=>{w=U.auth().currentUser,o(w)},f=>{u(this._handleError(f))})}),this.loginUser=(t,r)=>new Promise((o,u)=>{U.auth().signInWithEmailAndPassword(t,r).then(w=>{w=U.auth().currentUser,o(w)},f=>{u(this._handleError(f))})}),this.logout=()=>new Promise((t,r)=>{U.auth().signOut().then(()=>{t(!0)}).catch(o=>{r(this._handleError(o))})}),this.forgetPassword=t=>new Promise((r,o)=>{U.auth().sendPasswordResetEmail(t,{url:window.location.protocol+"//"+window.location.host+"/login"}).then(()=>{r(!0)}).catch(u=>{o(this._handleError(u))})}),this.setLoggeedInUser=t=>{sessionStorage.setItem("authUser",JSON.stringify(t))},this.getAuthenticatedUser=()=>sessionStorage.getItem("authUser")?JSON.parse(sessionStorage.getItem("authUser")):null,e&&(U.initializeApp(e),U.auth().onAuthStateChanged(t=>{t?sessionStorage.setItem("authUser",JSON.stringify(t)):sessionStorage.removeItem("authUser")}))}_handleError(e){return e.message}}let Gb=null;const dM=n=>(Gb||(Gb=new cM(n)),Gb),hM=()=>Gb},3152:(Mt,Ae,P)=>{"use strict";P.d(Ae,{a:()=>de});var v=P(5861),H=P(4650),c=P(5892),ue=P(1391);let de=(()=>{class re{constructor(W,ae,X){this.router=W,this.authenticationService=ae,this.authService=X}canActivate(){var W=this;return(0,v.Z)(function*(){return"true"==localStorage.getItem("login")||(W.router.navigate(["/auth/login"]),!1)})()}getToken(){var W=this;return(0,v.Z)(function*(){try{W.accessToken=yield W.authenticationService.getAccessToken().toPromise()}catch(ae){console.error("Error retrieving access token",ae)}})()}static#e=this.\u0275fac=function(ae){return new(ae||re)(H.LFG(c.F0),H.LFG(ue.$),H.LFG(ue.$))};static#t=this.\u0275prov=H.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})()},1391:(Mt,Ae,P)=>{"use strict";P.d(Ae,{$:()=>ce});var v=P(5861),H=P(8821),c=P(529),ue=P(4004),de=P(1135),re=P(457);localStorage.getItem("token");var W=P(6075),ae=P(4650);const X="https://api-node.themesbrand.website/auth/",ne={headers:new c.WM({"Content-Type":"application/json"})};let ce=(()=>{class Me{constructor(ee){this.http=ee,this.flag=!1,this.currentUserSubject=new de.X(JSON.parse(localStorage.getItem("currentUser")))}register(ee,Ie,xe){return this.http.post(X+"signup",{email:ee,first_name:Ie,password:xe},ne)}login(ee,Ie){return this.http.post(X+"signin",{email:ee,password:Ie},ne)}getAccessToken(){return(0,re.D)(W.g.currentSession()).pipe((0,ue.U)(ee=>ee.getAccessToken().getJwtToken()))}isAuthenticated(){return!0}currentUser(){return(0,H.Z)().getAuthenticatedUser()}logout(){localStorage.clear(),this.currentUserSubject.next(null),location.reload()}resetPassword(ee){return(0,H.Z)().forgetPassword(ee).then(Ie=>Ie.data)}forgotPassword(ee){return W.g.forgotPassword(ee)}isLoggedIn(){return(0,v.Z)(function*(){return W.g.currentAuthenticatedUser().then(ee=>(console.log("User is logged in:",ee),localStorage.setItem("userName",ee?.attributes?.given_name),!0)).catch(ee=>(console.log("User is not logged in:",ee),!1))})()}static#e=this.\u0275fac=function(Ie){return new(Ie||Me)(ae.LFG(c.eN))};static#t=this.\u0275prov=ae.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})()},3527:(Mt,Ae,P)=>{"use strict";P.d(Ae,{g:()=>de});var v=P(1135),H=P(4004),c=P(4650),ue=P(529);let de=(()=>{class re{constructor(W){this.http=W,this.currentUserSubject=new v.X(JSON.parse(localStorage.getItem("currentUser"))),this.currentUser=this.currentUserSubject.asObservable()}get currentUserValue(){return this.currentUserSubject.value}login(W,ae){return this.http.post("/users/authenticate",{email:W,password:ae}).pipe((0,H.U)(X=>(X&&X.token&&(localStorage.setItem("toast","true"),localStorage.setItem("currentUser",JSON.stringify(X)),this.currentUserSubject.next(X)),X)))}logout(){localStorage.clear(),this.currentUserSubject.next(null)}static#e=this.\u0275fac=function(ae){return new(ae||re)(c.LFG(ue.eN))};static#t=this.\u0275prov=c.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})()},4766:(Mt,Ae,P)=>{"use strict";P.d(Ae,{N:()=>v});const v={production:!1,defaultauth:"fackbackend",firebaseConfig:{apiKey:"",authDomain:"",databaseURL:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""},cognito:{identityPoolId:"XX",region:"ap-southeast-2",userPoolId:"ap-southeast-2_alG8BEBdZ",userPoolWebClientId:"11nvr8i2fhpfadh93h9lv8p3u9"},base_url:"https://api.dev.cadfyvision.com.au"}},3469:(Mt,Ae,P)=>{"use strict";var v={};P.r(v),P.d(v,{default:()=>Zh});var H=P(1481),c=P(4650),ue=P(7340);function re(y){return new c.vHH(3e3,!1)}function gt(){return typeof window<"u"&&typeof window.document<"u"}function Yt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Wt(y){switch(y.length){case 0:return new ue.ZN;case 1:return y[0];default:return new ue.ZE(y)}}function Tn(y,p,d,m,A=new Map,j=new Map){const fe=[],we=[];let Xe=-1,ct=null;if(m.forEach(Ut=>{const en=Ut.get("offset"),zn=en==Xe,Vn=zn&&ct||new Map;Ut.forEach((Mn,$n)=>{let or=$n,dr=Mn;if("offset"!==$n)switch(or=p.normalizePropertyName(or,fe),dr){case ue.k1:dr=A.get($n);break;case ue.l3:dr=j.get($n);break;default:dr=p.normalizeStyleValue($n,or,dr,fe)}Vn.set(or,dr)}),zn||we.push(Vn),ct=Vn,Xe=en}),fe.length)throw function ft(y){return new c.vHH(3502,!1)}();return we}function gn(y,p,d,m){switch(p){case"start":y.onStart(()=>m(d&&dt(d,"start",y)));break;case"done":y.onDone(()=>m(d&&dt(d,"done",y)));break;case"destroy":y.onDestroy(()=>m(d&&dt(d,"destroy",y)))}}function dt(y,p,d){const j=lt(y.element,y.triggerName,y.fromState,y.toState,p||y.phaseName,d.totalTime??y.totalTime,!!d.disabled),fe=y._data;return null!=fe&&(j._data=fe),j}function lt(y,p,d,m,A="",j=0,fe){return{element:y,triggerName:p,fromState:d,toState:m,phaseName:A,totalTime:j,disabled:!!fe}}function Oe(y,p,d){let m=y.get(p);return m||y.set(p,m=d),m}function At(y){const p=y.indexOf(":");return[y.substring(1,p),y.slice(p+1)]}let jt=(y,p)=>!1,yn=(y,p,d)=>[],tr=null;function ve(y){const p=y.parentNode||y.host;return p===tr?null:p}(Yt()||typeof Element<"u")&&(gt()?(tr=(()=>document.documentElement)(),jt=(y,p)=>{for(;p;){if(p===y)return!0;p=ve(p)}return!1}):jt=(y,p)=>y.contains(p),yn=(y,p,d)=>{if(d)return Array.from(y.querySelectorAll(p));const m=y.querySelector(p);return m?[m]:[]});let te=null,Ce=!1;const Tt=jt,yt=yn;let kt=(()=>{class y{validateStyleProperty(d){return function rt(y){te||(te=function Pt(){return typeof document<"u"?document.body:null}()||{},Ce=!!te.style&&"WebkitAppearance"in te.style);let p=!0;return te.style&&!function F(y){return"ebkit"==y.substring(1,6)}(y)&&(p=y in te.style,!p&&Ce&&(p="Webkit"+y.charAt(0).toUpperCase()+y.slice(1)in te.style)),p}(d)}matchesElement(d,m){return!1}containsElement(d,m){return Tt(d,m)}getParentElement(d){return ve(d)}query(d,m,A){return yt(d,m,A)}computeStyle(d,m,A){return A||""}animate(d,m,A,j,fe,we=[],Xe){return new ue.ZN(A,j)}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac}),y})(),Dn=(()=>{class y{}return y.NOOP=new kt,y})();const Yn=1e3,lr="ng-enter",Yr="ng-leave",Zn="ng-trigger",Ci=".ng-trigger",_r="ng-animating",ms=".ng-animating";function Qr(y){if("number"==typeof y)return y;const p=y.match(/^(-?[\.\d]+)(m?s)/);return!p||p.length<2?0:Nt(parseFloat(p[1]),p[2])}function Nt(y,p){return"s"===p?y*Yn:y}function We(y,p,d){return y.hasOwnProperty("duration")?y:function ot(y,p,d){let A,j=0,fe="";if("string"==typeof y){const we=y.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===we)return p.push(re()),{duration:0,delay:0,easing:""};A=Nt(parseFloat(we[1]),we[2]);const Xe=we[3];null!=Xe&&(j=Nt(parseFloat(Xe),we[4]));const ct=we[5];ct&&(fe=ct)}else A=y;if(!d){let we=!1,Xe=p.length;A<0&&(p.push(function se(){return new c.vHH(3100,!1)}()),we=!0),j<0&&(p.push(function W(){return new c.vHH(3101,!1)}()),we=!0),we&&p.splice(Xe,0,re())}return{duration:A,delay:j,easing:fe}}(y,p,d)}function Qt(y,p={}){return Object.keys(y).forEach(d=>{p[d]=y[d]}),p}function $t(y){const p=new Map;return Object.keys(y).forEach(d=>{p.set(d,y[d])}),p}function Hn(y,p=new Map,d){if(d)for(let[m,A]of d)p.set(m,A);for(let[m,A]of y)p.set(m,A);return p}function kn(y,p,d){return d?p+":"+d+";":""}function Ir(y){let p="";for(let d=0;d<y.style.length;d++){const m=y.style.item(d);p+=kn(0,m,y.style.getPropertyValue(m))}for(const d in y.style)y.style.hasOwnProperty(d)&&!d.startsWith("_")&&(p+=kn(0,Ds(d),y.style[d]));y.setAttribute("style",p)}function Gn(y,p,d){y.style&&(p.forEach((m,A)=>{const j=Dr(A);d&&!d.has(A)&&d.set(A,y.style[j]),y.style[j]=m}),Yt()&&Ir(y))}function ht(y,p){y.style&&(p.forEach((d,m)=>{const A=Dr(m);y.style[A]=""}),Yt()&&Ir(y))}function Qe(y){return Array.isArray(y)?1==y.length?y[0]:(0,ue.vP)(y):y}const Re=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ot(y){let p=[];if("string"==typeof y){let d;for(;d=Re.exec(y);)p.push(d[1]);Re.lastIndex=0}return p}function cn(y,p,d){const m=y.toString(),A=m.replace(Re,(j,fe)=>{let we=p[fe];return null==we&&(d.push(function X(y){return new c.vHH(3003,!1)}()),we=""),we.toString()});return A==m?y:A}function xn(y){const p=[];let d=y.next();for(;!d.done;)p.push(d.value),d=y.next();return p}const Ar=/-+([a-z0-9])/g;function Dr(y){return y.replace(Ar,(...p)=>p[1].toUpperCase())}function Ds(y){return y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Q(y,p,d){switch(p.type){case 7:return y.visitTrigger(p,d);case 0:return y.visitState(p,d);case 1:return y.visitTransition(p,d);case 2:return y.visitSequence(p,d);case 3:return y.visitGroup(p,d);case 4:return y.visitAnimate(p,d);case 5:return y.visitKeyframes(p,d);case 6:return y.visitStyle(p,d);case 8:return y.visitReference(p,d);case 9:return y.visitAnimateChild(p,d);case 10:return y.visitAnimateRef(p,d);case 11:return y.visitQuery(p,d);case 12:return y.visitStagger(p,d);default:throw function ne(y){return new c.vHH(3004,!1)}()}}function qe(y,p){return window.getComputedStyle(y)[p]}const on="*";function ir(y,p){const d=[];return"string"==typeof y?y.split(/\s*,\s*/).forEach(m=>function sr(y,p,d){if(":"==y[0]){const Xe=function Wn(y,p){switch(y){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(d,m)=>parseFloat(m)>parseFloat(d);case":decrement":return(d,m)=>parseFloat(m)<parseFloat(d);default:return p.push(function ge(y){return new c.vHH(3016,!1)}()),"* => *"}}(y,d);if("function"==typeof Xe)return void p.push(Xe);y=Xe}const m=y.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==m||m.length<4)return d.push(function Be(y){return new c.vHH(3015,!1)}()),p;const A=m[1],j=m[2],fe=m[3];p.push(Fn(A,fe));"<"==j[0]&&!(A==on&&fe==on)&&p.push(Fn(fe,A))}(m,d,p)):d.push(y),d}const Jt=new Set(["true","1"]),bn=new Set(["false","0"]);function Fn(y,p){const d=Jt.has(y)||bn.has(y),m=Jt.has(p)||bn.has(p);return(A,j)=>{let fe=y==on||y==A,we=p==on||p==j;return!fe&&d&&"boolean"==typeof A&&(fe=A?Jt.has(y):bn.has(y)),!we&&m&&"boolean"==typeof j&&(we=j?Jt.has(p):bn.has(p)),fe&&we}}const Wr=new RegExp("s*:selfs*,?","g");function mr(y,p,d,m){return new wr(y).build(p,d,m)}class wr{constructor(p){this._driver=p}build(p,d,m){const A=new qn(d);return this._resetContextStyleTimingState(A),Q(this,Qe(p),A)}_resetContextStyleTimingState(p){p.currentQuerySelector="",p.collectedStyles=new Map,p.collectedStyles.set("",new Map),p.currentTime=0}visitTrigger(p,d){let m=d.queryCount=0,A=d.depCount=0;const j=[],fe=[];return"@"==p.name.charAt(0)&&d.errors.push(function Me(){return new c.vHH(3006,!1)}()),p.definitions.forEach(we=>{if(this._resetContextStyleTimingState(d),0==we.type){const Xe=we,ct=Xe.name;ct.toString().split(/\s*,\s*/).forEach(Ut=>{Xe.name=Ut,j.push(this.visitState(Xe,d))}),Xe.name=ct}else if(1==we.type){const Xe=this.visitTransition(we,d);m+=Xe.queryCount,A+=Xe.depCount,fe.push(Xe)}else d.errors.push(function J(){return new c.vHH(3007,!1)}())}),{type:7,name:p.name,states:j,transitions:fe,queryCount:m,depCount:A,options:null}}visitState(p,d){const m=this.visitStyle(p.styles,d),A=p.options&&p.options.params||null;if(m.containsDynamicStyles){const j=new Set,fe=A||{};m.styles.forEach(we=>{we instanceof Map&&we.forEach(Xe=>{Ot(Xe).forEach(ct=>{fe.hasOwnProperty(ct)||j.add(ct)})})}),j.size&&(xn(j.values()),d.errors.push(function ee(y,p){return new c.vHH(3008,!1)}()))}return{type:0,name:p.name,style:m,options:A?{params:A}:null}}visitTransition(p,d){d.queryCount=0,d.depCount=0;const m=Q(this,Qe(p.animation),d);return{type:1,matchers:ir(p.expr,d.errors),animation:m,queryCount:d.queryCount,depCount:d.depCount,options:Bi(p.options)}}visitSequence(p,d){return{type:2,steps:p.steps.map(m=>Q(this,m,d)),options:Bi(p.options)}}visitGroup(p,d){const m=d.currentTime;let A=0;const j=p.steps.map(fe=>{d.currentTime=m;const we=Q(this,fe,d);return A=Math.max(A,d.currentTime),we});return d.currentTime=A,{type:3,steps:j,options:Bi(p.options)}}visitAnimate(p,d){const m=function vs(y,p){if(y.hasOwnProperty("duration"))return y;if("number"==typeof y)return mi(We(y,p).duration,0,"");const d=y;if(d.split(/\s+/).some(j=>"{"==j.charAt(0)&&"{"==j.charAt(1))){const j=mi(0,0,"");return j.dynamic=!0,j.strValue=d,j}const A=We(d,p);return mi(A.duration,A.delay,A.easing)}(p.timings,d.errors);d.currentAnimateTimings=m;let A,j=p.styles?p.styles:(0,ue.oB)({});if(5==j.type)A=this.visitKeyframes(j,d);else{let fe=p.styles,we=!1;if(!fe){we=!0;const ct={};m.easing&&(ct.easing=m.easing),fe=(0,ue.oB)(ct)}d.currentTime+=m.duration+m.delay;const Xe=this.visitStyle(fe,d);Xe.isEmptyStep=we,A=Xe}return d.currentAnimateTimings=null,{type:4,timings:m,style:A,options:null}}visitStyle(p,d){const m=this._makeStyleAst(p,d);return this._validateStyleAst(m,d),m}_makeStyleAst(p,d){const m=[],A=Array.isArray(p.styles)?p.styles:[p.styles];for(let we of A)"string"==typeof we?we===ue.l3?m.push(we):d.errors.push(new c.vHH(3002,!1)):m.push($t(we));let j=!1,fe=null;return m.forEach(we=>{if(we instanceof Map&&(we.has("easing")&&(fe=we.get("easing"),we.delete("easing")),!j))for(let Xe of we.values())if(Xe.toString().indexOf("{{")>=0){j=!0;break}}),{type:6,styles:m,easing:fe,offset:p.offset,containsDynamicStyles:j,options:null}}_validateStyleAst(p,d){const m=d.currentAnimateTimings;let A=d.currentTime,j=d.currentTime;m&&j>0&&(j-=m.duration+m.delay),p.styles.forEach(fe=>{"string"!=typeof fe&&fe.forEach((we,Xe)=>{const ct=d.collectedStyles.get(d.currentQuerySelector),Ut=ct.get(Xe);let en=!0;Ut&&(j!=A&&j>=Ut.startTime&&A<=Ut.endTime&&(d.errors.push(function Fe(y,p,d,m,A){return new c.vHH(3010,!1)}()),en=!1),j=Ut.startTime),en&&ct.set(Xe,{startTime:j,endTime:A}),d.options&&function Se(y,p,d){const m=p.params||{},A=Ot(y);A.length&&A.forEach(j=>{m.hasOwnProperty(j)||d.push(function ae(y){return new c.vHH(3001,!1)}())})}(we,d.options,d.errors)})})}visitKeyframes(p,d){const m={type:5,styles:[],options:null};if(!d.currentAnimateTimings)return d.errors.push(function Ke(){return new c.vHH(3011,!1)}()),m;let j=0;const fe=[];let we=!1,Xe=!1,ct=0;const Ut=p.steps.map(dr=>{const Zr=this._makeStyleAst(dr,d);let $i=null!=Zr.offset?Zr.offset:function fa(y){if("string"==typeof y)return null;let p=null;if(Array.isArray(y))y.forEach(d=>{if(d instanceof Map&&d.has("offset")){const m=d;p=parseFloat(m.get("offset")),m.delete("offset")}});else if(y instanceof Map&&y.has("offset")){const d=y;p=parseFloat(d.get("offset")),d.delete("offset")}return p}(Zr.styles),zi=0;return null!=$i&&(j++,zi=Zr.offset=$i),Xe=Xe||zi<0||zi>1,we=we||zi<ct,ct=zi,fe.push(zi),Zr});Xe&&d.errors.push(function He(){return new c.vHH(3012,!1)}()),we&&d.errors.push(function Ye(){return new c.vHH(3200,!1)}());const en=p.steps.length;let zn=0;j>0&&j<en?d.errors.push(function Le(){return new c.vHH(3202,!1)}()):0==j&&(zn=1/(en-1));const Vn=en-1,Mn=d.currentTime,$n=d.currentAnimateTimings,or=$n.duration;return Ut.forEach((dr,Zr)=>{const $i=zn>0?Zr==Vn?1:zn*Zr:fe[Zr],zi=$i*or;d.currentTime=Mn+$n.delay+zi,$n.duration=zi,this._validateStyleAst(dr,d),dr.offset=$i,m.styles.push(dr)}),m}visitReference(p,d){return{type:8,animation:Q(this,Qe(p.animation),d),options:Bi(p.options)}}visitAnimateChild(p,d){return d.depCount++,{type:9,options:Bi(p.options)}}visitAnimateRef(p,d){return{type:10,animation:this.visitReference(p.animation,d),options:Bi(p.options)}}visitQuery(p,d){const m=d.currentQuerySelector,A=p.options||{};d.queryCount++,d.currentQuery=p;const[j,fe]=function Ui(y){const p=!!y.split(/\s*,\s*/).find(d=>":self"==d);return p&&(y=y.replace(Wr,"")),y=y.replace(/@\*/g,Ci).replace(/@\w+/g,d=>Ci+"-"+d.slice(1)).replace(/:animating/g,ms),[y,p]}(p.selector);d.currentQuerySelector=m.length?m+" "+j:j,Oe(d.collectedStyles,d.currentQuerySelector,new Map);const we=Q(this,Qe(p.animation),d);return d.currentQuery=null,d.currentQuerySelector=m,{type:11,selector:j,limit:A.limit||0,optional:!!A.optional,includeSelf:fe,animation:we,originalSelector:p.selector,options:Bi(p.options)}}visitStagger(p,d){d.currentQuery||d.errors.push(function mt(){return new c.vHH(3013,!1)}());const m="full"===p.timings?{duration:0,delay:0,easing:"full"}:We(p.timings,d.errors,!0);return{type:12,animation:Q(this,Qe(p.animation),d),timings:m,options:null}}}class qn{constructor(p){this.errors=p,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Bi(y){return y?(y=Qt(y)).params&&(y.params=function ni(y){return y?Qt(y):null}(y.params)):y={},y}function mi(y,p,d){return{duration:y,delay:p,easing:d}}function ai(y,p,d,m,A,j,fe=null,we=!1){return{type:1,element:y,keyframes:p,preStyleProps:d,postStyleProps:m,duration:A,delay:j,totalTime:A+j,easing:fe,subTimeline:we}}class mo{constructor(){this._map=new Map}get(p){return this._map.get(p)||[]}append(p,d){let m=this._map.get(p);m||this._map.set(p,m=[]),m.push(...d)}has(p){return this._map.has(p)}clear(){this._map.clear()}}const Zo=new RegExp(":enter","g"),Ur=new RegExp(":leave","g");function Yi(y,p,d,m,A,j=new Map,fe=new Map,we,Xe,ct=[]){return(new pa).buildKeyframes(y,p,d,m,A,j,fe,we,Xe,ct)}class pa{buildKeyframes(p,d,m,A,j,fe,we,Xe,ct,Ut=[]){ct=ct||new mo;const en=new as(p,d,ct,A,j,Ut,[]);en.options=Xe;const zn=Xe.delay?Qr(Xe.delay):0;en.currentTimeline.delayNextStep(zn),en.currentTimeline.setStyles([fe],null,en.errors,Xe),Q(this,m,en);const Vn=en.timelines.filter(Mn=>Mn.containsAnimation());if(Vn.length&&we.size){let Mn;for(let $n=Vn.length-1;$n>=0;$n--){const or=Vn[$n];if(or.element===d){Mn=or;break}}Mn&&!Mn.allowOnlyTimelineStyles()&&Mn.setStyles([we],null,en.errors,Xe)}return Vn.length?Vn.map(Mn=>Mn.buildKeyframes()):[ai(d,[],[],[],0,zn,"",!1)]}visitTrigger(p,d){}visitState(p,d){}visitTransition(p,d){}visitAnimateChild(p,d){const m=d.subInstructions.get(d.element);if(m){const A=d.createSubContext(p.options),j=d.currentTimeline.currentTime,fe=this._visitSubInstructions(m,A,A.options);j!=fe&&d.transformIntoNewTimeline(fe)}d.previousNode=p}visitAnimateRef(p,d){const m=d.createSubContext(p.options);m.transformIntoNewTimeline(),this._applyAnimationRefDelays([p.options,p.animation.options],d,m),this.visitReference(p.animation,m),d.transformIntoNewTimeline(m.currentTimeline.currentTime),d.previousNode=p}_applyAnimationRefDelays(p,d,m){for(const A of p){const j=A?.delay;if(j){const fe="number"==typeof j?j:Qr(cn(j,A?.params??{},d.errors));m.delayNextStep(fe)}}}_visitSubInstructions(p,d,m){let j=d.currentTimeline.currentTime;const fe=null!=m.duration?Qr(m.duration):null,we=null!=m.delay?Qr(m.delay):null;return 0!==fe&&p.forEach(Xe=>{const ct=d.appendInstructionToTimeline(Xe,fe,we);j=Math.max(j,ct.duration+ct.delay)}),j}visitReference(p,d){d.updateOptions(p.options,!0),Q(this,p.animation,d),d.previousNode=p}visitSequence(p,d){const m=d.subContextCount;let A=d;const j=p.options;if(j&&(j.params||j.delay)&&(A=d.createSubContext(j),A.transformIntoNewTimeline(),null!=j.delay)){6==A.previousNode.type&&(A.currentTimeline.snapshotCurrentStyles(),A.previousNode=Ms);const fe=Qr(j.delay);A.delayNextStep(fe)}p.steps.length&&(p.steps.forEach(fe=>Q(this,fe,A)),A.currentTimeline.applyStylesToKeyframe(),A.subContextCount>m&&A.transformIntoNewTimeline()),d.previousNode=p}visitGroup(p,d){const m=[];let A=d.currentTimeline.currentTime;const j=p.options&&p.options.delay?Qr(p.options.delay):0;p.steps.forEach(fe=>{const we=d.createSubContext(p.options);j&&we.delayNextStep(j),Q(this,fe,we),A=Math.max(A,we.currentTimeline.currentTime),m.push(we.currentTimeline)}),m.forEach(fe=>d.currentTimeline.mergeTimelineCollectedStyles(fe)),d.transformIntoNewTimeline(A),d.previousNode=p}_visitTiming(p,d){if(p.dynamic){const m=p.strValue;return We(d.params?cn(m,d.params,d.errors):m,d.errors)}return{duration:p.duration,delay:p.delay,easing:p.easing}}visitAnimate(p,d){const m=d.currentAnimateTimings=this._visitTiming(p.timings,d),A=d.currentTimeline;m.delay&&(d.incrementTime(m.delay),A.snapshotCurrentStyles());const j=p.style;5==j.type?this.visitKeyframes(j,d):(d.incrementTime(m.duration),this.visitStyle(j,d),A.applyStylesToKeyframe()),d.currentAnimateTimings=null,d.previousNode=p}visitStyle(p,d){const m=d.currentTimeline,A=d.currentAnimateTimings;!A&&m.hasCurrentStyleProperties()&&m.forwardFrame();const j=A&&A.easing||p.easing;p.isEmptyStep?m.applyEmptyStep(j):m.setStyles(p.styles,j,d.errors,d.options),d.previousNode=p}visitKeyframes(p,d){const m=d.currentAnimateTimings,A=d.currentTimeline.duration,j=m.duration,we=d.createSubContext().currentTimeline;we.easing=m.easing,p.styles.forEach(Xe=>{we.forwardTime((Xe.offset||0)*j),we.setStyles(Xe.styles,Xe.easing,d.errors,d.options),we.applyStylesToKeyframe()}),d.currentTimeline.mergeTimelineCollectedStyles(we),d.transformIntoNewTimeline(A+j),d.previousNode=p}visitQuery(p,d){const m=d.currentTimeline.currentTime,A=p.options||{},j=A.delay?Qr(A.delay):0;j&&(6===d.previousNode.type||0==m&&d.currentTimeline.hasCurrentStyleProperties())&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=Ms);let fe=m;const we=d.invokeQuery(p.selector,p.originalSelector,p.limit,p.includeSelf,!!A.optional,d.errors);d.currentQueryTotal=we.length;let Xe=null;we.forEach((ct,Ut)=>{d.currentQueryIndex=Ut;const en=d.createSubContext(p.options,ct);j&&en.delayNextStep(j),ct===d.element&&(Xe=en.currentTimeline),Q(this,p.animation,en),en.currentTimeline.applyStylesToKeyframe(),fe=Math.max(fe,en.currentTimeline.currentTime)}),d.currentQueryIndex=0,d.currentQueryTotal=0,d.transformIntoNewTimeline(fe),Xe&&(d.currentTimeline.mergeTimelineCollectedStyles(Xe),d.currentTimeline.snapshotCurrentStyles()),d.previousNode=p}visitStagger(p,d){const m=d.parentContext,A=d.currentTimeline,j=p.timings,fe=Math.abs(j.duration),we=fe*(d.currentQueryTotal-1);let Xe=fe*d.currentQueryIndex;switch(j.duration<0?"reverse":j.easing){case"reverse":Xe=we-Xe;break;case"full":Xe=m.currentStaggerTime}const Ut=d.currentTimeline;Xe&&Ut.delayNextStep(Xe);const en=Ut.currentTime;Q(this,p.animation,d),d.previousNode=p,m.currentStaggerTime=A.currentTime-en+(A.startTime-m.currentTimeline.startTime)}}const Ms={};class as{constructor(p,d,m,A,j,fe,we,Xe){this._driver=p,this.element=d,this.subInstructions=m,this._enterClassName=A,this._leaveClassName=j,this.errors=fe,this.timelines=we,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ms,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Xe||new vo(this._driver,d,0),we.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(p,d){if(!p)return;const m=p;let A=this.options;null!=m.duration&&(A.duration=Qr(m.duration)),null!=m.delay&&(A.delay=Qr(m.delay));const j=m.params;if(j){let fe=A.params;fe||(fe=this.options.params={}),Object.keys(j).forEach(we=>{(!d||!fe.hasOwnProperty(we))&&(fe[we]=cn(j[we],fe,this.errors))})}}_copyOptions(){const p={};if(this.options){const d=this.options.params;if(d){const m=p.params={};Object.keys(d).forEach(A=>{m[A]=d[A]})}}return p}createSubContext(p=null,d,m){const A=d||this.element,j=new as(this._driver,A,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(A,m||0));return j.previousNode=this.previousNode,j.currentAnimateTimings=this.currentAnimateTimings,j.options=this._copyOptions(),j.updateOptions(p),j.currentQueryIndex=this.currentQueryIndex,j.currentQueryTotal=this.currentQueryTotal,j.parentContext=this,this.subContextCount++,j}transformIntoNewTimeline(p){return this.previousNode=Ms,this.currentTimeline=this.currentTimeline.fork(this.element,p),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(p,d,m){const A={duration:d??p.duration,delay:this.currentTimeline.currentTime+(m??0)+p.delay,easing:""},j=new io(this._driver,p.element,p.keyframes,p.preStyleProps,p.postStyleProps,A,p.stretchStartingKeyframe);return this.timelines.push(j),A}incrementTime(p){this.currentTimeline.forwardTime(this.currentTimeline.duration+p)}delayNextStep(p){p>0&&this.currentTimeline.delayNextStep(p)}invokeQuery(p,d,m,A,j,fe){let we=[];if(A&&we.push(this.element),p.length>0){p=(p=p.replace(Zo,"."+this._enterClassName)).replace(Ur,"."+this._leaveClassName);let ct=this._driver.query(this.element,p,1!=m);0!==m&&(ct=m<0?ct.slice(ct.length+m,ct.length):ct.slice(0,m)),we.push(...ct)}return!j&&0==we.length&&fe.push(function Ue(y){return new c.vHH(3014,!1)}()),we}}class vo{constructor(p,d,m,A){this._driver=p,this.element=d,this.startTime=m,this._elementTimelineStylesLookup=A,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(d),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(d,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(p){const d=1===this._keyframes.size&&this._pendingStyles.size;this.duration||d?(this.forwardTime(this.currentTime+p),d&&this.snapshotCurrentStyles()):this.startTime+=p}fork(p,d){return this.applyStylesToKeyframe(),new vo(this._driver,p,d||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(p){this.applyStylesToKeyframe(),this.duration=p,this._loadKeyframe()}_updateStyle(p,d){this._localTimelineStyles.set(p,d),this._globalTimelineStyles.set(p,d),this._styleSummary.set(p,{time:this.currentTime,value:d})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(p){p&&this._previousKeyframe.set("easing",p);for(let[d,m]of this._globalTimelineStyles)this._backFill.set(d,m||ue.l3),this._currentKeyframe.set(d,ue.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(p,d,m,A){d&&this._previousKeyframe.set("easing",d);const j=A&&A.params||{},fe=function Na(y,p){const d=new Map;let m;return y.forEach(A=>{if("*"===A){m=m||p.keys();for(let j of m)d.set(j,ue.l3)}else Hn(A,d)}),d}(p,this._globalTimelineStyles);for(let[we,Xe]of fe){const ct=cn(Xe,j,m);this._pendingStyles.set(we,ct),this._localTimelineStyles.has(we)||this._backFill.set(we,this._globalTimelineStyles.get(we)??ue.l3),this._updateStyle(we,ct)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((p,d)=>{this._currentKeyframe.set(d,p)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((p,d)=>{this._currentKeyframe.has(d)||this._currentKeyframe.set(d,p)}))}snapshotCurrentStyles(){for(let[p,d]of this._localTimelineStyles)this._pendingStyles.set(p,d),this._updateStyle(p,d)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const p=[];for(let d in this._currentKeyframe)p.push(d);return p}mergeTimelineCollectedStyles(p){p._styleSummary.forEach((d,m)=>{const A=this._styleSummary.get(m);(!A||d.time>A.time)&&this._updateStyle(m,d.value)})}buildKeyframes(){this.applyStylesToKeyframe();const p=new Set,d=new Set,m=1===this._keyframes.size&&0===this.duration;let A=[];this._keyframes.forEach((we,Xe)=>{const ct=Hn(we,new Map,this._backFill);ct.forEach((Ut,en)=>{Ut===ue.k1?p.add(en):Ut===ue.l3&&d.add(en)}),m||ct.set("offset",Xe/this.duration),A.push(ct)});const j=p.size?xn(p.values()):[],fe=d.size?xn(d.values()):[];if(m){const we=A[0],Xe=new Map(we);we.set("offset",0),Xe.set("offset",1),A=[we,Xe]}return ai(this.element,A,j,fe,this.duration,this.startTime,this.easing,!1)}}class io extends vo{constructor(p,d,m,A,j,fe,we=!1){super(p,d,fe.delay),this.keyframes=m,this.preStyleProps=A,this.postStyleProps=j,this._stretchStartingKeyframe=we,this.timings={duration:fe.duration,delay:fe.delay,easing:fe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let p=this.keyframes,{delay:d,duration:m,easing:A}=this.timings;if(this._stretchStartingKeyframe&&d){const j=[],fe=m+d,we=d/fe,Xe=Hn(p[0]);Xe.set("offset",0),j.push(Xe);const ct=Hn(p[0]);ct.set("offset",vi(we)),j.push(ct);const Ut=p.length-1;for(let en=1;en<=Ut;en++){let zn=Hn(p[en]);const Vn=zn.get("offset");zn.set("offset",vi((d+Vn*m)/fe)),j.push(zn)}m=fe,d=0,A="",p=j}return ai(this.element,p,this.preStyleProps,this.postStyleProps,m,d,A,!0)}}function vi(y,p=3){const d=Math.pow(10,p-1);return Math.round(y*d)/d}class Jr{}const Oo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ri extends Jr{normalizePropertyName(p,d){return Dr(p)}normalizeStyleValue(p,d,m,A){let j="";const fe=m.toString().trim();if(Oo.has(d)&&0!==m&&"0"!==m)if("number"==typeof m)j="px";else{const we=m.match(/^[+-]?[\d\.]+([a-z]*)$/);we&&0==we[1].length&&A.push(function ce(y,p){return new c.vHH(3005,!1)}())}return fe+j}}function us(y,p,d,m,A,j,fe,we,Xe,ct,Ut,en,zn){return{type:0,element:y,triggerName:p,isRemovalTransition:A,fromState:d,fromStyles:j,toState:m,toStyles:fe,timelines:we,queriedElements:Xe,preStyleProps:ct,postStyleProps:Ut,totalTime:en,errors:zn}}const js={};class Ra{constructor(p,d,m){this._triggerName=p,this.ast=d,this._stateStyles=m}match(p,d,m,A){return function Oa(y,p,d,m,A){return y.some(j=>j(p,d,m,A))}(this.ast.matchers,p,d,m,A)}buildStyles(p,d,m){let A=this._stateStyles.get("*");return void 0!==p&&(A=this._stateStyles.get(p?.toString())||A),A?A.buildStyles(d,m):new Map}build(p,d,m,A,j,fe,we,Xe,ct,Ut){const en=[],zn=this.ast.options&&this.ast.options.params||js,Mn=this.buildStyles(m,we&&we.params||js,en),$n=Xe&&Xe.params||js,or=this.buildStyles(A,$n,en),dr=new Set,Zr=new Map,$i=new Map,zi="void"===A,Is={params:Hs($n,zn),delay:this.ast.options?.delay},Sr=Ut?[]:Yi(p,d,this.ast.animation,j,fe,Mn,or,Is,ct,en);let Hr=0;if(Sr.forEach(Fs=>{Hr=Math.max(Fs.duration+Fs.delay,Hr)}),en.length)return us(d,this._triggerName,m,A,zi,Mn,or,[],[],Zr,$i,Hr,en);Sr.forEach(Fs=>{const ba=Fs.element,Nl=Oe(Zr,ba,new Set);Fs.preStyleProps.forEach(Ol=>Nl.add(Ol));const Rl=Oe($i,ba,new Set);Fs.postStyleProps.forEach(Ol=>Rl.add(Ol)),ba!==d&&dr.add(ba)});const qr=xn(dr.values());return us(d,this._triggerName,m,A,zi,Mn,or,Sr,qr,Zr,$i,Hr)}}function Hs(y,p){const d=Qt(p);for(const m in y)y.hasOwnProperty(m)&&null!=y[m]&&(d[m]=y[m]);return d}class Yo{constructor(p,d,m){this.styles=p,this.defaultParams=d,this.normalizer=m}buildStyles(p,d){const m=new Map,A=Qt(this.defaultParams);return Object.keys(p).forEach(j=>{const fe=p[j];null!==fe&&(A[j]=fe)}),this.styles.styles.forEach(j=>{"string"!=typeof j&&j.forEach((fe,we)=>{fe&&(fe=cn(fe,A,d));const Xe=this.normalizer.normalizePropertyName(we,d);fe=this.normalizer.normalizeStyleValue(we,Xe,fe,d),m.set(we,fe)})}),m}}class yo{constructor(p,d,m){this.name=p,this.ast=d,this._normalizer=m,this.transitionFactories=[],this.states=new Map,d.states.forEach(A=>{this.states.set(A.name,new Yo(A.style,A.options&&A.options.params||{},m))}),Po(this.states,"true","1"),Po(this.states,"false","0"),d.transitions.forEach(A=>{this.transitionFactories.push(new Ra(p,A,this.states))}),this.fallbackTransition=function Qo(y,p,d){return new Ra(y,{type:1,animation:{type:2,steps:[],options:null},matchers:[(fe,we)=>!0],options:null,queryCount:0,depCount:0},p)}(p,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(p,d,m,A){return this.transitionFactories.find(fe=>fe.match(p,d,m,A))||null}matchStyles(p,d,m){return this.fallbackTransition.buildStyles(p,d,m)}}function Po(y,p,d){y.has(p)?y.has(d)||y.set(d,y.get(p)):y.has(d)&&y.set(p,y.get(d))}const Ai=new mo;class Pa{constructor(p,d,m){this.bodyNode=p,this._driver=d,this._normalizer=m,this._animations=new Map,this._playersById=new Map,this.players=[]}register(p,d){const m=[],A=[],j=mr(this._driver,d,m,A);if(m.length)throw function pt(y){return new c.vHH(3503,!1)}();this._animations.set(p,j)}_buildPlayer(p,d,m){const A=p.element,j=Tn(0,this._normalizer,0,p.keyframes,d,m);return this._driver.animate(A,j,p.duration,p.delay,p.easing,[],!0)}create(p,d,m={}){const A=[],j=this._animations.get(p);let fe;const we=new Map;if(j?(fe=Yi(this._driver,d,j,lr,Yr,new Map,new Map,m,Ai,A),fe.forEach(Ut=>{const en=Oe(we,Ut.element,new Map);Ut.postStyleProps.forEach(zn=>en.set(zn,null))})):(A.push(function vn(){return new c.vHH(3300,!1)}()),fe=[]),A.length)throw function An(y){return new c.vHH(3504,!1)}();we.forEach((Ut,en)=>{Ut.forEach((zn,Vn)=>{Ut.set(Vn,this._driver.computeStyle(en,Vn,ue.l3))})});const ct=Wt(fe.map(Ut=>{const en=we.get(Ut.element);return this._buildPlayer(Ut,new Map,en)}));return this._playersById.set(p,ct),ct.onDestroy(()=>this.destroy(p)),this.players.push(ct),ct}destroy(p){const d=this._getPlayer(p);d.destroy(),this._playersById.delete(p);const m=this.players.indexOf(d);m>=0&&this.players.splice(m,1)}_getPlayer(p){const d=this._playersById.get(p);if(!d)throw function an(y){return new c.vHH(3301,!1)}();return d}listen(p,d,m,A){const j=lt(d,"","","");return gn(this._getPlayer(p),m,j,A),()=>{}}command(p,d,m,A){if("register"==m)return void this.register(p,A[0]);if("create"==m)return void this.create(p,d,A[0]||{});const j=this._getPlayer(p);switch(m){case"play":j.play();break;case"pause":j.pause();break;case"reset":j.reset();break;case"restart":j.restart();break;case"finish":j.finish();break;case"init":j.init();break;case"setPosition":j.setPosition(parseFloat(A[0]));break;case"destroy":this.destroy(p)}}}const vl="ng-animate-queued",au="ng-animate-disabled",uu=[],Jo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ka={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xr="__ng_removed";class so{get params(){return this.options.params}constructor(p,d=""){this.namespaceId=d;const m=p&&p.hasOwnProperty("value");if(this.value=function lu(y){return y??null}(m?p.value:p),m){const j=Qt(p);delete j.value,this.options=j}else this.options={};this.options.params||(this.options.params={})}absorbOptions(p){const d=p.params;if(d){const m=this.options.params;Object.keys(d).forEach(A=>{null==m[A]&&(m[A]=d[A])})}}}const Di="void",Vi=new so(Di);class La{constructor(p,d,m){this.id=p,this.hostElement=d,this._engine=m,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+p,Xn(d,this._hostClassName)}listen(p,d,m,A){if(!this._triggers.has(d))throw function Bt(y,p){return new c.vHH(3302,!1)}();if(null==m||0==m.length)throw function ye(y){return new c.vHH(3303,!1)}();if(!function cu(y){return"start"==y||"done"==y}(m))throw function _e(y,p){return new c.vHH(3400,!1)}();const j=Oe(this._elementListeners,p,[]),fe={name:d,phase:m,callback:A};j.push(fe);const we=Oe(this._engine.statesByElement,p,new Map);return we.has(d)||(Xn(p,Zn),Xn(p,Zn+"-"+d),we.set(d,Vi)),()=>{this._engine.afterFlush(()=>{const Xe=j.indexOf(fe);Xe>=0&&j.splice(Xe,1),this._triggers.has(d)||we.delete(d)})}}register(p,d){return!this._triggers.has(p)&&(this._triggers.set(p,d),!0)}_getTrigger(p){const d=this._triggers.get(p);if(!d)throw function De(y){return new c.vHH(3401,!1)}();return d}trigger(p,d,m,A=!0){const j=this._getTrigger(d),fe=new Fa(this.id,d,p);let we=this._engine.statesByElement.get(p);we||(Xn(p,Zn),Xn(p,Zn+"-"+d),this._engine.statesByElement.set(p,we=new Map));let Xe=we.get(d);const ct=new so(m,this.id);if(!(m&&m.hasOwnProperty("value"))&&Xe&&ct.absorbOptions(Xe.options),we.set(d,ct),Xe||(Xe=Vi),ct.value!==Di&&Xe.value===ct.value){if(!function ei(y,p){const d=Object.keys(y),m=Object.keys(p);if(d.length!=m.length)return!1;for(let A=0;A<d.length;A++){const j=d[A];if(!p.hasOwnProperty(j)||y[j]!==p[j])return!1}return!0}(Xe.params,ct.params)){const $n=[],or=j.matchStyles(Xe.value,Xe.params,$n),dr=j.matchStyles(ct.value,ct.params,$n);$n.length?this._engine.reportError($n):this._engine.afterFlush(()=>{ht(p,or),Gn(p,dr)})}return}const zn=Oe(this._engine.playersByElement,p,[]);zn.forEach($n=>{$n.namespaceId==this.id&&$n.triggerName==d&&$n.queued&&$n.destroy()});let Vn=j.matchTransition(Xe.value,ct.value,p,ct.params),Mn=!1;if(!Vn){if(!A)return;Vn=j.fallbackTransition,Mn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:d,transition:Vn,fromState:Xe,toState:ct,player:fe,isFallbackTransition:Mn}),Mn||(Xn(p,vl),fe.onStart(()=>{Mi(p,vl)})),fe.onDone(()=>{let $n=this.players.indexOf(fe);$n>=0&&this.players.splice($n,1);const or=this._engine.playersByElement.get(p);if(or){let dr=or.indexOf(fe);dr>=0&&or.splice(dr,1)}}),this.players.push(fe),zn.push(fe),fe}deregister(p){this._triggers.delete(p),this._engine.statesByElement.forEach(d=>d.delete(p)),this._elementListeners.forEach((d,m)=>{this._elementListeners.set(m,d.filter(A=>A.name!=p))})}clearElementCache(p){this._engine.statesByElement.delete(p),this._elementListeners.delete(p);const d=this._engine.playersByElement.get(p);d&&(d.forEach(m=>m.destroy()),this._engine.playersByElement.delete(p))}_signalRemovalForInnerTriggers(p,d){const m=this._engine.driver.query(p,Ci,!0);m.forEach(A=>{if(A[Xr])return;const j=this._engine.fetchNamespacesByElement(A);j.size?j.forEach(fe=>fe.triggerLeaveAnimation(A,d,!1,!0)):this.clearElementCache(A)}),this._engine.afterFlushAnimationsDone(()=>m.forEach(A=>this.clearElementCache(A)))}triggerLeaveAnimation(p,d,m,A){const j=this._engine.statesByElement.get(p),fe=new Map;if(j){const we=[];if(j.forEach((Xe,ct)=>{if(fe.set(ct,Xe.value),this._triggers.has(ct)){const Ut=this.trigger(p,ct,Di,A);Ut&&we.push(Ut)}}),we.length)return this._engine.markElementAsRemoved(this.id,p,!0,d,fe),m&&Wt(we).onDone(()=>this._engine.processLeaveNode(p)),!0}return!1}prepareLeaveAnimationListeners(p){const d=this._elementListeners.get(p),m=this._engine.statesByElement.get(p);if(d&&m){const A=new Set;d.forEach(j=>{const fe=j.name;if(A.has(fe))return;A.add(fe);const Xe=this._triggers.get(fe).fallbackTransition,ct=m.get(fe)||Vi,Ut=new so(Di),en=new Fa(this.id,fe,p);this._engine.totalQueuedPlayers++,this._queue.push({element:p,triggerName:fe,transition:Xe,fromState:ct,toState:Ut,player:en,isFallbackTransition:!0})})}}removeNode(p,d){const m=this._engine;if(p.childElementCount&&this._signalRemovalForInnerTriggers(p,d),this.triggerLeaveAnimation(p,d,!0))return;let A=!1;if(m.totalAnimations){const j=m.players.length?m.playersByQueriedElement.get(p):[];if(j&&j.length)A=!0;else{let fe=p;for(;fe=fe.parentNode;)if(m.statesByElement.get(fe)){A=!0;break}}}if(this.prepareLeaveAnimationListeners(p),A)m.markElementAsRemoved(this.id,p,!1,d);else{const j=p[Xr];(!j||j===Jo)&&(m.afterFlush(()=>this.clearElementCache(p)),m.destroyInnerAnimations(p),m._onRemovalComplete(p,d))}}insertNode(p,d){Xn(p,this._hostClassName)}drainQueuedTransitions(p){const d=[];return this._queue.forEach(m=>{const A=m.player;if(A.destroyed)return;const j=m.element,fe=this._elementListeners.get(j);fe&&fe.forEach(we=>{if(we.name==m.triggerName){const Xe=lt(j,m.triggerName,m.fromState.value,m.toState.value);Xe._data=p,gn(m.player,we.phase,Xe,we.callback)}}),A.markedForDestroy?this._engine.afterFlush(()=>{A.destroy()}):d.push(m)}),this._queue=[],d.sort((m,A)=>{const j=m.transition.ast.depCount,fe=A.transition.ast.depCount;return 0==j||0==fe?j-fe:this._engine.driver.containsElement(m.element,A.element)?1:-1})}destroy(p){this.players.forEach(d=>d.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,p)}elementContainsData(p){let d=!1;return this._elementListeners.has(p)&&(d=!0),d=!!this._queue.find(m=>m.element===p)||d,d}}class ku{_onRemovalComplete(p,d){this.onRemovalComplete(p,d)}constructor(p,d,m){this.bodyNode=p,this.driver=d,this._normalizer=m,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(A,j)=>{}}get queuedPlayers(){const p=[];return this._namespaceList.forEach(d=>{d.players.forEach(m=>{m.queued&&p.push(m)})}),p}createNamespace(p,d){const m=new La(p,d,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,d)?this._balanceNamespaceList(m,d):(this.newHostElements.set(d,m),this.collectEnterElement(d)),this._namespaceLookup[p]=m}_balanceNamespaceList(p,d){const m=this._namespaceList,A=this.namespacesByHostElement;if(m.length-1>=0){let fe=!1,we=this.driver.getParentElement(d);for(;we;){const Xe=A.get(we);if(Xe){const ct=m.indexOf(Xe);m.splice(ct+1,0,p),fe=!0;break}we=this.driver.getParentElement(we)}fe||m.unshift(p)}else m.push(p);return A.set(d,p),p}register(p,d){let m=this._namespaceLookup[p];return m||(m=this.createNamespace(p,d)),m}registerTrigger(p,d,m){let A=this._namespaceLookup[p];A&&A.register(d,m)&&this.totalAnimations++}destroy(p,d){if(!p)return;const m=this._fetchNamespace(p);this.afterFlush(()=>{this.namespacesByHostElement.delete(m.hostElement),delete this._namespaceLookup[p];const A=this._namespaceList.indexOf(m);A>=0&&this._namespaceList.splice(A,1)}),this.afterFlushAnimationsDone(()=>m.destroy(d))}_fetchNamespace(p){return this._namespaceLookup[p]}fetchNamespacesByElement(p){const d=new Set,m=this.statesByElement.get(p);if(m)for(let A of m.values())if(A.namespaceId){const j=this._fetchNamespace(A.namespaceId);j&&d.add(j)}return d}trigger(p,d,m,A){if(oo(d)){const j=this._fetchNamespace(p);if(j)return j.trigger(d,m,A),!0}return!1}insertNode(p,d,m,A){if(!oo(d))return;const j=d[Xr];if(j&&j.setForRemoval){j.setForRemoval=!1,j.setForMove=!0;const fe=this.collectedLeaveElements.indexOf(d);fe>=0&&this.collectedLeaveElements.splice(fe,1)}if(p){const fe=this._fetchNamespace(p);fe&&fe.insertNode(d,m)}A&&this.collectEnterElement(d)}collectEnterElement(p){this.collectedEnterElements.push(p)}markElementAsDisabled(p,d){d?this.disabledNodes.has(p)||(this.disabledNodes.add(p),Xn(p,au)):this.disabledNodes.has(p)&&(this.disabledNodes.delete(p),Mi(p,au))}removeNode(p,d,m,A){if(oo(d)){const j=p?this._fetchNamespace(p):null;if(j?j.removeNode(d,A):this.markElementAsRemoved(p,d,!1,A),m){const fe=this.namespacesByHostElement.get(d);fe&&fe.id!==p&&fe.removeNode(d,A)}}else this._onRemovalComplete(d,A)}markElementAsRemoved(p,d,m,A,j){this.collectedLeaveElements.push(d),d[Xr]={namespaceId:p,setForRemoval:A,hasAnimation:m,removedBeforeQueried:!1,previousTriggersValues:j}}listen(p,d,m,A,j){return oo(d)?this._fetchNamespace(p).listen(d,m,A,j):()=>{}}_buildInstruction(p,d,m,A,j){return p.transition.build(this.driver,p.element,p.fromState.value,p.toState.value,m,A,p.fromState.options,p.toState.options,d,j)}destroyInnerAnimations(p){let d=this.driver.query(p,Ci,!0);d.forEach(m=>this.destroyActiveAnimationsForElement(m)),0!=this.playersByQueriedElement.size&&(d=this.driver.query(p,ms,!0),d.forEach(m=>this.finishActiveQueriedAnimationOnElement(m)))}destroyActiveAnimationsForElement(p){const d=this.playersByElement.get(p);d&&d.forEach(m=>{m.queued?m.markedForDestroy=!0:m.destroy()})}finishActiveQueriedAnimationOnElement(p){const d=this.playersByQueriedElement.get(p);d&&d.forEach(m=>m.finish())}whenRenderingDone(){return new Promise(p=>{if(this.players.length)return Wt(this.players).onDone(()=>p());p()})}processLeaveNode(p){const d=p[Xr];if(d&&d.setForRemoval){if(p[Xr]=Jo,d.namespaceId){this.destroyInnerAnimations(p);const m=this._fetchNamespace(d.namespaceId);m&&m.clearElementCache(p)}this._onRemovalComplete(p,d.setForRemoval)}p.classList?.contains(au)&&this.markElementAsDisabled(p,!1),this.driver.query(p,".ng-animate-disabled",!0).forEach(m=>{this.markElementAsDisabled(m,!1)})}flush(p=-1){let d=[];if(this.newHostElements.size&&(this.newHostElements.forEach((m,A)=>this._balanceNamespaceList(m,A)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let m=0;m<this.collectedEnterElements.length;m++)Xn(this.collectedEnterElements[m],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const m=[];try{d=this._flushAnimations(m,p)}finally{for(let A=0;A<m.length;A++)m[A]()}}else for(let m=0;m<this.collectedLeaveElements.length;m++)this.processLeaveNode(this.collectedLeaveElements[m]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(m=>m()),this._flushFns=[],this._whenQuietFns.length){const m=this._whenQuietFns;this._whenQuietFns=[],d.length?Wt(d).onDone(()=>{m.forEach(A=>A())}):m.forEach(A=>A())}}reportError(p){throw function Te(y){return new c.vHH(3402,!1)}()}_flushAnimations(p,d){const m=new mo,A=[],j=new Map,fe=[],we=new Map,Xe=new Map,ct=new Map,Ut=new Set;this.disabledNodes.forEach(Ln=>{Ut.add(Ln);const Kn=this.driver.query(Ln,".ng-animate-queued",!0);for(let er=0;er<Kn.length;er++)Ut.add(Kn[er])});const en=this.bodyNode,zn=Array.from(this.statesByElement.keys()),Vn=_o(zn,this.collectedEnterElements),Mn=new Map;let $n=0;Vn.forEach((Ln,Kn)=>{const er=lr+$n++;Mn.set(Kn,er),Ln.forEach(Or=>Xn(Or,er))});const or=[],dr=new Set,Zr=new Set;for(let Ln=0;Ln<this.collectedLeaveElements.length;Ln++){const Kn=this.collectedLeaveElements[Ln],er=Kn[Xr];er&&er.setForRemoval&&(or.push(Kn),dr.add(Kn),er.hasAnimation?this.driver.query(Kn,".ng-star-inserted",!0).forEach(Or=>dr.add(Or)):Zr.add(Kn))}const $i=new Map,zi=_o(zn,Array.from(dr));zi.forEach((Ln,Kn)=>{const er=Yr+$n++;$i.set(Kn,er),Ln.forEach(Or=>Xn(Or,er))}),p.push(()=>{Vn.forEach((Ln,Kn)=>{const er=Mn.get(Kn);Ln.forEach(Or=>Mi(Or,er))}),zi.forEach((Ln,Kn)=>{const er=$i.get(Kn);Ln.forEach(Or=>Mi(Or,er))}),or.forEach(Ln=>{this.processLeaveNode(Ln)})});const Is=[],Sr=[];for(let Ln=this._namespaceList.length-1;Ln>=0;Ln--)this._namespaceList[Ln].drainQueuedTransitions(d).forEach(er=>{const Or=er.player,ns=er.element;if(Is.push(Or),this.collectedEnterElements.length){const rs=ns[Xr];if(rs&&rs.setForMove){if(rs.previousTriggersValues&&rs.previousTriggersValues.has(er.triggerName)){const qa=rs.previousTriggersValues.get(er.triggerName),ho=this.statesByElement.get(er.element);if(ho&&ho.has(er.triggerName)){const di=ho.get(er.triggerName);di.value=qa,ho.set(er.triggerName,di)}}return void Or.destroy()}}const oa=!en||!this.driver.containsElement(en,ns),So=$i.get(ns),bu=Mn.get(ns),_i=this._buildInstruction(er,m,bu,So,oa);if(_i.errors&&_i.errors.length)return void Sr.push(_i);if(oa)return Or.onStart(()=>ht(ns,_i.fromStyles)),Or.onDestroy(()=>Gn(ns,_i.toStyles)),void A.push(Or);if(er.isFallbackTransition)return Or.onStart(()=>ht(ns,_i.fromStyles)),Or.onDestroy(()=>Gn(ns,_i.toStyles)),void A.push(Or);const Oc=[];_i.timelines.forEach(rs=>{rs.stretchStartingKeyframe=!0,this.disabledNodes.has(rs.element)||Oc.push(rs)}),_i.timelines=Oc,m.append(ns,_i.timelines),fe.push({instruction:_i,player:Or,element:ns}),_i.queriedElements.forEach(rs=>Oe(we,rs,[]).push(Or)),_i.preStyleProps.forEach((rs,qa)=>{if(rs.size){let ho=Xe.get(qa);ho||Xe.set(qa,ho=new Set),rs.forEach((di,Pl)=>ho.add(Pl))}}),_i.postStyleProps.forEach((rs,qa)=>{let ho=ct.get(qa);ho||ct.set(qa,ho=new Set),rs.forEach((di,Pl)=>ho.add(Pl))})});if(Sr.length){const Ln=[];Sr.forEach(Kn=>{Ln.push(function pe(y,p){return new c.vHH(3505,!1)}())}),Is.forEach(Kn=>Kn.destroy()),this.reportError(Ln)}const Hr=new Map,qr=new Map;fe.forEach(Ln=>{const Kn=Ln.element;m.has(Kn)&&(qr.set(Kn,Kn),this._beforeAnimationBuild(Ln.player.namespaceId,Ln.instruction,Hr))}),A.forEach(Ln=>{const Kn=Ln.element;this._getPreviousPlayers(Kn,!1,Ln.namespaceId,Ln.triggerName,null).forEach(Or=>{Oe(Hr,Kn,[]).push(Or),Or.destroy()})});const Fs=or.filter(Ln=>$s(Ln,Xe,ct)),ba=new Map;ya(ba,this.driver,Zr,ct,ue.l3).forEach(Ln=>{$s(Ln,Xe,ct)&&Fs.push(Ln)});const Rl=new Map;Vn.forEach((Ln,Kn)=>{ya(Rl,this.driver,new Set(Ln),Xe,ue.k1)}),Fs.forEach(Ln=>{const Kn=ba.get(Ln),er=Rl.get(Ln);ba.set(Ln,new Map([...Array.from(Kn?.entries()??[]),...Array.from(er?.entries()??[])]))});const Ol=[],Bv=[],Af={};fe.forEach(Ln=>{const{element:Kn,player:er,instruction:Or}=Ln;if(m.has(Kn)){if(Ut.has(Kn))return er.onDestroy(()=>Gn(Kn,Or.toStyles)),er.disabled=!0,er.overrideTotalTime(Or.totalTime),void A.push(er);let ns=Af;if(qr.size>1){let So=Kn;const bu=[];for(;So=So.parentNode;){const _i=qr.get(So);if(_i){ns=_i;break}bu.push(So)}bu.forEach(_i=>qr.set(_i,ns))}const oa=this._buildAnimation(er.namespaceId,Or,Hr,j,Rl,ba);if(er.setRealPlayer(oa),ns===Af)Ol.push(er);else{const So=this.playersByElement.get(ns);So&&So.length&&(er.parentPlayer=Wt(So)),A.push(er)}}else ht(Kn,Or.fromStyles),er.onDestroy(()=>Gn(Kn,Or.toStyles)),Bv.push(er),Ut.has(Kn)&&A.push(er)}),Bv.forEach(Ln=>{const Kn=j.get(Ln.element);if(Kn&&Kn.length){const er=Wt(Kn);Ln.setRealPlayer(er)}}),A.forEach(Ln=>{Ln.parentPlayer?Ln.syncPlayerEvents(Ln.parentPlayer):Ln.destroy()});for(let Ln=0;Ln<or.length;Ln++){const Kn=or[Ln],er=Kn[Xr];if(Mi(Kn,Yr),er&&er.hasAnimation)continue;let Or=[];if(we.size){let oa=we.get(Kn);oa&&oa.length&&Or.push(...oa);let So=this.driver.query(Kn,ms,!0);for(let bu=0;bu<So.length;bu++){let _i=we.get(So[bu]);_i&&_i.length&&Or.push(..._i)}}const ns=Or.filter(oa=>!oa.destroyed);ns.length?ao(this,Kn,ns):this.processLeaveNode(Kn)}return or.length=0,Ol.forEach(Ln=>{this.players.push(Ln),Ln.onDone(()=>{Ln.destroy();const Kn=this.players.indexOf(Ln);this.players.splice(Kn,1)}),Ln.play()}),Ol}elementContainsData(p,d){let m=!1;const A=d[Xr];return A&&A.setForRemoval&&(m=!0),this.playersByElement.has(d)&&(m=!0),this.playersByQueriedElement.has(d)&&(m=!0),this.statesByElement.has(d)&&(m=!0),this._fetchNamespace(p).elementContainsData(d)||m}afterFlush(p){this._flushFns.push(p)}afterFlushAnimationsDone(p){this._whenQuietFns.push(p)}_getPreviousPlayers(p,d,m,A,j){let fe=[];if(d){const we=this.playersByQueriedElement.get(p);we&&(fe=we)}else{const we=this.playersByElement.get(p);if(we){const Xe=!j||j==Di;we.forEach(ct=>{ct.queued||!Xe&&ct.triggerName!=A||fe.push(ct)})}}return(m||A)&&(fe=fe.filter(we=>!(m&&m!=we.namespaceId||A&&A!=we.triggerName))),fe}_beforeAnimationBuild(p,d,m){const j=d.element,fe=d.isRemovalTransition?void 0:p,we=d.isRemovalTransition?void 0:d.triggerName;for(const Xe of d.timelines){const ct=Xe.element,Ut=ct!==j,en=Oe(m,ct,[]);this._getPreviousPlayers(ct,Ut,fe,we,d.toState).forEach(Vn=>{const Mn=Vn.getRealPlayer();Mn.beforeDestroy&&Mn.beforeDestroy(),Vn.destroy(),en.push(Vn)})}ht(j,d.fromStyles)}_buildAnimation(p,d,m,A,j,fe){const we=d.triggerName,Xe=d.element,ct=[],Ut=new Set,en=new Set,zn=d.timelines.map(Mn=>{const $n=Mn.element;Ut.add($n);const or=$n[Xr];if(or&&or.removedBeforeQueried)return new ue.ZN(Mn.duration,Mn.delay);const dr=$n!==Xe,Zr=function Ti(y){const p=[];return Ua(y,p),p}((m.get($n)||uu).map(Hr=>Hr.getRealPlayer())).filter(Hr=>!!Hr.element&&Hr.element===$n),$i=j.get($n),zi=fe.get($n),Is=Tn(0,this._normalizer,0,Mn.keyframes,$i,zi),Sr=this._buildPlayer(Mn,Is,Zr);if(Mn.subTimeline&&A&&en.add($n),dr){const Hr=new Fa(p,we,$n);Hr.setRealPlayer(Sr),ct.push(Hr)}return Sr});ct.forEach(Mn=>{Oe(this.playersByQueriedElement,Mn.element,[]).push(Mn),Mn.onDone(()=>function va(y,p,d){let m=y.get(p);if(m){if(m.length){const A=m.indexOf(d);m.splice(A,1)}0==m.length&&y.delete(p)}return m}(this.playersByQueriedElement,Mn.element,Mn))}),Ut.forEach(Mn=>Xn(Mn,_r));const Vn=Wt(zn);return Vn.onDestroy(()=>{Ut.forEach(Mn=>Mi(Mn,_r)),Gn(Xe,d.toStyles)}),en.forEach(Mn=>{Oe(A,Mn,[]).push(Vn)}),Vn}_buildPlayer(p,d,m){return d.length>0?this.driver.animate(p.element,d,p.duration,p.delay,p.easing,m):new ue.ZN(p.duration,p.delay)}}class Fa{constructor(p,d,m){this.namespaceId=p,this.triggerName=d,this.element=m,this._player=new ue.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(p){this._containsRealPlayer||(this._player=p,this._queuedCallbacks.forEach((d,m)=>{d.forEach(A=>gn(p,m,void 0,A))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(p.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(p){this.totalTime=p}syncPlayerEvents(p){const d=this._player;d.triggerCallback&&p.onStart(()=>d.triggerCallback("start")),p.onDone(()=>this.finish()),p.onDestroy(()=>this.destroy())}_queueEvent(p,d){Oe(this._queuedCallbacks,p,[]).push(d)}onDone(p){this.queued&&this._queueEvent("done",p),this._player.onDone(p)}onStart(p){this.queued&&this._queueEvent("start",p),this._player.onStart(p)}onDestroy(p){this.queued&&this._queueEvent("destroy",p),this._player.onDestroy(p)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(p){this.queued||this._player.setPosition(p)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(p){const d=this._player;d.triggerCallback&&d.triggerCallback(p)}}function oo(y){return y&&1===y.nodeType}function xi(y,p){const d=y.style.display;return y.style.display=p??"none",d}function ya(y,p,d,m,A){const j=[];d.forEach(Xe=>j.push(xi(Xe)));const fe=[];m.forEach((Xe,ct)=>{const Ut=new Map;Xe.forEach(en=>{const zn=p.computeStyle(ct,en,A);Ut.set(en,zn),(!zn||0==zn.length)&&(ct[Xr]=ka,fe.push(ct))}),y.set(ct,Ut)});let we=0;return d.forEach(Xe=>xi(Xe,j[we++])),fe}function _o(y,p){const d=new Map;if(y.forEach(we=>d.set(we,[])),0==p.length)return d;const m=1,A=new Set(p),j=new Map;function fe(we){if(!we)return m;let Xe=j.get(we);if(Xe)return Xe;const ct=we.parentNode;return Xe=d.has(ct)?ct:A.has(ct)?m:fe(ct),j.set(we,Xe),Xe}return p.forEach(we=>{const Xe=fe(we);Xe!==m&&d.get(Xe).push(we)}),d}function Xn(y,p){y.classList?.add(p)}function Mi(y,p){y.classList?.remove(p)}function ao(y,p,d){Wt(d).onDone(()=>y.processLeaveNode(p))}function Ua(y,p){for(let d=0;d<y.length;d++){const m=y[d];m instanceof ue.ZE?Ua(m.players,p):p.push(m)}}function $s(y,p,d){const m=d.get(y);if(!m)return!1;let A=p.get(y);return A?m.forEach(j=>A.add(j)):p.set(y,m),d.delete(y),!0}class Fr{constructor(p,d,m){this.bodyNode=p,this._driver=d,this._normalizer=m,this._triggerCache={},this.onRemovalComplete=(A,j)=>{},this._transitionEngine=new ku(p,d,m),this._timelineEngine=new Pa(p,d,m),this._transitionEngine.onRemovalComplete=(A,j)=>this.onRemovalComplete(A,j)}registerTrigger(p,d,m,A,j){const fe=p+"-"+A;let we=this._triggerCache[fe];if(!we){const Xe=[],ct=[],Ut=mr(this._driver,j,Xe,ct);if(Xe.length)throw function Et(y,p){return new c.vHH(3404,!1)}();we=function ls(y,p,d){return new yo(y,p,d)}(A,Ut,this._normalizer),this._triggerCache[fe]=we}this._transitionEngine.registerTrigger(d,A,we)}register(p,d){this._transitionEngine.register(p,d)}destroy(p,d){this._transitionEngine.destroy(p,d)}onInsert(p,d,m,A){this._transitionEngine.insertNode(p,d,m,A)}onRemove(p,d,m,A){this._transitionEngine.removeNode(p,d,A||!1,m)}disableAnimations(p,d){this._transitionEngine.markElementAsDisabled(p,d)}process(p,d,m,A){if("@"==m.charAt(0)){const[j,fe]=At(m);this._timelineEngine.command(j,d,fe,A)}else this._transitionEngine.trigger(p,d,m,A)}listen(p,d,m,A,j){if("@"==m.charAt(0)){const[fe,we]=At(m);return this._timelineEngine.listen(fe,d,we,j)}return this._transitionEngine.listen(p,d,m,A,j)}flush(p=-1){this._transitionEngine.flush(p)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let zs=(()=>{class y{constructor(d,m,A){this._element=d,this._startStyles=m,this._endStyles=A,this._state=0;let j=y.initialStylesByElement.get(d);j||y.initialStylesByElement.set(d,j=new Map),this._initialStyles=j}start(){this._state<1&&(this._startStyles&&Gn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gn(this._element,this._initialStyles),this._endStyles&&(Gn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(y.initialStylesByElement.delete(this._element),this._startStyles&&(ht(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ht(this._element,this._endStyles),this._endStyles=null),Gn(this._element,this._initialStyles),this._state=3)}}return y.initialStylesByElement=new WeakMap,y})();function zt(y){let p=null;return y.forEach((d,m)=>{(function Ws(y){return"display"===y||"position"===y})(m)&&(p=p||new Map,p.set(m,d))}),p}class Ba{constructor(p,d,m,A){this.element=p,this.keyframes=d,this.options=m,this._specialStyles=A,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=m.duration,this._delay=m.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(p=>p()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const p=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,p,this.options),this._finalKeyframe=p.length?p[p.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(p){const d=[];return p.forEach(m=>{d.push(Object.fromEntries(m))}),d}_triggerWebAnimation(p,d,m){return p.animate(this._convertKeyframesToObject(d),m)}onStart(p){this._originalOnStartFns.push(p),this._onStartFns.push(p)}onDone(p){this._originalOnDoneFns.push(p),this._onDoneFns.push(p)}onDestroy(p){this._onDestroyFns.push(p)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(p=>p()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(p=>p()),this._onDestroyFns=[])}setPosition(p){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=p*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const p=new Map;this.hasStarted()&&this._finalKeyframe.forEach((m,A)=>{"offset"!==A&&p.set(A,this._finished?m:qe(this.element,A))}),this.currentSnapshot=p}triggerCallback(p){const d="start"===p?this._onStartFns:this._onDoneFns;d.forEach(m=>m()),d.length=0}}class uo{validateStyleProperty(p){return!0}validateAnimatableStyleProperty(p){return!0}matchesElement(p,d){return!1}containsElement(p,d){return Tt(p,d)}getParentElement(p){return ve(p)}query(p,d,m){return yt(p,d,m)}computeStyle(p,d,m){return window.getComputedStyle(p)[d]}animate(p,d,m,A,j,fe=[]){const Xe={duration:m,delay:A,fill:0==A?"both":"forwards"};j&&(Xe.easing=j);const ct=new Map,Ut=fe.filter(Vn=>Vn instanceof Ba);(function Je(y,p){return 0===y||0===p})(m,A)&&Ut.forEach(Vn=>{Vn.currentSnapshot.forEach((Mn,$n)=>ct.set($n,Mn))});let en=function Zt(y){return y.length?y[0]instanceof Map?y:y.map(p=>$t(p)):[]}(d).map(Vn=>Hn(Vn));en=function $e(y,p,d){if(d.size&&p.length){let m=p[0],A=[];if(d.forEach((j,fe)=>{m.has(fe)||A.push(fe),m.set(fe,j)}),A.length)for(let j=1;j<p.length;j++){let fe=p[j];A.forEach(we=>fe.set(we,qe(y,we)))}}return p}(p,en,ct);const zn=function Lu(y,p){let d=null,m=null;return Array.isArray(p)&&p.length?(d=zt(p[0]),p.length>1&&(m=zt(p[p.length-1]))):p instanceof Map&&(d=zt(p)),d||m?new zs(y,d,m):null}(p,en);return new Ba(p,en,Xe,zn)}}var Xt=P(6895);let Va=(()=>{class y extends ue._j{constructor(d,m){super(),this._nextAnimationId=0,this._renderer=d.createRenderer(m.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(d){const m=this._nextAnimationId.toString();this._nextAnimationId++;const A=Array.isArray(d)?(0,ue.vP)(d):d;return ja(this._renderer,null,m,"register",[A]),new lc(m,this._renderer)}}return y.\u0275fac=function(d){return new(d||y)(c.LFG(c.FYo),c.LFG(Xt.K0))},y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac}),y})();class lc extends ue.LC{constructor(p,d){super(),this._id=p,this._renderer=d}create(p,d){return new Fu(this._id,p,d||{},this._renderer)}}class Fu{constructor(p,d,m,A){this.id=p,this.element=d,this._renderer=A,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",m)}_listen(p,d){return this._renderer.listen(this.element,`@@${this.id}:${p}`,d)}_command(p,...d){return ja(this._renderer,this.element,this.id,p,d)}onDone(p){this._listen("done",p)}onStart(p){this._listen("start",p)}onDestroy(p){this._listen("destroy",p)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(p){this._command("setPosition",p)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ja(y,p,d,m,A){return y.setProperty(p,`@@${d}:${m}`,A)}const U="@",b="@.disabled";let M=(()=>{class y{constructor(d,m,A){this.delegate=d,this.engine=m,this._zone=A,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),m.onRemovalComplete=(j,fe)=>{const we=fe?.parentNode(j);we&&fe.removeChild(we,j)}}createRenderer(d,m){const j=this.delegate.createRenderer(d,m);if(!(d&&m&&m.data&&m.data.animation)){let Ut=this._rendererCache.get(j);return Ut||(Ut=new C("",j,this.engine,()=>this._rendererCache.delete(j)),this._rendererCache.set(j,Ut)),Ut}const fe=m.id,we=m.id+"-"+this._currentId;this._currentId++,this.engine.register(we,d);const Xe=Ut=>{Array.isArray(Ut)?Ut.forEach(Xe):this.engine.registerTrigger(fe,we,d,Ut.name,Ut)};return m.data.animation.forEach(Xe),new D(this,we,j,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(d,m,A){d>=0&&d<this._microtaskId?this._zone.run(()=>m(A)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(j=>{const[fe,we]=j;fe(we)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([m,A]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return y.\u0275fac=function(d){return new(d||y)(c.LFG(c.FYo),c.LFG(Fr),c.LFG(c.R0b))},y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac}),y})();class C{constructor(p,d,m,A){this.namespaceId=p,this.delegate=d,this.engine=m,this._onDestroy=A,this.destroyNode=this.delegate.destroyNode?j=>d.destroyNode(j):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(p,d){return this.delegate.createElement(p,d)}createComment(p){return this.delegate.createComment(p)}createText(p){return this.delegate.createText(p)}appendChild(p,d){this.delegate.appendChild(p,d),this.engine.onInsert(this.namespaceId,d,p,!1)}insertBefore(p,d,m,A=!0){this.delegate.insertBefore(p,d,m),this.engine.onInsert(this.namespaceId,d,p,A)}removeChild(p,d,m){this.engine.onRemove(this.namespaceId,d,this.delegate,m)}selectRootElement(p,d){return this.delegate.selectRootElement(p,d)}parentNode(p){return this.delegate.parentNode(p)}nextSibling(p){return this.delegate.nextSibling(p)}setAttribute(p,d,m,A){this.delegate.setAttribute(p,d,m,A)}removeAttribute(p,d,m){this.delegate.removeAttribute(p,d,m)}addClass(p,d){this.delegate.addClass(p,d)}removeClass(p,d){this.delegate.removeClass(p,d)}setStyle(p,d,m,A){this.delegate.setStyle(p,d,m,A)}removeStyle(p,d,m){this.delegate.removeStyle(p,d,m)}setProperty(p,d,m){d.charAt(0)==U&&d==b?this.disableAnimations(p,!!m):this.delegate.setProperty(p,d,m)}setValue(p,d){this.delegate.setValue(p,d)}listen(p,d,m){return this.delegate.listen(p,d,m)}disableAnimations(p,d){this.engine.disableAnimations(p,d)}}class D extends C{constructor(p,d,m,A,j){super(d,m,A,j),this.factory=p,this.namespaceId=d}setProperty(p,d,m){d.charAt(0)==U?"."==d.charAt(1)&&d==b?this.disableAnimations(p,m=void 0===m||!!m):this.engine.process(this.namespaceId,p,d.slice(1),m):this.delegate.setProperty(p,d,m)}listen(p,d,m){if(d.charAt(0)==U){const A=function k(y){switch(y){case"body":return document.body;case"document":return document;case"window":return window;default:return y}}(p);let j=d.slice(1),fe="";return j.charAt(0)!=U&&([j,fe]=function q(y){const p=y.indexOf(".");return[y.substring(0,p),y.slice(p+1)]}(j)),this.engine.listen(this.namespaceId,A,j,fe,we=>{this.factory.scheduleListenerCallback(we._data||-1,m,we)})}return this.delegate.listen(p,d,m)}}const at=[{provide:ue._j,useClass:Va},{provide:Jr,useFactory:function Pe(){return new ri}},{provide:Fr,useClass:(()=>{class y extends Fr{constructor(d,m,A,j){super(d.body,m,A)}ngOnDestroy(){this.flush()}}return y.\u0275fac=function(d){return new(d||y)(c.LFG(Xt.K0),c.LFG(Dn),c.LFG(Jr),c.LFG(c.z2F))},y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac}),y})()},{provide:c.FYo,useFactory:function Ge(y,p,d){return new M(y,p,d)},deps:[H.se,Fr,c.R0b]}],xt=[{provide:Dn,useFactory:()=>new uo},{provide:c.QbO,useValue:"BrowserAnimations"},...at],Ct=[{provide:Dn,useClass:kt},{provide:c.QbO,useValue:"NoopAnimations"},...at];let Kt=(()=>{class y{static withConfig(d){return{ngModule:y,providers:d.disableAnimations?Ct:xt}}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275mod=c.oAB({type:y}),y.\u0275inj=c.cJS({providers:xt,imports:[H.b2]}),y})();var hn=P(529),dn=P(5892);const Rn="vertical";var Ks=P(7579),lo=P(9300),$a=P(4004);let cc=(()=>{class y{constructor(){this.handler=new Ks.x}broadcast(d,m={}){this.handler.next({type:d,payload:m})}subscribe(d,m){return this.handler.pipe((0,lo.h)(A=>A.type===d)).pipe((0,$a.U)(A=>A.payload)).subscribe(m)}static#e=this.\u0275fac=function(m){return new(m||y)};static#t=this.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var Uu=P(1391),Br=P(9245),Gr=P(388);const za=function Bu(y){var p=typeof y;return null!=y&&("object"==p||"function"==p)};var Ni="object"==typeof global&&global&&global.Object===Object&&global,Kr="object"==typeof self&&self&&self.Object===Object&&self;const hc=Ni||Kr||Function("return this")(),yl=function(){return hc.Date.now()};var Vu=/\s/;var hu=/^\s+/;const R=function fu(y){return y&&y.slice(0,function Sd(y){for(var p=y.length;p--&&Vu.test(y.charAt(p)););return p}(y)+1).replace(hu,"")};var Z=hc.Symbol,le=Object.prototype,je=le.hasOwnProperty,It=le.toString,Ft=Z?Z.toStringTag:void 0;var Tr=Object.prototype.toString;var Xi=Z?Z.toStringTag:void 0;const Lo=function ji(y){return null==y?void 0===y?"[object Undefined]":"[object Null]":Xi&&Xi in Object(y)?function _n(y){var p=je.call(y,Ft),d=y[Ft];try{y[Ft]=void 0;var m=!0}catch{}var A=It.call(y);return m&&(p?y[Ft]=d:delete y[Ft]),A}(y):function nr(y){return Tr.call(y)}(y)};var _s=/^[-+]0x[0-9a-f]+$/i,Kh=/^0b[01]+$/i,Wa=/^0o[0-7]+$/i,ea=parseInt;const fc=function ws(y){if("number"==typeof y)return y;if(function Hi(y){return"symbol"==typeof y||function ys(y){return null!=y&&"object"==typeof y}(y)&&"[object Symbol]"==Lo(y)}(y))return NaN;if(za(y)){var p="function"==typeof y.valueOf?y.valueOf():y;y=za(p)?p+"":p}if("string"!=typeof y)return 0===y?y:+y;y=R(y);var d=Kh.test(y);return d||Wa.test(y)?ea(y.slice(2),d?2:8):_s.test(y)?NaN:+y};var Hu=Math.max,cs=Math.min;const qs=function _l(y,p,d){var m,A,j,fe,we,Xe,ct=0,Ut=!1,en=!1,zn=!0;if("function"!=typeof y)throw new TypeError("Expected a function");function Vn(Sr){var Hr=m,qr=A;return m=A=void 0,ct=Sr,fe=y.apply(qr,Hr)}function or(Sr){var Hr=Sr-Xe;return void 0===Xe||Hr>=p||Hr<0||en&&Sr-ct>=j}function dr(){var Sr=yl();if(or(Sr))return Zr(Sr);we=setTimeout(dr,function $n(Sr){var Fs=p-(Sr-Xe);return en?cs(Fs,j-(Sr-ct)):Fs}(Sr))}function Zr(Sr){return we=void 0,zn&&m?Vn(Sr):(m=A=void 0,fe)}function Is(){var Sr=yl(),Hr=or(Sr);if(m=arguments,A=this,Xe=Sr,Hr){if(void 0===we)return function Mn(Sr){return ct=Sr,we=setTimeout(dr,p),Ut?Vn(Sr):fe}(Xe);if(en)return clearTimeout(we),we=setTimeout(dr,p),Vn(Xe)}return void 0===we&&(we=setTimeout(dr,p)),fe}return p=fc(p)||0,za(d)&&(Ut=!!d.leading,j=(en="maxWait"in d)?Hu(fc(d.maxWait)||0,p):j,zn="trailing"in d?!!d.trailing:zn),Is.cancel=function $i(){void 0!==we&&clearTimeout(we),ct=0,m=Xe=A=we=void 0},Is.flush=function zi(){return void 0===we?fe:Zr(yl())},Is};const wa=function pc(y,p,d){var m=!0,A=!0;if("function"!=typeof y)throw new TypeError("Expected a function");return za(d)&&(m="leading"in d?!!d.leading:m,A="trailing"in d?!!d.trailing:A),qs(y,p,{leading:m,maxWait:p,trailing:A})};var gu=function(){return gu=Object.assign||function(p){for(var d,m=1,A=arguments.length;m<A;m++)for(var j in d=arguments[m])Object.prototype.hasOwnProperty.call(d,j)&&(p[j]=d[j]);return p},gu.apply(this,arguments)};function Ad(y){return y&&y.ownerDocument&&y.ownerDocument.defaultView?y.ownerDocument.defaultView:window}function Dd(y){return y&&y.ownerDocument?y.ownerDocument:document}var Ea=function(y){return Array.prototype.reduce.call(y,function(m,A){var j=A.name.match(/data-simplebar-(.+)/);if(j){var fe=j[1].replace(/\W+(.)/g,function(we,Xe){return Xe.toUpperCase()});switch(A.value){case"true":m[fe]=!0;break;case"false":m[fe]=!1;break;case void 0:m[fe]=!0;break;default:m[fe]=A.value}}return m},{})};function ta(y,p){var d;y&&(d=y.classList).add.apply(d,p.split(" "))}function Es(y,p){y&&p.split(" ").forEach(function(d){y.classList.remove(d)})}function gc(y){return".".concat(y.split(" ").join("."))}var Eo=!!(typeof window<"u"&&window.document&&window.document.createElement),mu=Object.freeze({__proto__:null,addClasses:ta,canUseDOM:Eo,classNamesToQuery:gc,getElementDocument:Dd,getElementWindow:Ad,getOptions:Ea,removeClasses:Es}),na=null,bo=null;function Ga(){if(null===na){if(typeof document>"u")return na=0;var y=document.body,p=document.createElement("div");p.classList.add("simplebar-hide-scrollbar"),y.appendChild(p);var d=p.getBoundingClientRect().right;y.removeChild(p),na=d}return na}Eo&&window.addEventListener("resize",function(){bo!==window.devicePixelRatio&&(bo=window.devicePixelRatio,na=null)});var ra=Ad,mc=Dd,wl=Ea,bs=ta,Ps=Es,yi=gc,$u=function(){function y(p,d){void 0===d&&(d={});var m=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.isDragging=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var A=ra(m.el);m.scrollXTicking||(A.requestAnimationFrame(m.scrollX),m.scrollXTicking=!0),m.scrollYTicking||(A.requestAnimationFrame(m.scrollY),m.scrollYTicking=!0),m.isScrolling||(m.isScrolling=!0,bs(m.el,m.classNames.scrolling)),m.showScrollbar("x"),m.showScrollbar("y"),m.onStopScrolling()},this.scrollX=function(){m.axis.x.isOverflowing&&m.positionScrollbar("x"),m.scrollXTicking=!1},this.scrollY=function(){m.axis.y.isOverflowing&&m.positionScrollbar("y"),m.scrollYTicking=!1},this._onStopScrolling=function(){Ps(m.el,m.classNames.scrolling),m.options.autoHide&&(m.hideScrollbar("x"),m.hideScrollbar("y")),m.isScrolling=!1},this.onMouseEnter=function(){m.isMouseEntering||(bs(m.el,m.classNames.mouseEntered),m.showScrollbar("x"),m.showScrollbar("y"),m.isMouseEntering=!0),m.onMouseEntered()},this._onMouseEntered=function(){Ps(m.el,m.classNames.mouseEntered),m.options.autoHide&&(m.hideScrollbar("x"),m.hideScrollbar("y")),m.isMouseEntering=!1},this._onMouseMove=function(A){m.mouseX=A.clientX,m.mouseY=A.clientY,(m.axis.x.isOverflowing||m.axis.x.forceVisible)&&m.onMouseMoveForAxis("x"),(m.axis.y.isOverflowing||m.axis.y.forceVisible)&&m.onMouseMoveForAxis("y")},this.onMouseLeave=function(){m.onMouseMove.cancel(),(m.axis.x.isOverflowing||m.axis.x.forceVisible)&&m.onMouseLeaveForAxis("x"),(m.axis.y.isOverflowing||m.axis.y.forceVisible)&&m.onMouseLeaveForAxis("y"),m.mouseX=-1,m.mouseY=-1},this._onWindowResize=function(){m.scrollbarWidth=m.getScrollbarWidth(),m.hideNativeScrollbar()},this.onPointerEvent=function(A){var j,fe;m.axis.x.track.el&&m.axis.y.track.el&&m.axis.x.scrollbar.el&&m.axis.y.scrollbar.el&&(m.axis.x.track.rect=m.axis.x.track.el.getBoundingClientRect(),m.axis.y.track.rect=m.axis.y.track.el.getBoundingClientRect(),(m.axis.x.isOverflowing||m.axis.x.forceVisible)&&(j=m.isWithinBounds(m.axis.x.track.rect)),(m.axis.y.isOverflowing||m.axis.y.forceVisible)&&(fe=m.isWithinBounds(m.axis.y.track.rect)),(j||fe)&&(A.stopPropagation(),"pointerdown"===A.type&&"touch"!==A.pointerType&&(j&&(m.axis.x.scrollbar.rect=m.axis.x.scrollbar.el.getBoundingClientRect(),m.isWithinBounds(m.axis.x.scrollbar.rect)?m.onDragStart(A,"x"):m.onTrackClick(A,"x")),fe&&(m.axis.y.scrollbar.rect=m.axis.y.scrollbar.el.getBoundingClientRect(),m.isWithinBounds(m.axis.y.scrollbar.rect)?m.onDragStart(A,"y"):m.onTrackClick(A,"y")))))},this.drag=function(A){var j,fe,we,Xe,ct,Ut,en,zn,Vn,Mn,$n;if(m.draggedAxis&&m.contentWrapperEl){var dr=m.axis[m.draggedAxis].track,Zr=null!==(fe=null===(j=dr.rect)||void 0===j?void 0:j[m.axis[m.draggedAxis].sizeAttr])&&void 0!==fe?fe:0,$i=m.axis[m.draggedAxis].scrollbar,zi=null!==(Xe=null===(we=m.contentWrapperEl)||void 0===we?void 0:we[m.axis[m.draggedAxis].scrollSizeAttr])&&void 0!==Xe?Xe:0,Is=parseInt(null!==(Ut=null===(ct=m.elStyles)||void 0===ct?void 0:ct[m.axis[m.draggedAxis].sizeAttr])&&void 0!==Ut?Ut:"0px",10);A.preventDefault(),A.stopPropagation();var Sr=("y"===m.draggedAxis?A.pageY:A.pageX)-(null!==(zn=null===(en=dr.rect)||void 0===en?void 0:en[m.axis[m.draggedAxis].offsetAttr])&&void 0!==zn?zn:0)-m.axis[m.draggedAxis].dragOffset,qr=(Sr="x"===m.draggedAxis&&m.isRtl?(null!==(Mn=null===(Vn=dr.rect)||void 0===Vn?void 0:Vn[m.axis[m.draggedAxis].sizeAttr])&&void 0!==Mn?Mn:0)-$i.size-Sr:Sr)/(Zr-$i.size)*(zi-Is);"x"===m.draggedAxis&&m.isRtl&&(qr=null!==($n=y.getRtlHelpers())&&void 0!==$n&&$n.isScrollingToNegative?-qr:qr),m.contentWrapperEl[m.axis[m.draggedAxis].scrollOffsetAttr]=qr}},this.onEndDrag=function(A){m.isDragging=!1;var j=mc(m.el),fe=ra(m.el);A.preventDefault(),A.stopPropagation(),Ps(m.el,m.classNames.dragging),m.onStopScrolling(),j.removeEventListener("mousemove",m.drag,!0),j.removeEventListener("mouseup",m.onEndDrag,!0),m.removePreventClickId=fe.setTimeout(function(){j.removeEventListener("click",m.preventClick,!0),j.removeEventListener("dblclick",m.preventClick,!0),m.removePreventClickId=null})},this.preventClick=function(A){A.preventDefault(),A.stopPropagation()},this.el=p,this.options=gu(gu({},y.defaultOptions),d),this.classNames=gu(gu({},y.defaultOptions.classNames),d.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},"object"!=typeof this.el||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=wa(this._onMouseMove,64),this.onWindowResize=qs(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=qs(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=qs(this._onMouseEntered,this.stopScrollDelay),this.init()}return y.getRtlHelpers=function(){if(y.rtlHelpers)return y.rtlHelpers;var p=document.createElement("div");p.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var d=p.firstElementChild,m=d?.firstElementChild;if(!m)return null;document.body.appendChild(d),d.scrollLeft=0;var A=y.getOffset(d),j=y.getOffset(m);d.scrollLeft=-999;var fe=y.getOffset(m);return document.body.removeChild(d),y.rtlHelpers={isScrollOriginAtZero:A.left!==j.left,isScrollingToNegative:j.left!==fe.left}},y.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:Ga()}catch{return Ga()}},y.getOffset=function(p){var d=p.getBoundingClientRect(),m=mc(p),A=ra(p);return{top:d.top+(A.pageYOffset||m.documentElement.scrollTop),left:d.left+(A.pageXOffset||m.documentElement.scrollLeft)}},y.prototype.init=function(){Eo&&(this.initDOM(),this.rtlHelpers=y.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},y.prototype.initDOM=function(){var p,d;this.wrapperEl=this.el.querySelector(yi(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(yi(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(yi(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(yi(this.classNames.offset)),this.maskEl=this.el.querySelector(yi(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,yi(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(yi(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(yi(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(yi(this.classNames.track)).concat(yi(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(yi(this.classNames.track)).concat(yi(this.classNames.vertical))),this.axis.x.scrollbar.el=(null===(p=this.axis.x.track.el)||void 0===p?void 0:p.querySelector(yi(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=(null===(d=this.axis.y.track.el)||void 0===d?void 0:d.querySelector(yi(this.classNames.scrollbar)))||null,this.options.autoHide||(bs(this.axis.x.scrollbar.el,this.classNames.visible),bs(this.axis.y.scrollbar.el,this.classNames.visible))},y.prototype.initListeners=function(){var d,p=this,m=ra(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),null===(d=this.contentWrapperEl)||void 0===d||d.addEventListener("scroll",this.onScroll),m.addEventListener("resize",this.onWindowResize),this.contentEl){if(window.ResizeObserver){var A=!1,j=m.ResizeObserver||ResizeObserver;this.resizeObserver=new j(function(){A&&m.requestAnimationFrame(function(){p.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),m.requestAnimationFrame(function(){A=!0})}this.mutationObserver=new m.MutationObserver(function(){m.requestAnimationFrame(function(){p.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},y.prototype.recalculate=function(){if(this.heightAutoObserverEl&&this.contentEl&&this.contentWrapperEl&&this.wrapperEl&&this.placeholderEl){var p=ra(this.el);this.elStyles=p.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var d=this.contentEl.offsetWidth,m=this.heightAutoObserverEl.offsetHeight<=1,A=this.heightAutoObserverEl.offsetWidth<=1||d>0,j=this.contentWrapperEl.offsetWidth,fe=this.elStyles.overflowX,we=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var Xe=this.contentEl.scrollHeight,ct=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=m?"auto":"100%",this.placeholderEl.style.width=A?"".concat(d||ct,"px"):"auto",this.placeholderEl.style.height="".concat(Xe,"px");var Ut=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=0!==d&&ct>d,this.axis.y.isOverflowing=Xe>Ut,this.axis.x.isOverflowing="hidden"!==fe&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==we&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var en=this.axis.x.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&ct>j-(this.axis.y.isOverflowing?this.scrollbarWidth:0),this.axis.y.isOverflowing=this.axis.y.isOverflowing&&Xe>Ut-en,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},y.prototype.getScrollbarSize=function(p){var d,m;if(void 0===p&&(p="y"),!this.axis[p].isOverflowing||!this.contentEl)return 0;var we,j=null!==(m=null===(d=this.axis[p].track.el)||void 0===d?void 0:d[this.axis[p].offsetSizeAttr])&&void 0!==m?m:0;return we=Math.max(~~(j/this.contentEl[this.axis[p].scrollSizeAttr]*j),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(we=Math.min(we,this.options.scrollbarMaxSize)),we},y.prototype.positionScrollbar=function(p){var d,m,A;void 0===p&&(p="y");var j=this.axis[p].scrollbar;if(this.axis[p].isOverflowing&&this.contentWrapperEl&&j.el&&this.elStyles){var fe=this.contentWrapperEl[this.axis[p].scrollSizeAttr],we=(null===(d=this.axis[p].track.el)||void 0===d?void 0:d[this.axis[p].offsetSizeAttr])||0,Xe=parseInt(this.elStyles[this.axis[p].sizeAttr],10),ct=this.contentWrapperEl[this.axis[p].scrollOffsetAttr];ct="x"===p&&this.isRtl&&null!==(m=y.getRtlHelpers())&&void 0!==m&&m.isScrollOriginAtZero?-ct:ct,"x"===p&&this.isRtl&&(ct=null!==(A=y.getRtlHelpers())&&void 0!==A&&A.isScrollingToNegative?ct:-ct);var en=~~(ct/(fe-Xe)*(we-j.size));en="x"===p&&this.isRtl?we-j.size-en:en,j.el.style.transform="x"===p?"translate3d(".concat(en,"px, 0, 0)"):"translate3d(0, ".concat(en,"px, 0)")}},y.prototype.toggleTrackVisibility=function(p){void 0===p&&(p="y");var d=this.axis[p].track.el,m=this.axis[p].scrollbar.el;!d||!m||!this.contentWrapperEl||(this.axis[p].isOverflowing||this.axis[p].forceVisible?(d.style.visibility="visible",this.contentWrapperEl.style[this.axis[p].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(p))):(d.style.visibility="hidden",this.contentWrapperEl.style[this.axis[p].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(p))),m.style.display=this.axis[p].isOverflowing?"block":"none")},y.prototype.showScrollbar=function(p){void 0===p&&(p="y"),this.axis[p].isOverflowing&&!this.axis[p].scrollbar.isVisible&&(bs(this.axis[p].scrollbar.el,this.classNames.visible),this.axis[p].scrollbar.isVisible=!0)},y.prototype.hideScrollbar=function(p){void 0===p&&(p="y"),!this.isDragging&&this.axis[p].isOverflowing&&this.axis[p].scrollbar.isVisible&&(Ps(this.axis[p].scrollbar.el,this.classNames.visible),this.axis[p].scrollbar.isVisible=!1)},y.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},y.prototype.onMouseMoveForAxis=function(p){void 0===p&&(p="y");var d=this.axis[p];!d.track.el||!d.scrollbar.el||(d.track.rect=d.track.el.getBoundingClientRect(),d.scrollbar.rect=d.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(d.track.rect)?(this.showScrollbar(p),bs(d.track.el,this.classNames.hover),this.isWithinBounds(d.scrollbar.rect)?bs(d.scrollbar.el,this.classNames.hover):Ps(d.scrollbar.el,this.classNames.hover)):(Ps(d.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(p)))},y.prototype.onMouseLeaveForAxis=function(p){void 0===p&&(p="y"),Ps(this.axis[p].track.el,this.classNames.hover),Ps(this.axis[p].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(p)},y.prototype.onDragStart=function(p,d){var m;void 0===d&&(d="y"),this.isDragging=!0;var A=mc(this.el),j=ra(this.el);this.axis[d].dragOffset=("y"===d?p.pageY:p.pageX)-((null===(m=this.axis[d].scrollbar.rect)||void 0===m?void 0:m[this.axis[d].offsetAttr])||0),this.draggedAxis=d,bs(this.el,this.classNames.dragging),A.addEventListener("mousemove",this.drag,!0),A.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(A.addEventListener("click",this.preventClick,!0),A.addEventListener("dblclick",this.preventClick,!0)):(j.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},y.prototype.onTrackClick=function(p,d){var A,j,fe,we,m=this;void 0===d&&(d="y");var Xe=this.axis[d];if(this.options.clickOnTrack&&Xe.scrollbar.el&&this.contentWrapperEl){p.preventDefault();var ct=ra(this.el);this.axis[d].scrollbar.rect=Xe.scrollbar.el.getBoundingClientRect();var en=null!==(j=null===(A=this.axis[d].scrollbar.rect)||void 0===A?void 0:A[this.axis[d].offsetAttr])&&void 0!==j?j:0,zn=parseInt(null!==(we=null===(fe=this.elStyles)||void 0===fe?void 0:fe[this.axis[d].sizeAttr])&&void 0!==we?we:"0px",10),Vn=this.contentWrapperEl[this.axis[d].scrollOffsetAttr],$n=("y"===d?this.mouseY-en:this.mouseX-en)<0?-1:1,or=-1===$n?Vn-zn:Vn+zn,Zr=function(){m.contentWrapperEl&&(-1===$n?Vn>or&&(m.contentWrapperEl[m.axis[d].scrollOffsetAttr]=Vn-=40,ct.requestAnimationFrame(Zr)):Vn<or&&(m.contentWrapperEl[m.axis[d].scrollOffsetAttr]=Vn+=40,ct.requestAnimationFrame(Zr)))};Zr()}},y.prototype.getContentElement=function(){return this.contentEl},y.prototype.getScrollElement=function(){return this.contentWrapperEl},y.prototype.removeListeners=function(){var p=ra(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),p.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},y.prototype.unMount=function(){this.removeListeners()},y.prototype.isWithinBounds=function(p){return this.mouseX>=p.left&&this.mouseX<=p.left+p.width&&this.mouseY>=p.top&&this.mouseY<=p.top+p.height},y.prototype.findChild=function(p,d){var m=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.msMatchesSelector;return Array.prototype.filter.call(p.children,function(A){return m.call(A,d)})[0]},y.rtlHelpers=null,y.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",tabIndex:0,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},y.getOptions=wl,y.helpers=mu,y}(),vu=function(y,p){return(vu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var A in m)Object.prototype.hasOwnProperty.call(m,A)&&(d[A]=m[A])})(y,p)},zu=$u.helpers,vc=zu.getOptions,br=zu.addClasses,Si=zu.canUseDOM,Zh=function(y){function p(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];var A=y.apply(this,d)||this;return p.instances.set(d[0],A),A}return function Ys(y,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function d(){this.constructor=y}vu(y,p),y.prototype=null===p?Object.create(p):(d.prototype=p.prototype,new d)}(p,y),p.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),function(d){"init"!==d.getAttribute("data-simplebar")&&!p.instances.has(d)&&new p(d,vc(d.attributes))})},p.removeObserver=function(){var d;null===(d=p.globalObserver)||void 0===d||d.disconnect()},p.prototype.initDOM=function(){var m,A,j,d=this;if(!Array.prototype.filter.call(this.el.children,function(Xe){return Xe.classList.contains(d.classNames.wrapper)}).length){for(this.wrapperEl=document.createElement("div"),this.contentWrapperEl=document.createElement("div"),this.offsetEl=document.createElement("div"),this.maskEl=document.createElement("div"),this.contentEl=document.createElement("div"),this.placeholderEl=document.createElement("div"),this.heightAutoObserverWrapperEl=document.createElement("div"),this.heightAutoObserverEl=document.createElement("div"),br(this.wrapperEl,this.classNames.wrapper),br(this.contentWrapperEl,this.classNames.contentWrapper),br(this.offsetEl,this.classNames.offset),br(this.maskEl,this.classNames.mask),br(this.contentEl,this.classNames.contentEl),br(this.placeholderEl,this.classNames.placeholder),br(this.heightAutoObserverWrapperEl,this.classNames.heightAutoObserverWrapperEl),br(this.heightAutoObserverEl,this.classNames.heightAutoObserverEl);this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild);this.contentWrapperEl.appendChild(this.contentEl),this.offsetEl.appendChild(this.contentWrapperEl),this.maskEl.appendChild(this.offsetEl),this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl),this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl),this.wrapperEl.appendChild(this.maskEl),this.wrapperEl.appendChild(this.placeholderEl),this.el.appendChild(this.wrapperEl),null===(m=this.contentWrapperEl)||void 0===m||m.setAttribute("tabindex",this.options.tabIndex.toString()),null===(A=this.contentWrapperEl)||void 0===A||A.setAttribute("role","region"),null===(j=this.contentWrapperEl)||void 0===j||j.setAttribute("aria-label",this.options.ariaLabel)}if(!this.axis.x.track.el||!this.axis.y.track.el){var fe=document.createElement("div"),we=document.createElement("div");br(fe,this.classNames.track),br(we,this.classNames.scrollbar),fe.appendChild(we),this.axis.x.track.el=fe.cloneNode(!0),br(this.axis.x.track.el,this.classNames.horizontal),this.axis.y.track.el=fe.cloneNode(!0),br(this.axis.y.track.el,this.classNames.vertical),this.el.appendChild(this.axis.x.track.el),this.el.appendChild(this.axis.y.track.el)}$u.prototype.initDOM.call(this),this.el.setAttribute("data-simplebar","init")},p.prototype.unMount=function(){$u.prototype.unMount.call(this),p.instances.delete(this.el)},p.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),typeof MutationObserver<"u"&&(this.globalObserver=new MutationObserver(p.handleMutations),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},p.handleMutations=function(d){d.forEach(function(m){m.addedNodes.forEach(function(A){1===A.nodeType&&(A.hasAttribute("data-simplebar")?!p.instances.has(A)&&document.documentElement.contains(A)&&new p(A,vc(A.attributes)):A.querySelectorAll("[data-simplebar]").forEach(function(j){"init"!==j.getAttribute("data-simplebar")&&!p.instances.has(j)&&document.documentElement.contains(j)&&new p(j,vc(j.attributes))}))}),m.removedNodes.forEach(function(A){var j;1===A.nodeType&&("init"===A.getAttribute("data-simplebar")?!document.documentElement.contains(A)&&(null===(j=p.instances.get(A))||void 0===j||j.unMount()):Array.prototype.forEach.call(A.querySelectorAll('[data-simplebar="init"]'),function(fe){var we;!document.documentElement.contains(fe)&&(null===(we=p.instances.get(fe))||void 0===we||we.unMount())}))})})},p.instances=new WeakMap,p}($u);Si&&Zh.initHtmlApi();const El=["*"];let Kp=(()=>{class y{constructor(d){this.elRef=d}ngOnInit(){}ngAfterViewInit(){this.SimpleBar=new v(this.elRef.nativeElement,this.options||{})}ngOnDestroy(){this.SimpleBar.unMount(),this.SimpleBar=null}}return y.\u0275fac=function(d){return new(d||y)(c.Y36(c.SBq))},y.\u0275cmp=c.Xpm({type:y,selectors:[["ngx-simplebar"]],hostAttrs:["data-simplebar","init"],inputs:{options:"options"},ngContentSelectors:El,decls:13,vars:0,consts:[[1,"simplebar-wrapper"],[1,"simplebar-height-auto-observer-wrapper"],[1,"simplebar-height-auto-observer"],[1,"simplebar-mask"],[1,"simplebar-offset"],[1,"simplebar-content-wrapper"],[1,"simplebar-content"],[1,"simplebar-placeholder"],[1,"simplebar-track","simplebar-horizontal"],[1,"simplebar-scrollbar"],[1,"simplebar-track","simplebar-vertical"]],template:function(d,m){1&d&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"div",2),c.qZA(),c.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),c.Hsn(7),c.qZA()()()(),c._UZ(8,"div",7),c.qZA(),c.TgZ(9,"div",8),c._UZ(10,"div",9),c.qZA(),c.TgZ(11,"div",10),c._UZ(12,"div",9),c.qZA())},styles:["ngx-simplebar{display:block}\n"],encapsulation:2}),y})(),xd=(()=>{class y{}return y.\u0275fac=function(d){return new(d||y)},y.\u0275mod=c.oAB({type:y}),y.\u0275inj=c.cJS({imports:[[]]}),y})();function qh(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"div",68)(1,"a",69),c.NdJ("click",function(){c.CHM(d);const A=c.oxw();return c.KtG(A.logout())}),c._UZ(2,"i",70),c.TgZ(3,"span",71),c._uU(4,"Logout"),c.qZA()()()}}let Md=(()=>{class y{constructor(d,m,A){this.document=d,this.authService=m,this.router=A,this.searchmodal=!1,this.recentmodal=!1,this.mobileMenuButtonClicked=new c.vpe}ngOnInit(){this.profileName=localStorage.getItem("userName"),this.element=document.documentElement}windowScroll(){document.body.scrollTop>100||document.documentElement.scrollTop>100?(document.getElementById("back-to-top").style.display="block",document.getElementById("page-topbar")?.classList.add("topbar-shadow")):(document.getElementById("back-to-top").style.display="none",document.getElementById("page-topbar")?.classList.remove("topbar-shadow"))}toggleMobileMenu(d){document.querySelector(".hamburger-icon")?.classList.toggle("open"),d.preventDefault(),this.mobileMenuButtonClicked.emit()}changeMode(d){this.mode=d,document.documentElement.setAttribute("data-bs-theme",d),document.documentElement.setAttribute("data-sidebar",d),document.documentElement.setAttribute("data-topbar",d)}fullscreen(){document.body.classList.toggle("fullscreen-enable"),document.fullscreenElement||this.element.mozFullScreenElement||this.element.webkitFullscreenElement?this.document.exitFullscreen?this.document.exitFullscreen():this.document.mozCancelFullScreen?this.document.mozCancelFullScreen():this.document.webkitExitFullscreen?this.document.webkitExitFullscreen():this.document.msExitFullscreen&&this.document.msExitFullscreen():this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen()}Search(){this.recentmodal=!0;var A,d=document.getElementById("search-close-options"),m=document.getElementById("search-dropdown");if((A=document.getElementById("search-options")).value.toUpperCase().length>0){m.classList.add("show"),d.classList.remove("d-none");var zn=A.value.toUpperCase(),Vn=document.getElementsByClassName("notify-item");Vn=document.getElementsByClassName("notify-item"),Array.from(Vn).forEach(function(Mn){var $n="";if(Mn.querySelector("h6")){var or=Mn.getElementsByTagName("span")[0].innerText.toLowerCase(),dr=Mn.querySelector("h6").innerText.toLowerCase();$n=dr.includes(zn)?dr:or}else Mn.getElementsByTagName("span")&&($n=Mn.getElementsByTagName("span")[0].innerText.toLowerCase());$n&&(Mn.style.display=$n.includes(zn)?"block":"none")})}else m.classList.remove("show"),d.classList.add("d-none")}closeBtn(){var d=document.getElementById("search-close-options"),m=document.getElementById("search-dropdown"),A=document.getElementById("search-options");m.classList.remove("show"),d.classList.add("d-none"),A.value=""}logout(){this.authService.logout(),localStorage.clear(),this.router.navigate(["/auth/logout/basic"])}static#e=this.\u0275fac=function(m){return new(m||y)(c.Y36(Xt.K0),c.Y36(Uu.$),c.Y36(dn.F0))};static#t=this.\u0275cmp=c.Xpm({type:y,selectors:[["app-topbar"]],outputs:{mobileMenuButtonClicked:"mobileMenuButtonClicked"},decls:123,vars:1,consts:[["id","page-topbar",3,"scroll"],[1,"layout-width"],[1,"navbar-header"],[1,"d-flex"],[1,"navbar-brand-box","horizontal-logo"],["href","index.html",1,"logo","logo-dark"],[1,"logo-sm"],["src","assets/images/logo-sm.png","alt","","height","22"],[1,"logo-lg"],["src","assets/images/logo-dark.png","alt","","height","25"],["href","index.html",1,"logo","logo-light"],["src","assets/images/logo-light.png","alt","","height","25"],[1,"d-flex","align-items-center"],["dropdown","",1,"dropdown","ms-sm-3","header-item","topbar-user"],["dropdownToggle","","type","button","id","page-header-user-dropdown","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn"],["src","assets/images/users/defalt-user.png","alt","Header Avatar",1,"rounded-circle","header-profile-user",2,"width","auto"],[1,"text-start","ms-xl-2"],[1,"d-none","d-xl-inline-block","ms-1","fw-medium","user-name-text"],["class","dropdown-menu dropdown-menu-end",4,"dropdownMenu"],["bsModal","","id","searchModal","tabindex","-1","aria-labelledby","searchModalLabel","aria-hidden","true",1,"modal","fade"],["searchModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content","rounded"],[1,"modal-header","p-3"],[1,"position-relative","w-100"],["type","text","placeholder","Search for hybrix...","autocomplete","off","id","search-options","value","",1,"form-control","form-control-lg","border-2",3,"keyup"],[1,"bi","bi-search","search-widget-icon","fs-17"],["href","javascript:void(0);","id","search-close-options",1,"search-widget-icon","fs-14","link-secondary","text-decoration-underline","search-widget-icon-close","d-none",3,"click"],["id","search-dropdown",1,"dropdown-menu","dropdown-menu-lg","dropdown-menu-end","p-0","overflow-hidden"],[1,"dropdown-head","rounded-top"],[1,"p-3"],[1,"row","align-items-center"],[1,"col"],[1,"m-0","fs-14","text-muted","fw-semibold"],[1,"dropdown-item","bg-transparent","text-wrap"],["href","index.html",1,"btn","btn-soft-secondary","btn-sm","btn-rounded"],[1,"mdi","mdi-magnify","ms-1","align-middle"],[1,"pe-2","ps-3","my-3",2,"max-height","300px"],[1,"list-group","list-group-flush"],[1,"notification-group-list"],[1,"text-overflow","text-muted","fs-13","mb-2","mt-3","text-uppercase","notification-title"],["href","javascript:void(0);",1,"list-group-item","dropdown-item","notify-item"],[1,"bi","bi-speedometer2","me-2"],[1,"bi","bi-filetype-psd","me-2"],[1,"bi","bi-ticket-detailed","me-2"],[1,"bi","bi-file-earmark-zip","me-2"],[1,"bi","bi-link-45deg","me-2","align-middle"],["src","assets/images/users/avatar-1.jpg","alt","",1,"avatar-xs","rounded-circle","flex-shrink-0","me-2"],[1,"mb-0"],[1,"fs-13","text-muted"],["src","assets/images/users/avatar-7.jpg","alt","",1,"avatar-xs","rounded-circle","flex-shrink-0","me-2"],["src","assets/images/users/avatar-5.jpg","alt","",1,"avatar-xs","rounded-circle","flex-shrink-0","me-2"],["bsModal","","id","removeNotificationModal","tabindex","-1","aria-hidden","true",1,"modal","fade","zoomIn"],["removeNotificationModal","bs-modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","NotificationModalbtn-close",1,"btn-close"],[1,"modal-body","p-md-5"],[1,"text-center"],[1,"text-danger"],[1,"bi","bi-trash","display-4"],[1,"mt-4","fs-15"],[1,"mb-1"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["type","button","data-bs-dismiss","modal",1,"btn","w-sm","btn-light"],["type","button","id","delete-notification",1,"btn","w-sm","btn-danger"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"mdi","mdi-logout","text-muted","fs-16","align-middle","me-1"],["data-key","t-logout",1,"align-middle"]],template:function(m,A){1&m&&(c.TgZ(0,"header",0),c.NdJ("scroll",function(){return A.windowScroll()},!1,c.Jf7),c.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5)(6,"span",6),c._UZ(7,"img",7),c.qZA(),c.TgZ(8,"span",8),c._UZ(9,"img",9),c.qZA()(),c.TgZ(10,"a",10)(11,"span",6),c._UZ(12,"img",7),c.qZA(),c.TgZ(13,"span",8),c._UZ(14,"img",11),c.qZA()()()(),c.TgZ(15,"div",12)(16,"div",13)(17,"button",14)(18,"span",12),c._UZ(19,"img",15),c.TgZ(20,"span",16)(21,"span",17),c._uU(22),c.qZA()()()(),c.YNc(23,qh,5,0,"div",18),c.qZA()()()()(),c.TgZ(24,"div",19,20)(26,"div",21)(27,"div",22)(28,"div",23)(29,"div",24)(30,"input",25),c.NdJ("keyup",function(){return A.Search()}),c.qZA(),c._UZ(31,"span",26),c.TgZ(32,"a",27),c.NdJ("click",function(){return A.closeBtn()}),c._uU(33,"Clear"),c.qZA()()(),c.TgZ(34,"div",28)(35,"div",29)(36,"div",30)(37,"div",31)(38,"div",32)(39,"h6",33),c._uU(40,"RECENT SEARCHES"),c.qZA()()()(),c.TgZ(41,"div",34)(42,"a",35),c._uU(43,"how to setup "),c._UZ(44,"i",36),c.qZA(),c.TgZ(45,"a",35),c._uU(46,"buttons "),c._UZ(47,"i",36),c.qZA()()(),c.TgZ(48,"ngx-simplebar",37)(49,"div",38)(50,"div",39)(51,"h5",40),c._uU(52,"Apps Pages"),c.qZA(),c.TgZ(53,"a",41),c._UZ(54,"i",42),c.TgZ(55,"span"),c._uU(56,"Analytics Dashboard"),c.qZA()(),c.TgZ(57,"a",41),c._UZ(58,"i",43),c.TgZ(59,"span"),c._uU(60,"hybrix.psd"),c.qZA()(),c.TgZ(61,"a",41),c._UZ(62,"i",44),c.TgZ(63,"span"),c._uU(64,"Support Tickets"),c.qZA()(),c.TgZ(65,"a",41),c._UZ(66,"i",45),c.TgZ(67,"span"),c._uU(68,"hybrix.zip"),c.qZA()()(),c.TgZ(69,"div",39)(70,"h5",40),c._uU(71,"Links"),c.qZA(),c.TgZ(72,"a",41),c._UZ(73,"i",46),c.TgZ(74,"span"),c._uU(75,"www.themesbrand.com"),c.qZA()()(),c.TgZ(76,"div",39)(77,"h5",40),c._uU(78,"People"),c.qZA(),c.TgZ(79,"a",41)(80,"div",12),c._UZ(81,"img",47),c.TgZ(82,"div")(83,"h6",48),c._uU(84,"Ayaan Bowen"),c.qZA(),c.TgZ(85,"span",49),c._uU(86,"React Developer"),c.qZA()()()(),c.TgZ(87,"a",41)(88,"div",12),c._UZ(89,"img",50),c.TgZ(90,"div")(91,"h6",48),c._uU(92,"Alexander Kristi"),c.qZA(),c.TgZ(93,"span",49),c._uU(94,"React Developer"),c.qZA()()()(),c.TgZ(95,"a",41)(96,"div",12),c._UZ(97,"img",51),c.TgZ(98,"div")(99,"h6",48),c._uU(100,"Alan Carla"),c.qZA(),c.TgZ(101,"span",49),c._uU(102,"React Developer"),c.qZA()()()()()()()()()()(),c.TgZ(103,"div",52,53)(105,"div",54)(106,"div",55)(107,"div",56),c._UZ(108,"button",57),c.qZA(),c.TgZ(109,"div",58)(110,"div",59)(111,"div",60),c._UZ(112,"i",61),c.qZA(),c.TgZ(113,"div",62)(114,"h4",63),c._uU(115,"Are you sure ?"),c.qZA(),c.TgZ(116,"p",64),c._uU(117,"Are you sure you want to remove this Notification ?"),c.qZA()()(),c.TgZ(118,"div",65)(119,"button",66),c._uU(120,"Close"),c.qZA(),c.TgZ(121,"button",67),c._uU(122,"Yes, Delete It!"),c.qZA()()()()()()),2&m&&(c.xp6(22),c.Oqu(A.profileName))},dependencies:[Br.Hz,Br.Mq,Br.TO,Gr.oB,Kp]})}return y})();const yu=[{id:1,label:"MENUITEMS.MENU.TEXT",isTitle:!0},{id:2,label:"Devices",link:"/dashboard"},{id:3,label:"Time Managment",link:"/timeManagment"}];var ks=P(9646),Wu=P(9751),ci=P(576);function Io(y){return!!y&&(y instanceof Wu.y||(0,ci.m)(y.lift)&&(0,ci.m)(y.subscribe))}var _u=P(4128),Gu=P(7272),Qs=P(9770),To=P(5698),I=P(4782),S=P(4351),_=P(3900);class O{}let $=(()=>{class y extends O{getTranslation(d){return(0,ks.of)({})}}return y.\u0275fac=function(){let p;return function(m){return(p||(p=c.n5z(y)))(m||y)}}(),y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac}),y})();class ie{}let Ee=(()=>{class y{handle(d){return d.key}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac}),y})();function it(y,p){if(y===p)return!0;if(null===y||null===p)return!1;if(y!=y&&p!=p)return!0;let A,j,fe,d=typeof y;if(d==typeof p&&"object"==d){if(!Array.isArray(y)){if(Array.isArray(p))return!1;for(j in fe=Object.create(null),y){if(!it(y[j],p[j]))return!1;fe[j]=!0}for(j in p)if(!(j in fe)&&typeof p[j]<"u")return!1;return!0}if(!Array.isArray(p))return!1;if((A=y.length)==p.length){for(j=0;j<A;j++)if(!it(y[j],p[j]))return!1;return!0}}return!1}function Lt(y){return typeof y<"u"&&null!==y}function pn(y){return y&&"object"==typeof y&&!Array.isArray(y)}function Cn(y,p){let d=Object.assign({},y);return pn(y)&&pn(p)&&Object.keys(p).forEach(m=>{pn(p[m])?m in y?d[m]=Cn(y[m],p[m]):Object.assign(d,{[m]:p[m]}):Object.assign(d,{[m]:p[m]})}),d}class gr{}let Ri=(()=>{class y extends gr{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(d,m){let A;return A="string"==typeof d?this.interpolateString(d,m):"function"==typeof d?this.interpolateFunction(d,m):d,A}getValue(d,m){let A="string"==typeof m?m.split("."):[m];m="";do{m+=A.shift(),!Lt(d)||!Lt(d[m])||"object"!=typeof d[m]&&A.length?A.length?m+=".":d=void 0:(d=d[m],m="")}while(A.length);return d}interpolateFunction(d,m){return d(m)}interpolateString(d,m){return m?d.replace(this.templateMatcher,(A,j)=>{let fe=this.getValue(m,j);return Lt(fe)?fe:A}):d}}return y.\u0275fac=function(){let p;return function(m){return(p||(p=c.n5z(y)))(m||y)}}(),y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac}),y})();class Js{}let Fo=(()=>{class y extends Js{compile(d,m){return d}compileTranslations(d,m){return d}}return y.\u0275fac=function(){let p;return function(m){return(p||(p=c.n5z(y)))(m||y)}}(),y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac}),y})();class Uo{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new c.vpe,this.onLangChange=new c.vpe,this.onDefaultLangChange=new c.vpe}}const es=new c.OlP("USE_STORE"),Bo=new c.OlP("USE_DEFAULT_LANG"),ia=new c.OlP("DEFAULT_LANGUAGE"),wu=new c.OlP("USE_EXTEND");let ts=(()=>{class y{constructor(d,m,A,j,fe,we=!0,Xe=!1,ct=!1,Ut){this.store=d,this.currentLoader=m,this.compiler=A,this.parser=j,this.missingTranslationHandler=fe,this.useDefaultLang=we,this.isolate=Xe,this.extend=ct,this.pending=!1,this._onTranslationChange=new c.vpe,this._onLangChange=new c.vpe,this._onDefaultLangChange=new c.vpe,this._langs=[],this._translations={},this._translationRequests={},Ut&&this.setDefaultLang(Ut)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(d){this.isolate?this._defaultLang=d:this.store.defaultLang=d}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(d){this.isolate?this._currentLang=d:this.store.currentLang=d}get langs(){return this.isolate?this._langs:this.store.langs}set langs(d){this.isolate?this._langs=d:this.store.langs=d}get translations(){return this.isolate?this._translations:this.store.translations}set translations(d){this.isolate?this._translations=d:this.store.translations=d}setDefaultLang(d){if(d===this.defaultLang)return;let m=this.retrieveTranslations(d);typeof m<"u"?(null==this.defaultLang&&(this.defaultLang=d),m.pipe((0,To.q)(1)).subscribe(A=>{this.changeDefaultLang(d)})):this.changeDefaultLang(d)}getDefaultLang(){return this.defaultLang}use(d){if(d===this.currentLang)return(0,ks.of)(this.translations[d]);let m=this.retrieveTranslations(d);return typeof m<"u"?(this.currentLang||(this.currentLang=d),m.pipe((0,To.q)(1)).subscribe(A=>{this.changeLang(d)}),m):(this.changeLang(d),(0,ks.of)(this.translations[d]))}retrieveTranslations(d){let m;return(typeof this.translations[d]>"u"||this.extend)&&(this._translationRequests[d]=this._translationRequests[d]||this.getTranslation(d),m=this._translationRequests[d]),m}getTranslation(d){this.pending=!0;const m=this.currentLoader.getTranslation(d).pipe((0,I.d)(1),(0,To.q)(1));return this.loadingTranslations=m.pipe((0,$a.U)(A=>this.compiler.compileTranslations(A,d)),(0,I.d)(1),(0,To.q)(1)),this.loadingTranslations.subscribe({next:A=>{this.translations[d]=this.extend&&this.translations[d]?{...A,...this.translations[d]}:A,this.updateLangs(),this.pending=!1},error:A=>{this.pending=!1}}),m}setTranslation(d,m,A=!1){m=this.compiler.compileTranslations(m,d),this.translations[d]=(A||this.extend)&&this.translations[d]?Cn(this.translations[d],m):m,this.updateLangs(),this.onTranslationChange.emit({lang:d,translations:this.translations[d]})}getLangs(){return this.langs}addLangs(d){d.forEach(m=>{-1===this.langs.indexOf(m)&&this.langs.push(m)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(d,m,A){let j;if(m instanceof Array){let fe={},we=!1;for(let Xe of m)fe[Xe]=this.getParsedResult(d,Xe,A),Io(fe[Xe])&&(we=!0);if(we){const Xe=m.map(ct=>Io(fe[ct])?fe[ct]:(0,ks.of)(fe[ct]));return(0,_u.D)(Xe).pipe((0,$a.U)(ct=>{let Ut={};return ct.forEach((en,zn)=>{Ut[m[zn]]=en}),Ut}))}return fe}if(d&&(j=this.parser.interpolate(this.parser.getValue(d,m),A)),typeof j>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(j=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],m),A)),typeof j>"u"){let fe={key:m,translateService:this};typeof A<"u"&&(fe.interpolateParams=A),j=this.missingTranslationHandler.handle(fe)}return typeof j<"u"?j:m}get(d,m){if(!Lt(d)||!d.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,S.b)(A=>Io(A=this.getParsedResult(A,d,m))?A:(0,ks.of)(A)));{let A=this.getParsedResult(this.translations[this.currentLang],d,m);return Io(A)?A:(0,ks.of)(A)}}getStreamOnTranslationChange(d,m){if(!Lt(d)||!d.length)throw new Error('Parameter "key" required');return(0,Gu.z)((0,Qs.P)(()=>this.get(d,m)),this.onTranslationChange.pipe((0,_.w)(A=>{const j=this.getParsedResult(A.translations,d,m);return"function"==typeof j.subscribe?j:(0,ks.of)(j)})))}stream(d,m){if(!Lt(d)||!d.length)throw new Error('Parameter "key" required');return(0,Gu.z)((0,Qs.P)(()=>this.get(d,m)),this.onLangChange.pipe((0,_.w)(A=>{const j=this.getParsedResult(A.translations,d,m);return Io(j)?j:(0,ks.of)(j)})))}instant(d,m){if(!Lt(d)||!d.length)throw new Error('Parameter "key" required');let A=this.getParsedResult(this.translations[this.currentLang],d,m);if(Io(A)){if(d instanceof Array){let j={};return d.forEach((fe,we)=>{j[d[we]]=d[we]}),j}return d}return A}set(d,m,A=this.currentLang){this.translations[A][d]=this.compiler.compile(m,A),this.updateLangs(),this.onTranslationChange.emit({lang:A,translations:this.translations[A]})}changeLang(d){this.currentLang=d,this.onLangChange.emit({lang:d,translations:this.translations[d]}),null==this.defaultLang&&this.changeDefaultLang(d)}changeDefaultLang(d){this.defaultLang=d,this.onDefaultLangChange.emit({lang:d,translations:this.translations[d]})}reloadLang(d){return this.resetLang(d),this.getTranslation(d)}resetLang(d){this._translationRequests[d]=void 0,this.translations[d]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let d=window.navigator.languages?window.navigator.languages[0]:null;return d=d||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof d>"u"?void 0:(-1!==d.indexOf("-")&&(d=d.split("-")[0]),-1!==d.indexOf("_")&&(d=d.split("_")[0]),d)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let d=window.navigator.languages?window.navigator.languages[0]:null;return d=d||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,d}}return y.\u0275fac=function(d){return new(d||y)(c.LFG(Uo),c.LFG(O),c.LFG(Js),c.LFG(gr),c.LFG(ie),c.LFG(Bo),c.LFG(es),c.LFG(wu),c.LFG(ia))},y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac}),y})(),bl=(()=>{class y{constructor(d,m){this.translate=d,this._ref=m,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(d,m,A){let j=fe=>{this.value=void 0!==fe?fe:d,this.lastKey=d,this._ref.markForCheck()};if(A){let fe=this.translate.getParsedResult(A,d,m);Io(fe.subscribe)?fe.subscribe(j):j(fe)}this.translate.get(d,m).subscribe(j)}transform(d,...m){if(!d||!d.length)return d;if(it(d,this.lastKey)&&it(m,this.lastParams))return this.value;let A;if(Lt(m[0])&&m.length)if("string"==typeof m[0]&&m[0].length){let j=m[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{A=JSON.parse(j)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${m[0]}`)}}else"object"==typeof m[0]&&!Array.isArray(m[0])&&(A=m[0]);return this.lastKey=d,this.lastParams=m,this.updateValue(d,A),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(j=>{this.lastKey&&j.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(d,A,j.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(j=>{this.lastKey&&(this.lastKey=null,this.updateValue(d,A,j.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(d,A))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return y.\u0275fac=function(d){return new(d||y)(c.Y36(ts,16),c.Y36(c.sBO,16))},y.\u0275pipe=c.Yjl({name:"translate",type:y,pure:!1}),y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac}),y})(),Il=(()=>{class y{static forRoot(d={}){return{ngModule:y,providers:[d.loader||{provide:O,useClass:$},d.compiler||{provide:Js,useClass:Fo},d.parser||{provide:gr,useClass:Ri},d.missingTranslationHandler||{provide:ie,useClass:Ee},Uo,{provide:es,useValue:d.isolate},{provide:Bo,useValue:d.useDefaultLang},{provide:wu,useValue:d.extend},{provide:ia,useValue:d.defaultLanguage},ts]}}static forChild(d={}){return{ngModule:y,providers:[d.loader||{provide:O,useClass:$},d.compiler||{provide:Js,useClass:Fo},d.parser||{provide:gr,useClass:Ri},d.missingTranslationHandler||{provide:ie,useClass:Ee},{provide:es,useValue:d.isolate},{provide:Bo,useValue:d.useDefaultLang},{provide:wu,useValue:d.extend},{provide:ia,useValue:d.defaultLanguage},ts]}}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275mod=c.oAB({type:y}),y.\u0275inj=c.cJS({}),y})();const Yh=["sideMenu"];function Zp(y,p){if(1&y&&(c.TgZ(0,"li",18)(1,"span"),c._uU(2),c.ALo(3,"translate"),c.qZA()()),2&y){const d=c.oxw().$implicit;c.xp6(2),c.Oqu(c.lcZ(3,1,d.label))}}const Ku=function(y,p){return{"has-arrow":y,"has-dropdown":p}};function Rd(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",23),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(3);return c.KtG(j.toggleItem(A))}),c._UZ(1,"i"),c.TgZ(2,"span"),c._uU(3),c.ALo(4,"translate"),c.qZA()()}if(2&y){const d=c.oxw(2).$implicit;c.Q6J("ngClass",c.WLB(7,Ku,!d.badge,d.badge)),c.xp6(1),c.Tol(d.icon),c.xp6(2),c.hij(" ",c.lcZ(4,5,d.label),"")}}function qp(y,p){if(1&y&&c._UZ(0,"i",28),2&y){const d=c.oxw(3).$implicit;c.Gre("bx ",d.icon," icon nav-icon")}}function Qh(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",24),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(3);return c.KtG(j.toggleParentItem(A))}),c.YNc(1,qp,1,3,"i",25),c.TgZ(2,"span",26),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.TgZ(5,"span",27),c._uU(6),c.ALo(7,"translate"),c.qZA()()}if(2&y){const d=c.oxw(2).$implicit;c.Q6J("routerLink",d.link),c.xp6(1),c.Q6J("ngIf",d.icon),c.xp6(2),c.hij(" ",c.lcZ(4,4,d.label),""),c.xp6(3),c.Oqu(c.lcZ(7,6,d.badge))}}function Zu(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",36),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(6);return c.KtG(j.updateActive(A))}),c._uU(1),c.ALo(2,"translate"),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.Q6J("routerLink",d.link),c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(2,3,d.label)," ")}}function Tl(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",37),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(6);return c.KtG(j.toggleSubItem(A))}),c._uU(1),c.ALo(2,"translate"),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(2,2,d.label)," ")}}function yc(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",36),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(9);return c.KtG(j.updateActive(A))}),c._uU(1),c.ALo(2,"translate"),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.Q6J("routerLink",d.link),c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(2,3,d.label)," ")}}function _c(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",37),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(9);return c.KtG(j.toggleExtraSubItem(A))}),c._uU(1),c.ALo(2,"translate"),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(2,2,d.label)," ")}}function Kb(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"li",19)(1,"a",41),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(11);return c.KtG(j.updateActive(A))}),c._uU(2),c.ALo(3,"translate"),c.qZA()()}if(2&y){const d=p.$implicit;c.xp6(1),c.Q6J("routerLink",d.link),c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(3,3,d.label)," ")}}function Od(y,p){if(1&y&&(c.TgZ(0,"ul",31),c.YNc(1,Kb,4,5,"li",32),c.qZA()),2&y){const d=c.oxw(2).$implicit;c.xp6(1),c.Q6J("ngForOf",d.subItems)}}function Ka(y,p){if(1&y&&(c.TgZ(0,"div",40),c.YNc(1,Od,2,1,"ul",30),c.qZA()),2&y){const d=c.oxw().$implicit,m=c.oxw(8);c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function wc(y,p){if(1&y&&(c.TgZ(0,"li",19),c.YNc(1,yc,3,5,"a",33),c.YNc(2,_c,3,4,"a",34),c.YNc(3,Ka,2,1,"div",39),c.qZA()),2&y){const d=p.$implicit,m=c.oxw(8);c.xp6(1),c.Q6J("ngIf",!m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function Sl(y,p){if(1&y&&(c.TgZ(0,"ul",31),c.YNc(1,wc,4,3,"li",32),c.qZA()),2&y){const d=c.oxw(2).$implicit;c.xp6(1),c.Q6J("ngForOf",d.subItems)}}function Yp(y,p){if(1&y&&(c.TgZ(0,"div",38),c.YNc(1,Sl,2,1,"ul",30),c.qZA()),2&y){const d=c.oxw().$implicit,m=c.oxw(5);c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function Qp(y,p){if(1&y&&(c.TgZ(0,"li",19),c.YNc(1,Zu,3,5,"a",33),c.YNc(2,Tl,3,4,"a",34),c.YNc(3,Yp,2,1,"div",35),c.qZA()),2&y){const d=p.$implicit,m=c.oxw(5);c.xp6(1),c.Q6J("ngIf",!m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function Ec(y,p){if(1&y&&(c.TgZ(0,"ul",31),c.YNc(1,Qp,4,3,"li",32),c.qZA()),2&y){const d=c.oxw(3).$implicit;c.xp6(1),c.Q6J("ngForOf",d.subItems)}}function Jp(y,p){if(1&y&&(c.TgZ(0,"div",29),c.YNc(1,Ec,2,1,"ul",30),c.qZA()),2&y){const d=c.oxw(2).$implicit,m=c.oxw();c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function Cl(y,p){if(1&y&&(c.TgZ(0,"li",19),c.YNc(1,Rd,5,10,"a",20),c.YNc(2,Qh,8,8,"a",21),c.YNc(3,Jp,2,1,"div",22),c.qZA()),2&y){const d=c.oxw().$implicit,m=c.oxw();c.xp6(1),c.Q6J("ngIf",m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",!m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function Xp(y,p){if(1&y&&(c.ynx(0),c.YNc(1,Zp,4,3,"li",16),c.YNc(2,Cl,4,3,"li",17),c.BQk()),2&y){const d=p.$implicit;c.xp6(1),c.Q6J("ngIf",d.isTitle),c.xp6(1),c.Q6J("ngIf",!d.isTitle&&!d.isLayout)}}let Pd=(()=>{class y{constructor(d,m){this.router=d,this.translate=m,this.toggle=!0,this.menuItems=[],this.mobileMenuButtonClicked=new c.vpe,m.setDefaultLang("en")}ngOnInit(){this.menuItems=yu}ngAfterViewInit(){this.initActiveMenu()}removeActivation(d){d.forEach(m=>{m.classList.contains("menu-link")&&(m.classList.contains("active")||m.setAttribute("aria-expanded",!1),m.nextElementSibling&&m.nextElementSibling.classList.remove("show")),m.classList.contains("nav-link")&&(m.nextElementSibling&&m.nextElementSibling.classList.remove("show"),m.setAttribute("aria-expanded",!1)),m.classList.remove("active")})}toggleItem(d){let m=d.target.closest("a.nav-link"),A=m.nextElementSibling;if(A.classList.contains("show"))A.classList.remove("show"),m.setAttribute("aria-expanded","false");else{Array.from(document.querySelectorAll("#navbar-nav .show")).forEach(we=>{we.classList.remove("show")}),A&&A.classList.add("show");const fe=document.getElementById("navbar-nav");fe&&Array.from(fe.getElementsByTagName("a")).filter(ct=>ct.classList.contains("active")).forEach(ct=>{ct.setAttribute("aria-expanded","false"),ct.classList.remove("active")}),m.setAttribute("aria-expanded","true"),m&&this.activateParentDropdown(m)}}toggleSubItem(d){let m=d.target.closest("a.nav-link"),A=m.nextElementSibling;A.classList.contains("show")?(A.classList.remove("show"),m.setAttribute("aria-expanded","false")):(Array.from(document.querySelectorAll(".sub-menu")).forEach(we=>{we.classList.remove("show")}),Array.from(document.querySelectorAll(".menu-dropdown .nav-link")).forEach(we=>{we.setAttribute("aria-expanded","false")}),d.target&&d.target.nextElementSibling&&(m.setAttribute("aria-expanded","true"),d.target.nextElementSibling.classList.toggle("show")))}toggleExtraSubItem(d){let m=d.target.closest("a.nav-link"),A=m.nextElementSibling;A.classList.contains("show")?(A.classList.remove("show"),m.setAttribute("aria-expanded","false")):(Array.from(document.querySelectorAll(".extra-sub-menu")).forEach(we=>{we.classList.remove("show")}),Array.from(document.querySelectorAll(".menu-dropdown .nav-link")).forEach(we=>{we.setAttribute("aria-expanded","false")}),d.target&&d.target.nextElementSibling&&(m.setAttribute("aria-expanded","true"),d.target.nextElementSibling.classList.toggle("show")))}toggleParentItem(d){let m=d.target.closest("a.nav-link");Array.from(document.querySelectorAll("#navbar-nav .show")).forEach(fe=>{fe.classList.remove("show")});const j=document.getElementById("navbar-nav");j&&Array.from(j.getElementsByTagName("a")).filter(Xe=>Xe.classList.contains("active")).forEach(Xe=>{Xe.setAttribute("aria-expanded","false"),Xe.classList.remove("active")}),m.setAttribute("aria-expanded","true"),m&&this.activateParentDropdown(m)}activateParentDropdown(d){d.classList.add("active");let m=d.closest(".collapse.menu-dropdown");return m&&(m.classList.add("show"),m.parentElement.children[0].classList.add("active"),m.parentElement.children[0].setAttribute("aria-expanded","true"),m.parentElement.closest(".collapse.menu-dropdown")&&(m.parentElement.closest(".collapse").classList.add("show"),m.parentElement.closest(".collapse").previousElementSibling&&m.parentElement.closest(".collapse").previousElementSibling.classList.add("active"),m.parentElement.closest(".collapse").previousElementSibling.closest(".collapse")&&(m.parentElement.closest(".collapse").previousElementSibling.closest(".collapse").classList.add("show"),m.parentElement.closest(".collapse").previousElementSibling.closest(".collapse").previousElementSibling.classList.add("active")))),!1}updateActive(d){const m=document.getElementById("navbar-nav");if(m){const A=Array.from(m.querySelectorAll("a.nav-link"));this.removeActivation(A)}this.activateParentDropdown(d.target)}initActiveMenu(){const d=window.location.pathname,m=document.getElementById("navbar-nav");if(m){const A=Array.from(m.querySelectorAll("a.nav-link"));let j=A.filter(we=>we.classList.contains("active"));this.removeActivation(j);let fe=A.find(we=>we.pathname===d);fe&&this.activateParentDropdown(fe)}}hasItems(d){return void 0!==d.subItems&&d.subItems.length>0}toggleMobileMenu(d){"sm-hover-active"==document.documentElement.getAttribute("data-sidebar-size")?document.documentElement.setAttribute("data-sidebar-size","sm-hover"):document.documentElement.setAttribute("data-sidebar-size","sm-hover-active")}SidebarHide(){document.body.classList.remove("vertical-sidebar-enable")}static#e=this.\u0275fac=function(m){return new(m||y)(c.Y36(dn.F0),c.Y36(ts))};static#t=this.\u0275cmp=c.Xpm({type:y,selectors:[["app-sidebar"]],viewQuery:function(m,A){if(1&m&&c.Gf(Yh,5),2&m){let j;c.iGM(j=c.CRH())&&(A.sideMenu=j.first)}},outputs:{mobileMenuButtonClicked:"mobileMenuButtonClicked"},decls:21,vars:1,consts:[[1,"app-menu","navbar-menu"],[1,"navbar-brand-box","pt-3","border-bottom"],["routerLink","/",1,"logo","logo-dark"],[1,"logo-sm"],["src","assets/images/logo/logo.png","alt","","height","100"],[1,"logo-lg"],["routerLink","/",1,"logo","logo-light"],["type","button","id","vertical-hover",1,"btn","btn-sm","p-0","fs-20","header-item","float-end","btn-vertical-sm-hover"],[1,"ri-record-circle-line"],["id","scrollbar",2,"height","100%"],[1,"container-fluid"],["id","two-column-menu"],["id","navbar-nav",1,"navbar-nav"],[4,"ngFor","ngForOf"],[1,"sidebar-background"],[1,"vertical-overlay"],["class","menu-title","style","color:white !important;",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"menu-title",2,"color","white !important"],[1,"nav-item"],["href","javascript:void(0);","class","nav-link menu-link","data-bs-toggle","collapse","aria-expanded","false",3,"ngClass","click",4,"ngIf"],["class","side-nav-link-ref nav-link menu-link",3,"routerLink","click",4,"ngIf"],["class","collapse menu-dropdown mega-dropdown-menu",4,"ngIf"],["href","javascript:void(0);","data-bs-toggle","collapse","aria-expanded","false",1,"nav-link","menu-link",3,"ngClass","click"],[1,"side-nav-link-ref","nav-link","menu-link",3,"routerLink","click"],["class","",3,"class",4,"ngIf"],[1,"",2,"color","white !important"],[1,"badge","badge-pill","bg-secondary"],[1,""],[1,"collapse","menu-dropdown","mega-dropdown-menu"],["class","nav nav-sm flex-column","aria-expanded","false",4,"ngIf"],["aria-expanded","false",1,"nav","nav-sm","flex-column"],["class","nav-item",4,"ngFor","ngForOf"],["class","nav-link","aria-expanded","false",3,"routerLink","click",4,"ngIf"],["class","nav-link","href","javascript:void(0);","data-bs-toggle","collapse","aria-expanded","false",3,"click",4,"ngIf"],["class","collapse menu-dropdown sub-menu",4,"ngIf"],["aria-expanded","false",1,"nav-link",3,"routerLink","click"],["href","javascript:void(0);","data-bs-toggle","collapse","aria-expanded","false",1,"nav-link",3,"click"],[1,"collapse","menu-dropdown","sub-menu"],["class","collapse menu-dropdown extra-sub-menu",4,"ngIf"],[1,"collapse","menu-dropdown","extra-sub-menu"],[1,"nav-link",3,"routerLink","click"]],template:function(m,A){1&m&&(c.TgZ(0,"div",0)(1,"div",1)(2,"a",2)(3,"span",3),c._UZ(4,"img",4),c.qZA(),c.TgZ(5,"span",5),c._UZ(6,"img",4),c.qZA()(),c.TgZ(7,"a",6)(8,"span",3),c._UZ(9,"img",4),c.qZA(),c.TgZ(10,"span",5),c._UZ(11,"img",4),c.qZA()(),c.TgZ(12,"button",7),c._UZ(13,"i",8),c.qZA()(),c.TgZ(14,"ngx-simplebar",9)(15,"div",10),c._UZ(16,"div",11),c.TgZ(17,"ul",12),c.YNc(18,Xp,3,2,"ng-container",13),c.qZA()()(),c._UZ(19,"div",14),c.qZA(),c._UZ(20,"div",15)),2&m&&(c.xp6(18),c.Q6J("ngForOf",A.menuItems))},dependencies:[Xt.mk,Xt.sg,Xt.O5,dn.rH,Kp,bl]})}return y})(),Jh=(()=>{class y{constructor(){this.isCondensed=!1}ngOnInit(){document.documentElement.setAttribute("data-layout","vertical"),document.documentElement.setAttribute("data-topbar","light"),document.documentElement.setAttribute("data-sidebar","light"),document.documentElement.setAttribute("data-layout-style","default"),document.documentElement.setAttribute("data-layout-mode","light"),document.documentElement.setAttribute("data-layout-width","fluid"),document.documentElement.setAttribute("data-layout-position","fixed"),document.documentElement.setAttribute("data-sidebar-image","none"),document.documentElement.setAttribute("data-preloader","disable"),window.addEventListener("resize",function(){document.documentElement.clientWidth<=767?(document.documentElement.setAttribute("data-sidebar-size",""),document.querySelector(".hamburger-icon")?.classList.add("open")):document.documentElement.clientWidth<=1024?(document.documentElement.setAttribute("data-sidebar-size","sm"),document.querySelector(".hamburger-icon")?.classList.add("open")):document.documentElement.clientWidth>=1024&&"fluid"==document.documentElement.getAttribute("data-layout-width")?(document.documentElement.setAttribute("data-sidebar-size","lg"),document.querySelector(".hamburger-icon")?.classList.remove("open")):document.documentElement.clientWidth>=1024&&"boxed"==document.documentElement.getAttribute("data-layout-width")&&(document.documentElement.setAttribute("data-sidebar-size","sm-hover"),document.querySelector(".hamburger-icon")?.classList.remove("open"))})}onToggleMobileMenu(){const d=document.documentElement.getAttribute("data-sidebar-size");document.documentElement.clientWidth>=767&&(null==d?null==document.documentElement.getAttribute("data-sidebar-size")||"lg"==document.documentElement.getAttribute("data-sidebar-size")?document.documentElement.setAttribute("data-sidebar-size","sm"):document.documentElement.setAttribute("data-sidebar-size","lg"):"md"==d?"md"==document.documentElement.getAttribute("data-sidebar-size")?document.documentElement.setAttribute("data-sidebar-size","sm"):document.documentElement.setAttribute("data-sidebar-size","md"):"sm"==document.documentElement.getAttribute("data-sidebar-size")?document.documentElement.setAttribute("data-sidebar-size","lg"):document.documentElement.setAttribute("data-sidebar-size","sm")),document.documentElement.clientWidth<=767&&document.body.classList.toggle("vertical-sidebar-enable"),this.isCondensed=!this.isCondensed}onSettingsButtonClicked(){document.body.classList.toggle("right-bar-enabled");const d=document.getElementById("theme-settings-offcanvas");null!=d&&(d.classList.toggle("show"),d.setAttribute("style","visibility: visible;"))}static#e=this.\u0275fac=function(m){return new(m||y)};static#t=this.\u0275cmp=c.Xpm({type:y,selectors:[["app-vertical"]],decls:7,vars:0,consts:[["id","layout-wrapper"],[3,"mobileMenuButtonClicked"],[1,"main-content"],[1,"page-content"],[1,"container-fluid"]],template:function(m,A){1&m&&(c.TgZ(0,"div",0)(1,"app-topbar",1),c.NdJ("mobileMenuButtonClicked",function(){return A.onToggleMobileMenu()}),c.qZA(),c._UZ(2,"app-sidebar"),c.TgZ(3,"div",2)(4,"div",3)(5,"div",4),c._UZ(6,"router-outlet"),c.qZA()()()())},dependencies:[dn.lC,Md,Pd]})}return y})();const Xh=[{id:1,label:"MENUITEMS.MENU.TEXT",isTitle:!0},{id:2,label:"MENUITEMS.DASHBOARD.TEXT",icon:"bi bi-speedometer2",link:"/"},{id:1,label:"MENUITEMS.PAGES.TEXT",isTitle:!0},{id:3,label:"MENUITEMS.AUTHENTICATION.TEXT",icon:"bi bi-person-circle",subItems:[{id:4,label:"MENUITEMS.AUTHENTICATION.LIST.SIGNIN",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/signin/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/signin/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/signin/cover",parentId:3}]},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.SIGNUP",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/signup/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/signup/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/signup/cover",parentId:3}]},{id:6,label:"MENUITEMS.AUTHENTICATION.LIST.PASSWORDRESET",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/pass-reset/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/pass-reset/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/pass-reset/cover",parentId:3}]},{id:7,label:"MENUITEMS.AUTHENTICATION.LIST.PASSWORDCREATE",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/pass-change/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/pass-change/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/pass-change/cover",parentId:3}]},{id:8,label:"MENUITEMS.AUTHENTICATION.LIST.LOCKSCREEN",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/lockscreen/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/lockscreen/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/lockscreen/cover",parentId:3}]},{id:9,label:"MENUITEMS.AUTHENTICATION.LIST.LOGOUT",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/logout/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/logout/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/logout/cover",parentId:3}]},{id:10,label:"MENUITEMS.AUTHENTICATION.LIST.SUCCESSMESSAGE",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/success-msg/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/success-msg/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/success-msg/cover",parentId:3}]},{id:11,label:"MENUITEMS.AUTHENTICATION.LIST.TWOSTEPVERIFICATION",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/twostep/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/twostep/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/twostep/cover",parentId:3}]},{id:12,label:"MENUITEMS.AUTHENTICATION.LIST.ERRORS",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.404BASIC",link:"/auth/error/404-basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.404COVER",link:"/auth/error/404-cover",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.404ALT",link:"/auth/error/404-alt",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.500",link:"/auth/error/500",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.OFFLINE",link:"/auth/error/offline",parentId:3}]}]},{id:26,label:"MENUITEMS.EXTRAPAGES.TEXT",icon:"bi bi-journal-medical",subItems:[{id:27,label:"MENUITEMS.EXTRAPAGES.LIST.STARTER",link:"/pages/starter",parentId:26},{id:28,label:"MENUITEMS.EXTRAPAGES.LIST.PROFILE",parentId:26,subItems:[{id:27,label:"MENUITEMS.EXTRAPAGES.LIST.SIMPLEPAGE",link:"/pages/profile",parentId:26},{id:27,label:"MENUITEMS.EXTRAPAGES.LIST.SETTINGS",link:"/pages/settings",parentId:26}]},{id:29,label:"MENUITEMS.EXTRAPAGES.LIST.TEAM",link:"/pages/team",parentId:26},{id:30,label:"MENUITEMS.EXTRAPAGES.LIST.TIMELINE",link:"/pages/timeline",parentId:26},{id:31,label:"MENUITEMS.EXTRAPAGES.LIST.FAQS",link:"/pages/faqs",parentId:26},{id:32,label:"MENUITEMS.EXTRAPAGES.LIST.PRICING",link:"/pages/pricing",parentId:26},{id:33,label:"MENUITEMS.EXTRAPAGES.LIST.MAINTENANCE",link:"/pages/maintenance",parentId:26},{id:33,label:"MENUITEMS.EXTRAPAGES.LIST.COMINGSOON",link:"/pages/coming-soon",parentId:26},{id:33,label:"MENUITEMS.EXTRAPAGES.LIST.SITEMAP",link:"/pages/sitemap",parentId:26},{id:33,label:"MENUITEMS.EXTRAPAGES.LIST.SEARCHRESULTS",link:"/pages/search-results",parentId:26}]},{id:34,label:"MENUITEMS.WIDGETS.TEXT",icon:"bi bi-hdd-stack",link:"/widgets"},{id:52,label:"MENUITEMS.MORE.TEXT",icon:"ri-briefcase-2-line",subItems:[{id:52,label:"MENUITEMS.APPS.LIST.CALENDAR",icon:"bi bi-calendar3",link:"/apps/calendar"},{id:56,label:"MENUITEMS.APPS.LIST.APIKEY",icon:"bi bi-key",link:"/apps/api-key"},{id:73,label:"MENUITEMS.APPS.LIST.CONTACTS",icon:"bi bi-person-square",link:"/apps/contact"},{id:79,label:"MENUITEMS.APPS.LIST.LEADERBOEARD",icon:"bi bi-gem",link:"/apps/leaderboards"},{id:83,label:"MENUITEMS.MULTILEVEL.TEXT",icon:"bi bi-share",subItems:[{id:84,label:"MENUITEMS.MULTILEVEL.LIST.LEVEL1.1",parentId:83},{id:85,label:"MENUITEMS.MULTILEVEL.LIST.LEVEL1.2",parentId:83,childItem:[{id:86,label:"MENUITEMS.MULTILEVEL.LIST.LEVEL1.LEVEL2.1",parentId:85},{id:87,label:"MENUITEMS.MULTILEVEL.LIST.LEVEL1.LEVEL2.2",parentId:85,childItem:[{id:76,label:"MENUITEMS.MULTILEVEL.LIST.LEVEL1.LEVEL2.LEVEL3.1",parentId:87},{id:76,label:"MENUITEMS.MULTILEVEL.LIST.LEVEL1.LEVEL2.LEVEL3.2",parentId:87}]}]}]}]}],ef=["sideMenu"];function Vo(y,p){if(1&y&&(c.TgZ(0,"li",21)(1,"span",22),c._uU(2),c.ALo(3,"translate"),c.qZA()()),2&y){const d=c.oxw().$implicit;c.xp6(2),c.Oqu(c.lcZ(3,1,d.label))}}function kd(y,p){if(1&y&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&y){const d=c.oxw(3).$implicit;c.Gre("badge badge-pill ",d.badge.variant,""),c.xp6(1),c.Oqu(c.lcZ(2,4,d.badge.text))}}const R0=function(y,p){return{"has-arrow":y,"has-dropdown":p}};function eg(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",27),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(3);return c.KtG(j.toggleItem(A))}),c._UZ(1,"i",28),c.TgZ(2,"span",28),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.YNc(5,kd,3,6,"span",29),c.qZA()}if(2&y){const d=c.oxw(2).$implicit;c.Q6J("ngClass",c.WLB(8,R0,!d.badge,d.badge)),c.xp6(1),c.Gre("",d.icon," icon nav-icon"),c.xp6(2),c.hij(" ",c.lcZ(4,6,d.label),""),c.xp6(2),c.Q6J("ngIf",d.badge)}}function Al(y,p){if(1&y&&c._UZ(0,"i",28),2&y){const d=c.oxw(3).$implicit;c.Gre("bx ",d.icon," icon nav-icon")}}function _v(y,p){if(1&y&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&y){const d=c.oxw(3).$implicit;c.Gre("badge ",d.badge.variant," float-end"),c.xp6(1),c.Oqu(c.lcZ(2,4,d.badge.text))}}function wv(y,p){if(1&y&&(c.TgZ(0,"a",30),c.YNc(1,Al,1,3,"i",31),c.TgZ(2,"span",28),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.YNc(5,_v,3,6,"span",29),c.qZA()),2&y){const d=c.oxw(2).$implicit;c.Q6J("routerLink",d.link),c.xp6(1),c.Q6J("ngIf",d.icon),c.xp6(2),c.hij(" ",c.lcZ(4,4,d.label),""),c.xp6(2),c.Q6J("ngIf",d.badge)}}function O0(y,p){if(1&y&&c._UZ(0,"i",28),2&y){const d=c.oxw(2).$implicit;c.Gre("bx ",d.icon," icon nav-icon")}}function tg(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",39),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(6);return c.KtG(j.updateActive(A))}),c.YNc(1,O0,1,3,"i",31),c._uU(2),c.ALo(3,"translate"),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.Q6J("routerLink",d.link),c.uIk("data-parent",d.parentId),c.xp6(1),c.Q6J("ngIf",d.icon),c.xp6(1),c.hij("",c.lcZ(3,4,d.label)," ")}}function ng(y,p){if(1&y&&c._UZ(0,"i",28),2&y){const d=c.oxw(2).$implicit;c.Gre("bx ",d.icon," icon nav-icon")}}function tf(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",40),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(6);return c.KtG(j.toggleSubItem(A))}),c.YNc(1,ng,1,3,"i",31),c._uU(2),c.ALo(3,"translate"),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.uIk("data-parent",d.parentId),c.xp6(1),c.Q6J("ngIf",d.icon),c.xp6(1),c.hij("",c.lcZ(3,3,d.label)," ")}}function bc(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",39),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(8);return c.KtG(j.updateActive(A))}),c._uU(1),c.ALo(2,"translate"),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.Q6J("routerLink",d.link),c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(2,3,d.label)," ")}}function Ic(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",43),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(8);return c.KtG(j.updateActive(A))}),c._uU(1),c.ALo(2,"translate"),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.Q6J("routerLink",d.link),c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(2,3,d.label)," ")}}function nf(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"li",23)(1,"a",39),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(11);return c.KtG(j.updateActive(A))}),c._uU(2),c.ALo(3,"translate"),c.qZA()()}if(2&y){const d=p.$implicit,m=c.oxw(4).$implicit;c.xp6(1),c.Q6J("routerLink",d.link),c.uIk("data-parent",m.parentId),c.xp6(1),c.hij(" ",c.lcZ(3,3,d.label)," ")}}function Ld(y,p){if(1&y&&(c.TgZ(0,"div",41)(1,"ul",34),c.YNc(2,nf,4,5,"li",35),c.qZA()()),2&y){const d=c.oxw().$implicit;c.xp6(2),c.Q6J("ngForOf",d.childItem)}}function rf(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"li",23)(1,"a",39),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(9);return c.KtG(j.updateActive(A))}),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.YNc(4,Ld,3,1,"div",38),c.qZA()}if(2&y){const d=p.$implicit,m=c.oxw(2).$implicit;c.xp6(1),c.Q6J("routerLink",d.link),c.uIk("data-parent",m.parentId),c.xp6(1),c.hij(" ",c.lcZ(3,4,d.label)," "),c.xp6(2),c.Q6J("ngIf",d.childItem)}}function jo(y,p){if(1&y&&(c.TgZ(0,"div",41)(1,"ul",34),c.YNc(2,rf,5,6,"li",35),c.qZA()()),2&y){const d=c.oxw().$implicit;c.xp6(2),c.Q6J("ngForOf",d.childItem)}}function Fd(y,p){if(1&y&&(c.TgZ(0,"li",23),c.YNc(1,bc,3,5,"a",36),c.YNc(2,Ic,3,5,"a",42),c.YNc(3,jo,3,1,"div",38),c.qZA()),2&y){const d=p.$implicit;c.xp6(1),c.Q6J("ngIf",!d.childItem),c.xp6(1),c.Q6J("ngIf",d.childItem),c.xp6(1),c.Q6J("ngIf",d.childItem)}}function sf(y,p){if(1&y&&(c.TgZ(0,"div",41)(1,"ul",34),c.YNc(2,Fd,4,3,"li",35),c.qZA()()),2&y){const d=c.oxw().$implicit;c.xp6(2),c.Q6J("ngForOf",d.subItems)}}function rg(y,p){if(1&y&&(c.TgZ(0,"li",23),c.YNc(1,tg,4,6,"a",36),c.YNc(2,tf,4,5,"a",37),c.YNc(3,sf,3,1,"div",38),c.qZA()),2&y){const d=p.$implicit,m=c.oxw(5);c.xp6(1),c.Q6J("ngIf",!m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function Ud(y,p){if(1&y&&(c.TgZ(0,"ul",34),c.YNc(1,rg,4,3,"li",35),c.qZA()),2&y){const d=c.oxw(3).$implicit;c.xp6(1),c.Q6J("ngForOf",d.subItems)}}function Bd(y,p){if(1&y&&(c.TgZ(0,"div",32),c.YNc(1,Ud,2,1,"ul",33),c.qZA()),2&y){const d=c.oxw(2).$implicit,m=c.oxw();c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function af(y,p){if(1&y&&(c.TgZ(0,"li",23),c.YNc(1,eg,6,11,"a",24),c.YNc(2,wv,6,6,"a",25),c.YNc(3,Bd,2,1,"div",26),c.qZA()),2&y){const d=c.oxw().$implicit,m=c.oxw();c.xp6(1),c.Q6J("ngIf",m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",!m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function Ev(y,p){if(1&y&&(c.ynx(0),c.YNc(1,Vo,4,3,"li",19),c.YNc(2,af,4,3,"li",20),c.BQk()),2&y){const d=p.$implicit;c.xp6(1),c.Q6J("ngIf",d.isTitle),c.xp6(1),c.Q6J("ngIf",!d.isTitle&&!d.isLayout)}}let uf=(()=>{class y{constructor(d,m){this.router=d,this.translate=m,this.toggle=!0,this.menuItems=[],this.mobileMenuButtonClicked=new c.vpe,m.setDefaultLang("en")}ngOnInit(){this.menuItems=Xh}ngAfterViewInit(){this.initActiveMenu()}removeActivation(d){d.forEach(m=>{m.classList.contains("menu-link")&&(m.classList.contains("active")||m.setAttribute("aria-expanded",!1),m.nextElementSibling&&m.nextElementSibling.classList.remove("show")),m.classList.contains("nav-link")&&(m.nextElementSibling&&m.nextElementSibling.classList.remove("show"),m.setAttribute("aria-expanded",!1)),m.classList.remove("active")})}toggleSubItem(d){let m=d.target.closest("a.nav-link"),A=m.nextElementSibling;A.classList.contains("show")?(A.classList.remove("show"),m.setAttribute("aria-expanded","false")):(Array.from(document.querySelectorAll(".sub-menu")).forEach(we=>{we.classList.remove("show")}),Array.from(document.querySelectorAll(".menu-dropdown .nav-link")).forEach(we=>{we.setAttribute("aria-expanded","false")}),d.target&&d.target.nextElementSibling&&(m.setAttribute("aria-expanded","true"),d.target.nextElementSibling.classList.toggle("show")))}toggleExtraSubItem(d){let m=d.target.closest("a.nav-link"),A=m.nextElementSibling;A.classList.contains("show")?(A.classList.remove("show"),m.setAttribute("aria-expanded","false")):(Array.from(document.querySelectorAll(".extra-sub-menu")).forEach(we=>{we.classList.remove("show")}),Array.from(document.querySelectorAll(".menu-dropdown .nav-link")).forEach(we=>{we.setAttribute("aria-expanded","false")}),d.target&&d.target.nextElementSibling&&(m.setAttribute("aria-expanded","true"),d.target.nextElementSibling.classList.toggle("show")))}toggleParentItem(d){let m=d.target.closest("a.nav-link");Array.from(document.querySelectorAll("#navbar-nav .show")).forEach(fe=>{fe.classList.remove("show")});const j=document.getElementById("navbar-nav");j&&Array.from(j.getElementsByTagName("a")).filter(Xe=>Xe.classList.contains("active")).forEach(Xe=>{Xe.setAttribute("aria-expanded","false"),Xe.classList.remove("active")}),m.setAttribute("aria-expanded","true"),m&&this.activateParentDropdown(m)}toggleItem(d){let m=d.target.closest("a.nav-link"),A=m.nextElementSibling;if(A.classList.contains("show"))A.classList.remove("show"),m.setAttribute("aria-expanded","false");else{Array.from(document.querySelectorAll("#navbar-nav .show")).forEach(we=>{we.classList.remove("show")}),A&&A.classList.add("show");const fe=document.getElementById("navbar-nav");fe&&Array.from(fe.getElementsByTagName("a")).filter(ct=>ct.classList.contains("active")).forEach(ct=>{ct.setAttribute("aria-expanded","false"),ct.classList.remove("active")}),m.setAttribute("aria-expanded","true"),m&&this.activateParentDropdown(m)}}activateParentDropdown(d){d.classList.add("active");let m=d.closest(".collapse.menu-dropdown");return m&&(m.classList.add("show"),m.parentElement.children[0].classList.add("active"),m.parentElement.children[0].setAttribute("aria-expanded","true"),m.parentElement.closest(".collapse.menu-dropdown")&&(m.parentElement.closest(".collapse").classList.add("show"),m.parentElement.closest(".collapse").previousElementSibling&&m.parentElement.closest(".collapse").previousElementSibling.classList.add("active"),m.parentElement.closest(".collapse").previousElementSibling.closest(".collapse")&&(m.parentElement.closest(".collapse").previousElementSibling.closest(".collapse").classList.add("show"),m.parentElement.closest(".collapse").previousElementSibling.closest(".collapse").previousElementSibling.classList.add("active")))),!1}updateActive(d){const m=document.getElementById("navbar-nav");if(m){const A=Array.from(m.querySelectorAll("a.nav-link"));this.removeActivation(A)}this.activateParentDropdown(d.target)}initActiveMenu(){const d=window.location.pathname,m=document.getElementById("navbar-nav");if(m){const A=Array.from(m.querySelectorAll("a.nav-link"));let j=A.filter(we=>we.classList.contains("active"));this.removeActivation(j);let fe=A.find(we=>we.pathname===d);fe&&this.activateParentDropdown(fe)}}hasItems(d){return void 0!==d.subItems&&d.subItems.length>0}toggleMobileMenu(d){"sm-hover-active"==document.documentElement.getAttribute("data-sidebar-size")?document.documentElement.setAttribute("data-sidebar-size","sm-hover"):document.documentElement.setAttribute("data-sidebar-size","sm-hover-active")}SidebarHide(){document.body.classList.remove("vertical-sidebar-enable")}static#e=this.\u0275fac=function(m){return new(m||y)(c.Y36(dn.F0),c.Y36(ts))};static#t=this.\u0275cmp=c.Xpm({type:y,selectors:[["app-horizontal-topbar"]],viewQuery:function(m,A){if(1&m&&c.Gf(ef,5),2&m){let j;c.iGM(j=c.CRH())&&(A.sideMenu=j.first)}},outputs:{mobileMenuButtonClicked:"mobileMenuButtonClicked"},decls:21,vars:1,consts:[[1,"app-menu","navbar-menu"],[1,"navbar-brand-box"],["routerLink","/",1,"logo","logo-dark"],[1,"logo-sm"],["src","../assets/images/logo-sm.png","alt","","height","26"],[1,"logo-lg"],["src","../assets/images/logo-dark.png","alt","","height","26"],["routerLink","/",1,"logo","logo-light"],["src","../assets/images/logo-sm.png","alt","","height","24"],["src","../assets/images/logo-light.png","alt","","height","24"],["type","button","id","vertical-hover",1,"btn","btn-sm","p-0","fs-20","header-item","float-end","btn-vertical-sm-hover"],[1,"ri-record-circle-line"],["id","scrollbar"],[1,"container-fluid"],["id","two-column-menu"],["id","navbar-nav",1,"navbar-nav"],[4,"ngFor","ngForOf"],[1,"sidebar-background"],[1,"vertical-overlay"],["class","menu-title",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"menu-title"],["data-key","t-menu"],[1,"nav-item"],["href","javascript:void(0);","class","is-parent nav-link menu-link","data-bs-toggle","collapse","aria-expanded","false",3,"ngClass","click",4,"ngIf"],["class","side-nav-link-ref nav-link menu-link",3,"routerLink",4,"ngIf"],["class","collapse menu-dropdown","id","sidebarDashboards",4,"ngIf"],["href","javascript:void(0);","data-bs-toggle","collapse","aria-expanded","false",1,"is-parent","nav-link","menu-link",3,"ngClass","click"],[1,""],[3,"class",4,"ngIf"],[1,"side-nav-link-ref","nav-link","menu-link",3,"routerLink"],["class","",3,"class",4,"ngIf"],["id","sidebarDashboards",1,"collapse","menu-dropdown"],["class","nav nav-sm flex-column","aria-expanded","false",4,"ngIf"],["aria-expanded","false",1,"nav","nav-sm","flex-column"],["class","nav-item",4,"ngFor","ngForOf"],["class","nav-link",3,"routerLink","click",4,"ngIf"],["class","nav-link","href","javascript:void(0);","data-bs-toggle","collapse","aria-expanded","false",3,"click",4,"ngIf"],["class","collapse menu-dropdown",4,"ngIf"],[1,"nav-link",3,"routerLink","click"],["href","javascript:void(0);","data-bs-toggle","collapse","aria-expanded","false",1,"nav-link",3,"click"],[1,"collapse","menu-dropdown"],["data-bs-toggle","collapse","aria-expanded","false","class","nav-link",3,"routerLink","click",4,"ngIf"],["data-bs-toggle","collapse","aria-expanded","false",1,"nav-link",3,"routerLink","click"]],template:function(m,A){1&m&&(c.TgZ(0,"div",0)(1,"div",1)(2,"a",2)(3,"span",3),c._UZ(4,"img",4),c.qZA(),c.TgZ(5,"span",5),c._UZ(6,"img",6),c.qZA()(),c.TgZ(7,"a",7)(8,"span",3),c._UZ(9,"img",8),c.qZA(),c.TgZ(10,"span",5),c._UZ(11,"img",9),c.qZA()(),c.TgZ(12,"button",10),c._UZ(13,"i",11),c.qZA()(),c.TgZ(14,"div",12)(15,"div",13),c._UZ(16,"div",14),c.TgZ(17,"ul",15),c.YNc(18,Ev,3,2,"ng-container",16),c.qZA()()(),c._UZ(19,"div",17),c.qZA(),c._UZ(20,"div",18)),2&m&&(c.xp6(18),c.Q6J("ngForOf",A.menuItems))},dependencies:[Xt.mk,Xt.sg,Xt.O5,dn.rH,bl]})}return y})(),ig=(()=>{class y{constructor(){this.isCondensed=!1}ngOnInit(){document.documentElement.setAttribute("data-layout","horizontal"),document.documentElement.setAttribute("data-topbar","light"),document.documentElement.setAttribute("data-sidebar","dark"),document.documentElement.setAttribute("data-sidebar-size","lg"),document.documentElement.setAttribute("data-layout-style","default"),document.documentElement.setAttribute("data-cs-theme","light"),document.documentElement.setAttribute("data-layout-width","fluid"),document.documentElement.setAttribute("data-layout-position","fixed"),document.documentElement.setAttribute("data-preloader","disable")}onToggleMobileMenu(){document.documentElement.clientWidth<=1024&&document.body.classList.toggle("menu")}onSettingsButtonClicked(){document.body.classList.toggle("right-bar-enabled");const d=document.getElementById("theme-settings-offcanvas");null!=d&&(d.classList.toggle("show"),d.setAttribute("style","visibility: visible;"))}static#e=this.\u0275fac=function(m){return new(m||y)};static#t=this.\u0275cmp=c.Xpm({type:y,selectors:[["app-horizontal"]],decls:7,vars:0,consts:[["id","layout-wrapper"],[2,"margin-top","0%",3,"mobileMenuButtonClicked"],[1,"main-content"],[1,"page-content"],[1,"container-fluid"]],template:function(m,A){1&m&&(c.TgZ(0,"div",0)(1,"app-topbar",1),c.NdJ("mobileMenuButtonClicked",function(){return A.onToggleMobileMenu()}),c.qZA(),c._UZ(2,"app-horizontal-topbar"),c.TgZ(3,"div",2)(4,"div",3)(5,"div",4),c._UZ(6,"router-outlet"),c.qZA()()()())},dependencies:[dn.lC,Md,uf]})}return y})();const lf=[{id:1,label:"MENUITEMS.MENU.TEXT",isTitle:!0},{id:2,label:"MENUITEMS.DASHBOARD.TEXT",icon:"bi bi-speedometer2",link:"/"},{id:1,label:"MENUITEMS.PAGES.TEXT",isTitle:!0},{id:3,label:"MENUITEMS.AUTHENTICATION.TEXT",icon:"bi bi-person-circle",collapseid:"authentication",subItems:[{id:4,label:"MENUITEMS.AUTHENTICATION.LIST.SIGNIN",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/signin/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/signin/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/signin/cover",parentId:3}]},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.SIGNUP",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/signup/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/signup/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/signup/cover",parentId:3}]},{id:6,label:"MENUITEMS.AUTHENTICATION.LIST.PASSWORDRESET",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/pass-reset/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/pass-reset/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/pass-reset/cover",parentId:3}]},{id:7,label:"MENUITEMS.AUTHENTICATION.LIST.PASSWORDCREATE",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/pass-change/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/pass-change/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/pass-change/cover",parentId:3}]},{id:8,label:"MENUITEMS.AUTHENTICATION.LIST.LOCKSCREEN",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/lockscreen/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/lockscreen/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/lockscreen/cover",parentId:3}]},{id:9,label:"MENUITEMS.AUTHENTICATION.LIST.LOGOUT",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/logout/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/logout/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/logout/cover",parentId:3}]},{id:10,label:"MENUITEMS.AUTHENTICATION.LIST.SUCCESSMESSAGE",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/success-msg/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/success-msg/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/success-msg/cover",parentId:3}]},{id:11,label:"MENUITEMS.AUTHENTICATION.LIST.TWOSTEPVERIFICATION",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC",link:"/auth/twostep/basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.BASIC2",link:"/auth/twostep/basic2",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.COVER",link:"/auth/twostep/cover",parentId:3}]},{id:12,label:"MENUITEMS.AUTHENTICATION.LIST.ERRORS",parentId:3,subItems:[{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.404BASIC",link:"/auth/error/404-basic",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.404COVER",link:"/auth/error/404-cover",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.404ALT",link:"/auth/error/404-alt",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.500",link:"/auth/error/500",parentId:3},{id:5,label:"MENUITEMS.AUTHENTICATION.LIST.OFFLINE",link:"/auth/error/offline",parentId:3}]}]},{id:26,label:"MENUITEMS.EXTRAPAGES.TEXT",icon:"bi bi-journal-medical",collapseid:"extrapages",subItems:[{id:27,label:"MENUITEMS.EXTRAPAGES.LIST.STARTER",link:"/pages/starter",parentId:26},{id:28,label:"MENUITEMS.EXTRAPAGES.LIST.PROFILE",parentId:26,subItems:[{id:27,label:"MENUITEMS.EXTRAPAGES.LIST.SIMPLEPAGE",link:"/pages/profile",parentId:26},{id:27,label:"MENUITEMS.EXTRAPAGES.LIST.SETTINGS",link:"/pages/settings",parentId:26}]},{id:29,label:"MENUITEMS.EXTRAPAGES.LIST.TEAM",link:"/pages/team",parentId:26},{id:30,label:"MENUITEMS.EXTRAPAGES.LIST.TIMELINE",link:"/pages/timeline",parentId:26},{id:31,label:"MENUITEMS.EXTRAPAGES.LIST.FAQS",link:"/pages/faqs",parentId:26},{id:32,label:"MENUITEMS.EXTRAPAGES.LIST.PRICING",link:"/pages/pricing",parentId:26},{id:33,label:"MENUITEMS.EXTRAPAGES.LIST.MAINTENANCE",link:"/pages/maintenance",parentId:26},{id:33,label:"MENUITEMS.EXTRAPAGES.LIST.COMINGSOON",link:"/pages/coming-soon",parentId:26},{id:33,label:"MENUITEMS.EXTRAPAGES.LIST.SITEMAP",link:"/pages/sitemap",parentId:26},{id:33,label:"MENUITEMS.EXTRAPAGES.LIST.SEARCHRESULTS",link:"/pages/search-results",parentId:26}]},{id:34,label:"MENUITEMS.WIDGETS.TEXT",icon:"bi bi-hdd-stack",link:"/widgets"},{id:52,label:"MENUITEMS.APPS.TEXT",isTitle:!0},{id:52,label:"MENUITEMS.APPS.LIST.CALENDAR",icon:"bi bi-calendar3",link:"/apps/calendar"},{id:56,label:"MENUITEMS.APPS.LIST.APIKEY",icon:"bi bi-key",link:"/apps/api-key"},{id:73,label:"MENUITEMS.APPS.LIST.CONTACTS",icon:"bi bi-person-square",link:"/apps/contact"},{id:79,label:"MENUITEMS.APPS.LIST.LEADERBOEARD",icon:"bi bi-gem",link:"/apps/leaderboards"},{id:83,label:"MENUITEMS.MULTILEVEL.TEXT",icon:"bi bi-share",collapseid:"multilevel",subItems:[{id:84,label:"MENUITEMS.MULTILEVEL.LIST.LEVEL1.1",parentId:83},{id:85,label:"MENUITEMS.MULTILEVEL.LIST.LEVEL1.2",parentId:83,subItems:[{id:86,label:"MENUITEMS.MULTILEVEL.LIST.LEVEL1.LEVEL2.1",parentId:85},{id:87,label:"MENUITEMS.MULTILEVEL.LIST.LEVEL1.LEVEL2.2",parentId:85,subItems:[{id:76,label:"MENUITEMS.MULTILEVEL.LIST.LEVEL1.LEVEL2.LEVEL3.1",parentId:87},{id:76,label:"MENUITEMS.MULTILEVEL.LIST.LEVEL1.LEVEL2.LEVEL3.2",parentId:87}]}]}]}],Tc=["sideMenu"];function Ls(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",36),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(3);return c.KtG(j.toggleItem(A))}),c._UZ(1,"i",37),c.TgZ(2,"span",38),c._uU(3),c.ALo(4,"translate"),c.qZA()()}if(2&y){const d=c.oxw(2).$implicit;c.uIk("subitems",d.collapseid),c.xp6(1),c.Tol(d.icon),c.xp6(2),c.Oqu(c.lcZ(4,5,d.label))}}function Sc(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",39),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(3);return c.KtG(j.toggleParentItem(A))}),c._UZ(1,"i",37),c.TgZ(2,"span",40),c._uU(3),c.ALo(4,"translate"),c.qZA()()}if(2&y){const d=c.oxw(2).$implicit;c.Q6J("routerLink",d.link),c.uIk("subitems",d.collapseid),c.xp6(1),c.Tol(d.icon),c.xp6(2),c.Oqu(c.lcZ(4,6,d.label))}}function qu(y,p){if(1&y&&(c.TgZ(0,"li"),c.YNc(1,Ls,5,7,"a",34),c.YNc(2,Sc,5,8,"a",35),c.qZA()),2&y){const d=c.oxw().$implicit,m=c.oxw();c.xp6(1),c.Q6J("ngIf",m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",!m.hasItems(d))}}function cf(y,p){if(1&y&&(c.ynx(0),c.YNc(1,qu,3,2,"li",33),c.BQk()),2&y){const d=p.$implicit;c.xp6(1),c.Q6J("ngIf",!d.isTitle&&!d.isLayout)}}function ds(y,p){if(1&y&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&y){const d=c.oxw(2).$implicit;c.Gre("badge badge-pill ",d.badge.variant,""),c.xp6(1),c.Oqu(c.lcZ(2,4,d.badge.text))}}function Cc(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",48),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(4);return c.KtG(j.updateActive(A))}),c._uU(1),c.ALo(2,"translate"),c.YNc(3,ds,3,6,"span",49),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.Q6J("routerLink",d.link),c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(2,4,d.label)," "),c.xp6(2),c.Q6J("ngIf",d.badge)}}function Vd(y,p){if(1&y&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&y){const d=c.oxw(2).$implicit;c.Gre("badge badge-pill ",d.badge.variant,""),c.xp6(1),c.Oqu(c.lcZ(2,4,d.badge.text))}}function sg(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",50),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(4);return c.KtG(j.toggleSubItem(A))}),c._uU(1),c.ALo(2,"translate"),c.YNc(3,Vd,3,6,"span",49),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.uIk("aria-expanded",!1)("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(2,4,d.label)," "),c.xp6(2),c.Q6J("ngIf",d.badge)}}function df(y,p){if(1&y&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&y){const d=c.oxw(2).$implicit;c.Gre("badge badge-pill ",d.badge.variant,""),c.xp6(1),c.Oqu(c.lcZ(2,4,d.badge.text))}}function hf(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",48),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(6);return c.KtG(j.updateActive(A))}),c._uU(1),c.ALo(2,"translate"),c.YNc(3,df,3,6,"span",49),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.Q6J("routerLink",d.link),c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(2,4,d.label)," "),c.xp6(2),c.Q6J("ngIf",d.badge)}}function ff(y,p){if(1&y&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&y){const d=c.oxw(2).$implicit;c.Gre("badge badge-pill ",d.badge.variant,""),c.xp6(1),c.Oqu(c.lcZ(2,4,d.badge.text))}}function og(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",55),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(6);return c.KtG(j.toggleExtraSubItem(A))}),c._uU(1),c.ALo(2,"translate"),c.YNc(3,ff,3,6,"span",49),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(2,3,d.label)," "),c.xp6(2),c.Q6J("ngIf",d.badge)}}function pf(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"li",41)(1,"a",48),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(8);return c.KtG(j.updateActive(A))}),c._uU(2),c.ALo(3,"translate"),c.qZA()()}if(2&y){const d=p.$implicit;c.xp6(1),c.Q6J("routerLink",d.link),c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(3,3,d.label)," ")}}function ag(y,p){if(1&y&&(c.TgZ(0,"ul",44),c.YNc(1,pf,4,5,"li",28),c.qZA()),2&y){const d=c.oxw(2).$implicit;c.xp6(1),c.Q6J("ngForOf",d.subItems)}}function gf(y,p){if(1&y&&(c.TgZ(0,"div",56),c.YNc(1,ag,2,1,"ul",43),c.qZA()),2&y){const d=c.oxw().$implicit,m=c.oxw(5);c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function bv(y,p){if(1&y&&(c.TgZ(0,"li",41),c.YNc(1,hf,4,6,"a",45),c.YNc(2,og,4,5,"a",53),c.YNc(3,gf,2,1,"div",54),c.qZA()),2&y){const d=p.$implicit,m=c.oxw(5);c.xp6(1),c.Q6J("ngIf",!m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function mf(y,p){if(1&y&&(c.TgZ(0,"div",51)(1,"ul",52),c.YNc(2,bv,4,3,"li",28),c.qZA()()),2&y){const d=c.oxw().$implicit,m=c.oxw(2).$implicit;c.s9C("id",m.collapseid),c.xp6(2),c.Q6J("ngForOf",d.subItems)}}function Ac(y,p){if(1&y&&(c.TgZ(0,"li",41),c.YNc(1,Cc,4,6,"a",45),c.YNc(2,sg,4,6,"a",46),c.YNc(3,mf,3,2,"div",47),c.qZA()),2&y){const d=p.$implicit,m=c.oxw(3);c.xp6(1),c.Q6J("ngIf",!m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function Iv(y,p){if(1&y&&(c.TgZ(0,"ul",44),c.YNc(1,Ac,4,3,"li",28),c.qZA()),2&y){const d=c.oxw().$implicit;c.xp6(1),c.Q6J("ngForOf",d.subItems)}}function Dc(y,p){if(1&y&&(c.TgZ(0,"li",41),c.ynx(1),c.TgZ(2,"div",42),c.ALo(3,"translate"),c.YNc(4,Iv,2,1,"ul",43),c.qZA(),c.BQk(),c.qZA()),2&y){const d=p.$implicit,m=c.oxw();c.xp6(2),c.s9C("id",d.collapseid),c.uIk("data-name",c.lcZ(3,3,d.label)),c.xp6(2),c.Q6J("ngIf",m.hasItems(d))}}function vf(y,p){if(1&y&&(c.TgZ(0,"li",26)(1,"span"),c._uU(2),c.ALo(3,"translate"),c.qZA()()),2&y){const d=c.oxw().$implicit;c.xp6(2),c.Oqu(c.lcZ(3,1,d.label))}}function Tv(y,p){if(1&y&&(c.TgZ(0,"span",64),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&y){const d=c.oxw(3).$implicit;c.xp6(1),c.Oqu(c.lcZ(2,1,d.badge))}}const xc=function(y,p){return{"has-arrow":y,"has-dropdown":p}};function yf(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",62),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(3);return c.KtG(j.toggleItem(A))}),c._UZ(1,"i"),c.TgZ(2,"span"),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.YNc(5,Tv,3,3,"span",63),c.qZA()}if(2&y){const d=c.oxw(2).$implicit;c.Q6J("ngClass",c.WLB(8,xc,!d.badge,d.badge)),c.xp6(1),c.Tol(d.icon),c.xp6(2),c.hij(" ",c.lcZ(4,6,d.label),""),c.xp6(2),c.Q6J("ngIf",d.badge)}}function jd(y,p){if(1&y&&c._UZ(0,"i",37),2&y){const d=c.oxw(3).$implicit;c.Gre("bx ",d.icon," icon nav-icon")}}function Dl(y,p){if(1&y&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&y){const d=c.oxw(3).$implicit;c.Gre("badge badge-pill ",d.badge.variant,""),c.xp6(1),c.Oqu(c.lcZ(2,4,d.badge.text))}}function Mc(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",65),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(3);return c.KtG(j.toggleParentItem(A))}),c.YNc(1,jd,1,3,"i",66),c.TgZ(2,"span",37),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.YNc(5,Dl,3,6,"span",49),c.qZA()}if(2&y){const d=c.oxw(2).$implicit;c.Q6J("routerLink",d.link),c.xp6(1),c.Q6J("ngIf",d.icon),c.xp6(2),c.hij(" ",c.lcZ(4,4,d.label),""),c.xp6(2),c.Q6J("ngIf",d.badge)}}function ug(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",48),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(6);return c.KtG(j.updateActive(A))}),c._uU(1),c.ALo(2,"translate"),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.Q6J("routerLink",d.link),c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(2,3,d.label)," ")}}function _f(y,p){if(1&y&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&y){const d=c.oxw(2).$implicit;c.Gre("badge badge-pill ",d.badge.variant,""),c.xp6(1),c.Oqu(c.lcZ(2,4,d.badge.text))}}function wf(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",55),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(6);return c.KtG(j.toggleSubItem(A))}),c._uU(1),c.ALo(2,"translate"),c.YNc(3,_f,3,6,"span",49),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(2,3,d.label)," "),c.xp6(2),c.Q6J("ngIf",d.badge)}}function Ef(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",48),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(9);return c.KtG(j.updateActive(A))}),c._uU(1),c.ALo(2,"translate"),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.Q6J("routerLink",d.link),c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(2,3,d.label)," ")}}function Sv(y,p){if(1&y&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"translate"),c.qZA()),2&y){const d=c.oxw(2).$implicit;c.Gre("badge badge-pill ",d.badge.variant,""),c.xp6(1),c.Oqu(c.lcZ(2,4,d.badge.text))}}function bf(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"a",55),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(9);return c.KtG(j.toggleExtraSubItem(A))}),c._uU(1),c.ALo(2,"translate"),c.YNc(3,Sv,3,6,"span",49),c.qZA()}if(2&y){const d=c.oxw().$implicit;c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(2,3,d.label)," "),c.xp6(2),c.Q6J("ngIf",d.badge)}}function Cv(y,p){if(1&y){const d=c.EpF();c.TgZ(0,"li",41)(1,"a",48),c.NdJ("click",function(A){c.CHM(d);const j=c.oxw(11);return c.KtG(j.updateActive(A))}),c._uU(2),c.ALo(3,"translate"),c.qZA()()}if(2&y){const d=p.$implicit;c.xp6(1),c.Q6J("routerLink",d.link),c.uIk("data-parent",d.parentId),c.xp6(1),c.hij(" ",c.lcZ(3,3,d.label)," ")}}function Av(y,p){if(1&y&&(c.TgZ(0,"ul",44),c.YNc(1,Cv,4,5,"li",28),c.qZA()),2&y){const d=c.oxw(2).$implicit;c.xp6(1),c.Q6J("ngForOf",d.subItems)}}function lg(y,p){if(1&y&&(c.TgZ(0,"div",56),c.YNc(1,Av,2,1,"ul",43),c.qZA()),2&y){const d=c.oxw().$implicit,m=c.oxw(8);c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function Hd(y,p){if(1&y&&(c.TgZ(0,"li",41),c.YNc(1,Ef,3,5,"a",45),c.YNc(2,bf,4,5,"a",53),c.YNc(3,lg,2,1,"div",54),c.qZA()),2&y){const d=p.$implicit,m=c.oxw(8);c.xp6(1),c.Q6J("ngIf",!m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function If(y,p){if(1&y&&(c.TgZ(0,"ul",44),c.YNc(1,Hd,4,3,"li",28),c.qZA()),2&y){const d=c.oxw(2).$implicit;c.xp6(1),c.Q6J("ngForOf",d.subItems)}}function Yu(y,p){if(1&y&&(c.TgZ(0,"div",69),c.YNc(1,If,2,1,"ul",43),c.qZA()),2&y){const d=c.oxw().$implicit,m=c.oxw(5);c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function $d(y,p){if(1&y&&(c.TgZ(0,"li",41),c.YNc(1,ug,3,5,"a",45),c.YNc(2,wf,4,5,"a",53),c.YNc(3,Yu,2,1,"div",68),c.qZA()),2&y){const d=p.$implicit,m=c.oxw(5);c.xp6(1),c.Q6J("ngIf",!m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function Dv(y,p){if(1&y&&(c.TgZ(0,"ul",44),c.YNc(1,$d,4,3,"li",28),c.qZA()),2&y){const d=c.oxw(3).$implicit;c.xp6(1),c.Q6J("ngForOf",d.subItems)}}function xv(y,p){if(1&y&&(c.TgZ(0,"div",67),c.YNc(1,Dv,2,1,"ul",43),c.qZA()),2&y){const d=c.oxw(2).$implicit,m=c.oxw();c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function cg(y,p){if(1&y&&(c.TgZ(0,"li",41),c.YNc(1,yf,6,11,"a",59),c.YNc(2,Mc,6,6,"a",60),c.YNc(3,xv,2,1,"div",61),c.qZA()),2&y){const d=c.oxw().$implicit,m=c.oxw();c.xp6(1),c.Q6J("ngIf",m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",!m.hasItems(d)),c.xp6(1),c.Q6J("ngIf",m.hasItems(d))}}function dg(y,p){if(1&y&&(c.ynx(0),c.TgZ(1,"div"),c._uU(2,"hjhgh"),c.qZA(),c.YNc(3,vf,4,3,"li",57),c.YNc(4,cg,4,3,"li",58),c.BQk()),2&y){const d=p.$implicit;c.xp6(3),c.Q6J("ngIf",d.isTitle),c.xp6(1),c.Q6J("ngIf",!d.isTitle&&!d.isLayout)}}let Qu=(()=>{class y{constructor(d){this.translate=d,this.toggle=!0,this.menuItems=[],this.mobileMenuButtonClicked=new c.vpe,d.setDefaultLang("en")}ngOnInit(){this.menuItems=lf}ngAfterViewInit(){setTimeout(()=>{this.initActiveMenu()},0)}toggleSubItem(d){let m=d.target.closest("a.nav-link"),A=m.nextElementSibling;A.classList.contains("show")?(A.classList.remove("show"),m.setAttribute("aria-expanded","false")):(Array.from(document.querySelectorAll(".menu-dropdown .show")).forEach(we=>{we.classList.remove("show")}),Array.from(document.querySelectorAll(".menu-dropdown .nav-link")).forEach(we=>{we.setAttribute("aria-expanded","false")}),d.target&&d.target.nextElementSibling&&(m.setAttribute("aria-expanded","true"),d.target.nextElementSibling.classList.toggle("show")))}toggleExtraSubItem(d){let m=d.target.closest("a.nav-link");Array.from(document.querySelectorAll(".extra-sub-menu")).forEach(we=>{we.classList.remove("show")}),Array.from(document.querySelectorAll(".menu-dropdown .nav-link")).forEach(we=>{we.setAttribute("aria-expanded","false")}),d.target&&d.target.nextElementSibling&&(m.setAttribute("aria-expanded","true"),d.target.nextElementSibling.classList.toggle("show"))}updateActive(d){const m=document.getElementById("navbar-nav");if(m){const A=Array.from(m.querySelectorAll("a.nav-link.active"));this.removeActivation(A)}this.activateParentDropdown(d.target)}toggleParentItem(d){let m=d.target.getAttribute("subitems"),A=document.getElementById(m);Array.from(document.querySelectorAll("#navbar-nav .show")).forEach(we=>{we.classList.remove("show")}),A&&A.classList.add("show");const fe=document.getElementById("two-column-menu");fe&&Array.from(fe.getElementsByTagName("a")).filter(ct=>ct.classList.contains("active")).forEach(ct=>{ct.classList.remove("active")}),d.target.classList.add("active"),document.body.classList.add("twocolumn-panel")}toggleItem(d){let m=d.target.getAttribute("subitems"),A=document.getElementById(m);Array.from(document.querySelectorAll("#navbar-nav .show")).forEach(we=>{we.classList.remove("show")}),A&&A.classList.add("show");const fe=document.getElementById("two-column-menu");fe&&Array.from(fe.getElementsByTagName("a")).filter(ct=>ct.classList.contains("active")).forEach(ct=>{ct.classList.remove("active")}),d.target.classList.add("active"),document.body.classList.remove("twocolumn-panel")}removeActivation(d){d.forEach(m=>{m.classList.contains("menu-link")&&(m.classList.contains("active")||m.setAttribute("aria-expanded",!1),m.nextElementSibling.classList.remove("show")),m.classList.contains("nav-link")&&(m.nextElementSibling&&m.nextElementSibling.classList.remove("show"),m.setAttribute("aria-expanded",!1)),m.classList.remove("active")})}activateIconSidebarActive(d){var m=document.querySelector("#two-column-menu .simplebar-content-wrapper a[subitems='"+d+"'].nav-icon");null!==m&&m.classList.add("active")}activateParentDropdown(d){d.classList.add("active");let m=d.closest(".collapse.menu-dropdown");return m&&(m.classList.add("show"),m.parentElement.children[0].classList.add("active"),m.parentElement.children[0].setAttribute("aria-expanded","true"),m.parentElement.closest(".collapse.menu-dropdown")&&(m.parentElement.closest(".collapse").classList.add("show"),m.parentElement.closest(".collapse").previousElementSibling&&m.parentElement.closest(".collapse").previousElementSibling.classList.add("active")),this.activateIconSidebarActive(m.getAttribute("id"))),!1}initActiveMenu(){const d=window.location.pathname;let A=Array.from(document.querySelectorAll(".twocolumn-iconview li a")).find(we=>we.pathname===d);A&&this.activateParentDropdown(A);const j=document.getElementById("navbar-nav");if(j){const we=Array.from(j.querySelectorAll("a.nav-link"));let Xe=we.filter(Ut=>Ut.classList.contains("active"));this.removeActivation(Xe);let ct=we.find(Ut=>Ut.pathname===d);if(ct)this.activateParentDropdown(ct);else{var fe=d.replace("/","");fe&&document.body.classList.add("twocolumn-panel"),this.activateIconSidebarActive(fe)}}}hasItems(d){return void 0!==d.subItems&&d.subItems.length>0}static#e=this.\u0275fac=function(m){return new(m||y)(c.Y36(ts))};static#t=this.\u0275cmp=c.Xpm({type:y,selectors:[["app-two-column-sidebar"]],viewQuery:function(m,A){if(1&m&&c.Gf(Tc,5),2&m){let j;c.iGM(j=c.CRH())&&(A.sideMenu=j.first)}},outputs:{mobileMenuButtonClicked:"mobileMenuButtonClicked"},decls:42,vars:3,consts:[[1,"app-menu","navbar-menu"],[1,"navbar-brand-box"],["routerLink","/",1,"logo","logo-dark"],[1,"logo-sm"],["src","../assets/images/logo-sm.png","alt","","height","26"],[1,"logo-lg"],["src","../assets/images/logo-dark.png","alt","","height","26"],["routerLink","/",1,"logo","logo-light"],["src","../assets/images/logo-sm.png","alt","","height","24"],["src","../assets/images/logo-light.png","alt","","height","24"],["type","button","id","vertical-hover",1,"btn","btn-sm","p-0","fs-20","header-item","float-end","btn-vertical-sm-hover"],[1,"ri-record-circle-line"],[1,"container-fluid"],["id","two-column-menu"],["data-simplebar","init",1,"twocolumn-iconview"],[1,"simplebar-wrapper",2,"margin","0px"],[1,"simplebar-mask"],[1,"simplebar-offset",2,"right","0px","bottom","0px"],["tabindex","0","role","region","aria-label","scrollable content",1,"simplebar-content-wrapper",2,"height","100%","overflow","hidden scroll"],[1,"simplebar-content",2,"padding","0px"],["href","javascript:void(0);",1,"logo"],["src","assets/images/logo-sm.png","alt","","height","22"],[4,"ngFor","ngForOf"],["id","navbar-nav","data-simplebar","init",1,"navbar-nav"],[1,"simplebar-height-auto-observer-wrapper"],[1,"simplebar-height-auto-observer"],[1,"menu-title"],["data-key","t-menu"],["class","nav-item",4,"ngFor","ngForOf"],[1,"simplebar-placeholder",2,"width","auto","height","183px"],["id","navbar-nav",1,"navbar-nav"],[1,"sidebar-background"],[1,"vertical-overlay"],[4,"ngIf"],["href","javascript:void(0);","class","nav-icon",3,"click",4,"ngIf"],["class","nav-icon",3,"routerLink","click",4,"ngIf"],["href","javascript:void(0);",1,"nav-icon",3,"click"],[1,""],["data-key","t-dashboards",1,"d-none"],[1,"nav-icon",3,"routerLink","click"],["data-key","t-widget",1,"d-none"],[1,"nav-item"],["aria-expanded","true",1,"collapse","menu-dropdown",3,"id"],["class","nav nav-sm flex-column","aria-expanded","false",4,"ngIf"],["aria-expanded","false",1,"nav","nav-sm","flex-column"],["class","nav-link",3,"routerLink","click",4,"ngIf"],["class","nav-link ecomm","data-bs-toggle","collapse","href","javascript:void(0);",3,"click",4,"ngIf"],["class","collapse menu-dropdown sub-menu",3,"id",4,"ngIf"],[1,"nav-link",3,"routerLink","click"],[3,"class",4,"ngIf"],["data-bs-toggle","collapse","href","javascript:void(0);",1,"nav-link","ecomm",3,"click"],[1,"collapse","menu-dropdown","sub-menu",3,"id"],[1,"nav","nav-sm","flex-column"],["class","nav-link","href","javascript:void(0);","data-bs-toggle","collapse","aria-expanded","false",3,"click",4,"ngIf"],["class","collapse menu-dropdown extra-sub-menu",4,"ngIf"],["href","javascript:void(0);","data-bs-toggle","collapse","aria-expanded","false",1,"nav-link",3,"click"],[1,"collapse","menu-dropdown","extra-sub-menu"],["class","menu-title",4,"ngIf"],["class","nav-item",4,"ngIf"],["href","javascript:void(0);","class","nav-link menu-link","data-bs-toggle","collapse","aria-expanded","false",3,"ngClass","click",4,"ngIf"],["class","side-nav-link-ref nav-link menu-link",3,"routerLink","click",4,"ngIf"],["class","collapse menu-dropdown mega-dropdown-menu",4,"ngIf"],["href","javascript:void(0);","data-bs-toggle","collapse","aria-expanded","false",1,"nav-link","menu-link",3,"ngClass","click"],["class","badge badge-pill bg-danger",4,"ngIf"],[1,"badge","badge-pill","bg-danger"],[1,"side-nav-link-ref","nav-link","menu-link",3,"routerLink","click"],["class","",3,"class",4,"ngIf"],[1,"collapse","menu-dropdown","mega-dropdown-menu"],["class","collapse menu-dropdown sub-menu",4,"ngIf"],[1,"collapse","menu-dropdown","sub-menu"]],template:function(m,A){1&m&&(c.TgZ(0,"div",0)(1,"div",1)(2,"a",2)(3,"span",3),c._UZ(4,"img",4),c.qZA(),c.TgZ(5,"span",5),c._UZ(6,"img",6),c.qZA()(),c.TgZ(7,"a",7)(8,"span",3),c._UZ(9,"img",8),c.qZA(),c.TgZ(10,"span",5),c._UZ(11,"img",9),c.qZA()(),c.TgZ(12,"button",10),c._UZ(13,"i",11),c.qZA()(),c.TgZ(14,"div",12)(15,"div",13)(16,"ul",14)(17,"div",15)(18,"div",16)(19,"div",17)(20,"div",18)(21,"div",19)(22,"a",20),c._UZ(23,"img",21),c.qZA(),c.YNc(24,cf,2,1,"ng-container",22),c.qZA()()()()()()(),c.TgZ(25,"ul",23)(26,"div",15)(27,"div",24),c._UZ(28,"div",25),c.qZA(),c.TgZ(29,"div",16)(30,"div",17)(31,"div",18)(32,"div",19)(33,"li",26)(34,"span",27),c._uU(35,"Menu"),c.qZA()(),c.YNc(36,Dc,5,5,"li",28),c.qZA()()()(),c._UZ(37,"div",29),c.qZA()(),c.TgZ(38,"ul",30),c.YNc(39,dg,5,2,"ng-container",22),c.qZA()(),c._UZ(40,"div",31),c.qZA(),c._UZ(41,"div",32)),2&m&&(c.xp6(24),c.Q6J("ngForOf",A.menuItems),c.xp6(12),c.Q6J("ngForOf",A.menuItems),c.xp6(3),c.Q6J("ngForOf",A.menuItems))},dependencies:[Xt.mk,Xt.sg,Xt.O5,dn.rH,bl]})}return y})(),Mv=(()=>{class y{constructor(){this.isCondensed=!1}ngOnInit(){document.documentElement.setAttribute("data-layout","twocolumn"),document.documentElement.setAttribute("data-topbar","light"),document.documentElement.setAttribute("data-sidebar","light"),document.documentElement.setAttribute("data-sidebar-size","lg"),document.documentElement.setAttribute("data-layout-style","default"),document.documentElement.setAttribute("data-layout-mode","light"),document.documentElement.setAttribute("data-layout-width","fluid"),document.documentElement.setAttribute("data-layout-position","fixed"),document.documentElement.setAttribute("data-preloader","disable"),window.addEventListener("resize",function(){"twocolumn"==document.documentElement.getAttribute("data-layout")&&(document.documentElement.clientWidth<=767?(document.documentElement.setAttribute("data-layout","vertical"),document.getElementById("side-bar")?.classList.remove("d-none")):(document.documentElement.setAttribute("data-layout","twocolumn"),document.getElementById("side-bar")?.classList.add("d-none")))})}onToggleMobileMenu(){document.documentElement.clientWidth<=767?document.body.classList.toggle("vertical-sidebar-enable"):document.body.classList.toggle("twocolumn-panel")}onSettingsButtonClicked(){document.body.classList.toggle("right-bar-enabled");const d=document.getElementById("theme-settings-offcanvas");null!=d&&(d.classList.toggle("show"),d.setAttribute("style","visibility: visible;"))}static#e=this.\u0275fac=function(m){return new(m||y)};static#t=this.\u0275cmp=c.Xpm({type:y,selectors:[["app-two-column"]],decls:8,vars:0,consts:[["id","layout-wrapper"],[3,"mobileMenuButtonClicked"],["id","side-bar",1,"d-none"],[1,"main-content"],[1,"page-content"],[1,"container-fluid"]],template:function(m,A){1&m&&(c.TgZ(0,"div",0)(1,"app-topbar",1),c.NdJ("mobileMenuButtonClicked",function(){return A.onToggleMobileMenu()}),c.qZA(),c._UZ(2,"app-two-column-sidebar")(3,"app-sidebar",2),c.TgZ(4,"div",3)(5,"div",4)(6,"div",5),c._UZ(7,"router-outlet"),c.qZA()()()())},dependencies:[dn.lC,Md,Pd,Qu]})}return y})();function Nv(y,p){1&y&&c._UZ(0,"app-vertical")}function Rv(y,p){1&y&&c._UZ(0,"app-horizontal")}function P0(y,p){1&y&&c._UZ(0,"app-two-column")}const k0=[{path:"",component:(()=>{class y{constructor(d){this.eventService=d}ngOnInit(){this.layoutType=Rn,this.layoutwidth="fluid",this.layoutposition="fixed",this.sidebarcolor="light",this.sidebarsize="lg",this.topbar="light",this.LayoutMode(this.layoutTheme),this.LayoutWidth(this.layoutwidth),this.LayoutPosition(this.layoutposition),this.Topbar(this.topbar),this.SidebarColor(this.sidebarcolor),this.SidebarSize(this.sidebarsize),this.eventService.subscribe("changeLayout",d=>{this.layoutType=d}),this.eventService.subscribe("changeMode",d=>{this.layoutTheme=d,this.LayoutMode(this.layoutTheme)}),this.eventService.subscribe("changeWidth",d=>{this.layoutwidth=d,this.LayoutWidth(this.layoutwidth)}),this.eventService.subscribe("changePosition",d=>{this.layoutposition=d,this.LayoutPosition(this.layoutposition)}),this.eventService.subscribe("changeTopbar",d=>{this.topbar=d,this.Topbar(this.topbar)}),this.eventService.subscribe("changeSidebarColor",d=>{this.sidebarcolor=d,this.SidebarColor(this.sidebarcolor)}),this.eventService.subscribe("changeSidebarSize",d=>{this.sidebarsize=d,this.SidebarSize(this.sidebarsize)})}isVerticalLayoutRequested(){return this.layoutType===Rn}isHorizontalLayoutRequested(){return"horizontal"===this.layoutType}isTwoColumnLayoutRequested(){return"twocolumn"===this.layoutType}LayoutMode(d){switch(d){case"light":document.body.setAttribute("data-layout-mode","light"),document.body.setAttribute("data-topbar","light"),document.body.setAttribute("data-sidebar","light");break;case"dark":document.body.setAttribute("data-sidebar","dark"),document.body.setAttribute("data-layout-mode","dark"),document.body.setAttribute("data-topbar","dark");break;default:document.body.setAttribute("data-layout-mode","light"),document.body.setAttribute("data-topbar","light")}}LayoutWidth(d){switch(d){case"light":document.body.setAttribute("data-layout-size","fluid");break;case"boxed":document.body.setAttribute("data-layout-size","boxed");break;default:document.body.setAttribute("data-layout-size","light")}}LayoutPosition(d){"fixed"===d?document.body.setAttribute("data-layout-scrollable","false"):document.body.setAttribute("data-layout-scrollable","true")}SidebarColor(d){switch(d){case"light":default:document.body.setAttribute("data-sidebar","light");break;case"dark":document.body.setAttribute("data-sidebar","dark");break;case"brand":document.body.setAttribute("data-sidebar","brand")}}Topbar(d){switch(d){case"light":default:document.body.setAttribute("data-topbar","light");break;case"dark":document.body.setAttribute("data-topbar","dark")}}SidebarSize(d){switch(d){case"default":default:document.body.setAttribute("data-sidebar-size","lg");break;case"compact":document.body.setAttribute("data-sidebar-size","md");break;case"small":document.body.setAttribute("data-sidebar-size","sm")}}static#e=this.\u0275fac=function(m){return new(m||y)(c.Y36(cc))};static#t=this.\u0275cmp=c.Xpm({type:y,selectors:[["app-layout"]],decls:3,vars:3,consts:[[4,"ngIf"]],template:function(m,A){1&m&&(c.YNc(0,Nv,1,0,"app-vertical",0),c.YNc(1,Rv,1,0,"app-horizontal",0),c.YNc(2,P0,1,0,"app-two-column",0)),2&m&&(c.Q6J("ngIf",A.isVerticalLayoutRequested()),c.xp6(1),c.Q6J("ngIf",A.isHorizontalLayoutRequested()),c.xp6(1),c.Q6J("ngIf",A.isTwoColumnLayoutRequested()))},dependencies:[Xt.O5,Jh,ig,Mv]})}return y})(),loadChildren:()=>Promise.all([P.e(6),P.e(946)]).then(P.bind(P,4946)).then(y=>y.PagesModule)},{path:"auth",loadChildren:()=>Promise.all([P.e(6),P.e(592),P.e(445)]).then(P.bind(P,2445)).then(y=>y.AuthModule)},{path:"pages",loadChildren:()=>P.e(873).then(P.bind(P,4873)).then(y=>y.ExtraspagesModule)}];let Ov=(()=>{class y{static#e=this.\u0275fac=function(m){return new(m||y)};static#t=this.\u0275mod=c.oAB({type:y});static#n=this.\u0275inj=c.cJS({imports:[dn.Bz.forRoot(k0,{scrollPositionRestoration:"top"}),dn.Bz]})}return y})();class Pv{constructor(p,d="/assets/i18n/",m=".json"){this.http=p,this.prefix=d,this.suffix=m}getTranslation(p){return this.http.get(`${this.prefix}${p}${this.suffix}`)}}var Tf=P(4766),Nc=P(8821),co=P(2843),xl=P(5577),zd=P(515);class sa{constructor(p,d,m){this.kind=p,this.value=d,this.error=m,this.hasValue="N"===p}observe(p){return Sf(this,p)}do(p,d,m){const{kind:A,value:j,error:fe}=this;return"N"===A?p?.(j):"E"===A?d?.(fe):m?.()}accept(p,d,m){var A;return(0,ci.m)(null===(A=p)||void 0===A?void 0:A.next)?this.observe(p):this.do(p,d,m)}toObservable(){const{kind:p,value:d,error:m}=this,A="N"===p?(0,ks.of)(d):"E"===p?(0,co._)(()=>m):"C"===p?zd.E:0;if(!A)throw new TypeError(`Unexpected notification kind ${p}`);return A}static createNext(p){return new sa("N",p)}static createError(p){return new sa("E",void 0,p)}static createComplete(){return sa.completeNotification}}function Sf(y,p){var d,m,A;const{kind:j,value:fe,error:we}=y;if("string"!=typeof j)throw new TypeError('Invalid notification, missing "kind"');"N"===j?null===(d=p.next)||void 0===d||d.call(p,fe):"E"===j?null===(m=p.error)||void 0===m||m.call(p,we):null===(A=p.complete)||void 0===A||A.call(p)}sa.completeNotification=new sa("C");var Wd=P(4482),Ml=P(5403),Gd=P(1005);let Rc=(()=>{class y{constructor(){}intercept(d,m){const A=JSON.parse(localStorage.getItem("users"))||[{username:"admin",email:"admin@themesbrand.com",password:"123456"}];return(0,ks.of)(null).pipe((0,xl.z)(()=>{if(d.url.endsWith("/users/authenticate")&&"POST"===d.method){const j=A.filter(fe=>fe.email===d.body.email&&fe.password===d.body.password);if(j.length){const fe=j[0];return(0,ks.of)(new hn.Zn({status:200,body:{id:fe.id,email:fe.email,username:fe.username,firstName:fe.firstName,lastName:fe.lastName,token:"fake-jwt-token"}}))}return(0,co._)({error:{message:"Username or password is incorrect"}})}if(d.url.endsWith("/users")&&"GET"===d.method)return"Bearer fake-jwt-token"===d.headers.get("Authorization")?(0,ks.of)(new hn.Zn({status:200,body:A})):(0,co._)({status:401,error:{message:"Unauthorised"}});if(d.url.match(/\/users\/\d+$/)&&"GET"===d.method){if("Bearer fake-jwt-token"===d.headers.get("Authorization")){const j=d.url.split("/"),fe=parseInt(j[j.length-1]),we=A.filter(ct=>ct.id===fe);return(0,ks.of)(new hn.Zn({status:200,body:we.length?we[0]:null}))}return(0,co._)({status:401,error:{message:"Unauthorised"}})}if(d.url.endsWith("/users/register")&&"POST"===d.method){const j=d.body;return A.filter(we=>we.username===j.username).length?(0,co._)({error:{message:'Username "'+j.username+'" is already taken'}}):(j.id=A.length+1,A.push(j),localStorage.setItem("users",JSON.stringify(A)),(0,ks.of)(new hn.Zn({status:200})))}if(d.url.match(/\/users\/\d+$/)&&"DELETE"===d.method){if("Bearer fake-jwt-token"===d.headers.get("Authorization")){const j=d.url.split("/"),fe=parseInt(j[j.length-1]);for(let we=0;we<A.length;we++)if(A[we].id===fe){A.splice(we,1),localStorage.setItem("users",JSON.stringify(A));break}return(0,ks.of)(new hn.Zn({status:200}))}return(0,co._)({status:401,error:{message:"Unauthorised"}})}return m.handle(d)})).pipe(function Cf(){return(0,Wd.e)((y,p)=>{y.subscribe((0,Ml.x)(p,d=>{p.next(sa.createNext(d))},()=>{p.next(sa.createComplete()),p.complete()},d=>{p.next(sa.createError(d)),p.complete()}))})}()).pipe((0,Gd.g)(500)).pipe(function Lv(){return(0,Wd.e)((y,p)=>{y.subscribe((0,Ml.x)(p,d=>Sf(d,p)))})}())}static#e=this.\u0275fac=function(m){return new(m||y)};static#t=this.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac})}return y})();var fg=P(262);let pg=(()=>{class y{constructor(d){this.authenticationService=d}intercept(d,m){return m.handle(d).pipe((0,fg.K)(A=>(401===A.status&&(this.authenticationService.logout(),location.reload()),(0,co._)(A.error.message||A.statusText))))}static#e=this.\u0275fac=function(m){return new(m||y)(c.LFG(Uu.$))};static#t=this.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac})}return y})();var gg=P(3527);let Kd=(()=>{class y{constructor(d,m){this.authenticationService=d,this.authfackservice=m}intercept(d,m){if("firebase"===Tf.N.defaultauth){let A=this.authenticationService.currentUser();A&&A.token&&(d=d.clone({setHeaders:{Authorization:`Bearer ${A.token}`}}))}else{const A=this.authfackservice.currentUserValue;A&&A.token&&(d=d.clone({setHeaders:{Authorization:`Bearer ${A.token}`}}))}return m.handle(d)}static#e=this.\u0275fac=function(m){return new(m||y)(c.LFG(Uu.$),c.LFG(gg.g))};static#t=this.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac})}return y})(),mg=(()=>{class y{constructor(){this.title="hybrix"}static#e=this.\u0275fac=function(m){return new(m||y)};static#t=this.\u0275cmp=c.Xpm({type:y,selectors:[["app-root"]],decls:1,vars:0,template:function(m,A){1&m&&c._UZ(0,"router-outlet")},dependencies:[dn.lC]})}return y})();var Za=P(7185),L0=P(3152);let Eu=(()=>{class y{constructor(d,m){this.document=d,this.platformId=m,this.documentIsAccessible=(0,Xt.NF)(this.platformId)}static getCookieRegExp(d){const m=d.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+m+"|;\\s*"+m+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(d){try{return decodeURIComponent(d)}catch{return d}}check(d){return!!this.documentIsAccessible&&(d=encodeURIComponent(d),y.getCookieRegExp(d).test(this.document.cookie))}get(d){if(this.documentIsAccessible&&this.check(d)){d=encodeURIComponent(d);const A=y.getCookieRegExp(d).exec(this.document.cookie);return A[1]?y.safeDecodeURIComponent(A[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const d={},m=this.document;return m.cookie&&""!==m.cookie&&m.cookie.split(";").forEach(A=>{const[j,fe]=A.split("=");d[y.safeDecodeURIComponent(j.replace(/^ /,""))]=y.safeDecodeURIComponent(fe)}),d}set(d,m,A,j,fe,we,Xe){if(!this.documentIsAccessible)return;if("number"==typeof A||A instanceof Date||j||fe||we||Xe)return void this.set(d,m,{expires:A,path:j,domain:fe,secure:we,sameSite:Xe||"Lax"});let ct=encodeURIComponent(d)+"="+encodeURIComponent(m)+";";const Ut=A||{};Ut.expires&&(ct+="number"==typeof Ut.expires?"expires="+new Date((new Date).getTime()+1e3*Ut.expires*60*60*24).toUTCString()+";":"expires="+Ut.expires.toUTCString()+";"),Ut.path&&(ct+="path="+Ut.path+";"),Ut.domain&&(ct+="domain="+Ut.domain+";"),!1===Ut.secure&&"None"===Ut.sameSite&&(Ut.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${d} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),Ut.secure&&(ct+="secure;"),Ut.sameSite||(Ut.sameSite="Lax"),ct+="sameSite="+Ut.sameSite+";",this.document.cookie=ct}delete(d,m,A,j,fe="Lax"){this.documentIsAccessible&&this.set(d,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:m,domain:A,secure:j,sameSite:fe})}deleteAll(d,m,A,j="Lax"){if(!this.documentIsAccessible)return;const fe=this.getAll();for(const we in fe)fe.hasOwnProperty(we)&&this.delete(we,d,m,A,j)}}return y.\u0275fac=function(d){return new(d||y)(c.LFG(Xt.K0),c.LFG(c.Lbi))},y.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),F0=(()=>{class y{constructor(d,m){let A;this.translate=d,this.cookieService=m,this.languages=["ar","ch","en","fr","gr","it","ru","sp"],this.translate.addLangs(this.languages),A=this.cookieService.check("lang")?this.cookieService.get("lang"):d.getBrowserLang(),d.use(A.match(/ar|ch|en|fr|gr|it|ru|sp/)?A:"en")}setLanguage(d){this.translate.use(d),this.cookieService.set("lang",d)}static#e=this.\u0275fac=function(m){return new(m||y)(c.LFG(ts),c.LFG(Eu))};static#t=this.\u0275prov=c.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var Fv=P(7224),Ju=P(3438);let Uv=(()=>{class y{static#e=this.\u0275fac=function(m){return new(m||y)};static#t=this.\u0275mod=c.oAB({type:y});static#n=this.\u0275inj=c.cJS({providers:[F0],imports:[Xt.ez,dn.Bz,Il,Fv.t,Br.mr.forRoot(),Gr.zk.forRoot(),Ju.RV,xd]})}return y})();function Oi(y){return new Pv(y,"assets/i18n/",".json")}"firebase"===Tf.N.defaultauth&&(0,Nc.C)(Tf.N.firebaseConfig);let Zd=(()=>{class y{static#e=this.\u0275fac=function(m){return new(m||y)};static#t=this.\u0275mod=c.oAB({type:y,bootstrap:[mg]});static#n=this.\u0275inj=c.cJS({providers:[{provide:hn.TP,useClass:Kd,multi:!0},{provide:hn.TP,useClass:pg,multi:!0},{provide:hn.TP,useClass:Rc,multi:!0},L0.a],imports:[Il.forRoot({defaultLanguage:"en",loader:{provide:O,useFactory:Oi,deps:[hn.eN]}}),hn.JF,H.b2,Ov,Uv,Kt,Za.Rh.forRoot()]})}return y})();H.q6().bootstrapModule(Zd).catch(y=>console.error(y)),window.global=window},6075:(Mt,Ae,P)=>{"use strict";P.d(Ae,{g:()=>ja});var v=function(U,b){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,C){M.__proto__=C}||function(M,C){for(var D in C)C.hasOwnProperty(D)&&(M[D]=C[D])})(U,b)};function H(U,b){function M(){this.constructor=U}v(U,b),U.prototype=null===b?Object.create(b):(M.prototype=b.prototype,new M)}var c=function(){return c=Object.assign||function(b){for(var M,C=1,D=arguments.length;C<D;C++)for(var k in M=arguments[C])Object.prototype.hasOwnProperty.call(M,k)&&(b[k]=M[k]);return b},c.apply(this,arguments)};function W(U,b,M,C){return new(M||(M=Promise))(function(k,q){function be(at){try{Ge(C.next(at))}catch(xt){q(xt)}}function Pe(at){try{Ge(C.throw(at))}catch(xt){q(xt)}}function Ge(at){at.done?k(at.value):function D(k){return k instanceof M?k:new M(function(q){q(k)})}(at.value).then(be,Pe)}Ge((C=C.apply(U,b||[])).next())})}function ae(U,b){var C,D,k,q,M={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return q={next:be(0),throw:be(1),return:be(2)},"function"==typeof Symbol&&(q[Symbol.iterator]=function(){return this}),q;function be(Ge){return function(at){return function Pe(Ge){if(C)throw new TypeError("Generator is already executing.");for(;M;)try{if(C=1,D&&(k=2&Ge[0]?D.return:Ge[0]?D.throw||((k=D.return)&&k.call(D),0):D.next)&&!(k=k.call(D,Ge[1])).done)return k;switch(D=0,k&&(Ge=[2&Ge[0],k.value]),Ge[0]){case 0:case 1:k=Ge;break;case 4:return M.label++,{value:Ge[1],done:!1};case 5:M.label++,D=Ge[1],Ge=[0];continue;case 7:Ge=M.ops.pop(),M.trys.pop();continue;default:if(!(k=(k=M.trys).length>0&&k[k.length-1])&&(6===Ge[0]||2===Ge[0])){M=0;continue}if(3===Ge[0]&&(!k||Ge[1]>k[0]&&Ge[1]<k[3])){M.label=Ge[1];break}if(6===Ge[0]&&M.label<k[1]){M.label=k[1],k=Ge;break}if(k&&M.label<k[2]){M.label=k[2],M.ops.push(Ge);break}k[2]&&M.ops.pop(),M.trys.pop();continue}Ge=b.call(U,M)}catch(at){Ge=[6,at],D=0}finally{C=k=0}if(5&Ge[0])throw Ge[1];return{value:Ge[0]?Ge[1]:void 0,done:!0}}([Ge,at])}}}function Me(U,b){var M="function"==typeof Symbol&&U[Symbol.iterator];if(!M)return U;var D,q,C=M.call(U),k=[];try{for(;(void 0===b||b-- >0)&&!(D=C.next()).done;)k.push(D.value)}catch(be){q={error:be}}finally{try{D&&!D.done&&(M=C.return)&&M.call(C)}finally{if(q)throw q.error}}return k}var Be=(()=>{return(U=Be||(Be={})).Cognito="COGNITO",U.Google="Google",U.Facebook="Facebook",U.Amazon="LoginWithAmazon",U.Apple="SignInWithApple",Be;var U})();function ge(U){return U&&!!["provider"].find(function(M){return U.hasOwnProperty(M)})}function Et(U){return void 0!==U.redirectSignIn}var ft=(()=>{return(U=ft||(ft={})).NoConfig="noConfig",U.MissingAuthConfig="missingAuthConfig",U.EmptyUsername="emptyUsername",U.InvalidUsername="invalidUsername",U.EmptyPassword="emptyPassword",U.EmptyCode="emptyCode",U.SignUpError="signUpError",U.NoMFA="noMFA",U.InvalidMFA="invalidMFA",U.EmptyChallengeResponse="emptyChallengeResponse",U.NoUserSession="noUserSession",U.Default="default",U.DeviceConfig="deviceConfig",U.NetworkError="networkError",U.AutoSignInError="autoSignInError",ft;var U})(),An=P(8624),an=P(281),Bt=P(7457),ye=P(6173),_e=P(7694),De=P(3555);function gt(U,b){void 0===b&&(b={});var M=function Yt(U){return U&&"j"===U[0]&&":"===U[1]?U.substr(2):U}(U);if(function Ne(U,b){return typeof b>"u"&&(b=!U||"{"!==U[0]&&"["!==U[0]&&'"'!==U[0]),!b}(M,b.doNotParse))try{return JSON.parse(M)}catch{}return U}var Wt=function(){return Wt=Object.assign||function(U){for(var b,M=1,C=arguments.length;M<C;M++)for(var D in b=arguments[M])Object.prototype.hasOwnProperty.call(b,D)&&(U[D]=b[D]);return U},Wt.apply(this,arguments)};const dt=function(){function U(b,M){var C=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function pe(U,b){return"string"==typeof U?De.Q(U,b):"object"==typeof U&&null!==U?U:{}}(b,M),new Promise(function(){C.HAS_DOCUMENT_COOKIE=function Te(){return"object"==typeof document&&"string"==typeof document.cookie}()}).catch(function(){})}return U.prototype._updateBrowserValues=function(b){this.HAS_DOCUMENT_COOKIE&&(this.cookies=De.Q(document.cookie,b))},U.prototype._emitChange=function(b){for(var M=0;M<this.changeListeners.length;++M)this.changeListeners[M](b)},U.prototype.get=function(b,M,C){return void 0===M&&(M={}),this._updateBrowserValues(C),gt(this.cookies[b],M)},U.prototype.getAll=function(b,M){void 0===b&&(b={}),this._updateBrowserValues(M);var C={};for(var D in this.cookies)C[D]=gt(this.cookies[D],b);return C},U.prototype.set=function(b,M,C){var D;"object"==typeof M&&(M=JSON.stringify(M)),this.cookies=Wt(Wt({},this.cookies),((D={})[b]=M,D)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=De.q(b,M,C)),this._emitChange({name:b,value:M,options:C})},U.prototype.remove=function(b,M){var C=M=Wt(Wt({},M),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Wt({},this.cookies),delete this.cookies[b],this.HAS_DOCUMENT_COOKIE&&(document.cookie=De.q(b,"",C)),this._emitChange({name:b,value:void 0,options:M})},U.prototype.addChangeListener=function(b){this.changeListeners.push(b)},U.prototype.removeChangeListener=function(b){var M=this.changeListeners.indexOf(b);M>=0&&this.changeListeners.splice(M,1)},U}();var rt,lt=P(7556),Oe=function(){return Oe=Object.assign||function(U){for(var b,M=1,C=arguments.length;M<C;M++)for(var D in b=arguments[M])Object.prototype.hasOwnProperty.call(b,D)&&(U[D]=b[D]);return U},Oe.apply(this,arguments)},At=(0,lt.lC)().isBrowser,yn=function(){function U(b){void 0===b&&(b={}),this.cookies=new dt,this.store=At?window.localStorage:Object.create(null),this.cookies=b.req?new dt(decodeURIComponent(b.req.headers.cookie)):new dt,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(U.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!1,configurable:!0}),U.prototype.clear=function(){var b=this;Array.from(new Array(this.length)).map(function(M,C){return b.key(C)}).forEach(function(M){return b.removeItem(M)})},U.prototype.getItem=function(b){return this.getLocalItem(b)},U.prototype.getLocalItem=function(b){return Object.prototype.hasOwnProperty.call(this.store,b)?this.store[b]:null},U.prototype.getUniversalItem=function(b){return this.cookies.get(b)},U.prototype.key=function(b){return Object.keys(this.store)[b]},U.prototype.removeItem=function(b){this.removeLocalItem(b),this.removeUniversalItem(b)},U.prototype.removeLocalItem=function(b){delete this.store[b]},U.prototype.removeUniversalItem=function(b){this.cookies.remove(b,{path:"/"})},U.prototype.setItem=function(b,M){this.setLocalItem(b,M);var C=b.split(".").pop();["LastAuthUser","accessToken","refreshToken","idToken"].includes(C??"")&&this.setUniversalItem(b,M,{expires:new Date(Date.now()+31536e6)})},U.prototype.setLocalItem=function(b,M){this.store[b]=M},U.prototype.setUniversalItem=function(b,M,C){void 0===C&&(C={}),this.cookies.set(b,M,Oe(Oe({},C),{path:"/",sameSite:!0,secure:!(At&&"localhost"===window.location.hostname)}))},U}(),tr=P(547),F=P(6699),te=function(){function U(M){var C=M||{},k=C.Username,q=C.Password,be=C.AuthParameters,Pe=C.ClientMetadata;this.validationData=C.ValidationData||{},this.authParameters=be||{},this.clientMetadata=Pe||{},this.username=k,this.password=q}var b=U.prototype;return b.getUsername=function(){return this.username},b.getPassword=function(){return this.password},b.getValidationData=function(){return this.validationData},b.getAuthParameters=function(){return this.authParameters},b.getClientMetadata=function(){return this.clientMetadata},U}(),Ce=P(3172);if(typeof window<"u"&&window.crypto&&(rt=window.crypto),!rt&&typeof window<"u"&&window.msCrypto&&(rt=window.msCrypto),!rt&&typeof global<"u"&&global.crypto&&(rt=global.crypto),!rt)try{rt=P(6249)}catch{}function nt(){if(rt){if("function"==typeof rt.getRandomValues)try{return rt.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof rt.randomBytes)try{return rt.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}var Tt=function(){function U(M,C){M=this.words=M||[],this.sigBytes=null!=C?C:4*M.length}var b=U.prototype;return b.random=function(C){for(var D=[],k=0;k<C;k+=4)D.push(nt());return new U(D,C)},b.toString=function(){return function Pt(U){for(var b=U.words,M=U.sigBytes,C=[],D=0;D<M;D++){var k=b[D>>>2]>>>24-D%4*8&255;C.push((k>>>4).toString(16)),C.push((15&k).toString(16))}return C.join("")}(this)},U}(),yt=P(4578);const Rt=kt;function kt(U,b){null!=U&&this.fromString(U,b)}function Dn(){return new kt(null)}var Yn,Ci=typeof navigator<"u";Ci&&"Microsoft Internet Explorer"==navigator.appName?(kt.prototype.am=function Yr(U,b,M,C,D,k){for(var q=32767&b,be=b>>15;--k>=0;){var Pe=32767&this[U],Ge=this[U++]>>15,at=be*Pe+Ge*q;D=((Pe=q*Pe+((32767&at)<<15)+M[C]+(1073741823&D))>>>30)+(at>>>15)+be*Ge+(D>>>30),M[C++]=1073741823&Pe}return D},Yn=30):Ci&&"Netscape"!=navigator.appName?(kt.prototype.am=function lr(U,b,M,C,D,k){for(;--k>=0;){var q=b*this[U++]+M[C]+D;D=Math.floor(q/67108864),M[C++]=67108863&q}return D},Yn=26):(kt.prototype.am=function Zn(U,b,M,C,D,k){for(var q=16383&b,be=b>>14;--k>=0;){var Pe=16383&this[U],Ge=this[U++]>>14,at=be*Pe+Ge*q;D=((Pe=q*Pe+((16383&at)<<14)+M[C]+D)>>28)+(at>>14)+be*Ge,M[C++]=268435455&Pe}return D},Yn=28),kt.prototype.DB=Yn,kt.prototype.DM=(1<<Yn)-1,kt.prototype.DV=1<<Yn,kt.prototype.FV=Math.pow(2,52),kt.prototype.F1=52-Yn,kt.prototype.F2=2*Yn-52;var Nt,We,ms="0123456789abcdefghijklmnopqrstuvwxyz",Qr=new Array;for(Nt="0".charCodeAt(0),We=0;We<=9;++We)Qr[Nt++]=We;for(Nt="a".charCodeAt(0),We=10;We<36;++We)Qr[Nt++]=We;for(Nt="A".charCodeAt(0),We=10;We<36;++We)Qr[Nt++]=We;function ot(U){return ms.charAt(U)}function Qt(U,b){return Qr[U.charCodeAt(b)]??-1}function oe(U){var b=Dn();return b.fromInt(U),b}function Se(U){var M,b=1;return 0!=(M=U>>>16)&&(U=M,b+=16),0!=(M=U>>8)&&(U=M,b+=8),0!=(M=U>>4)&&(U=M,b+=4),0!=(M=U>>2)&&(U=M,b+=2),0!=(M=U>>1)&&(U=M,b+=1),b}function tt(U){this.m=U,this.mp=U.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<U.DB-15)-1,this.mt2=2*U.t}function Fn(U){return Ce.lW.from((new Tt).random(U).toString(),"hex")}tt.prototype.convert=function on(U){var b=Dn();return U.abs().dlShiftTo(this.m.t,b),b.divRemTo(this.m,null,b),U.s<0&&b.compareTo(kt.ZERO)>0&&this.m.subTo(b,b),b},tt.prototype.revert=function ir(U){var b=Dn();return U.copyTo(b),this.reduce(b),b},tt.prototype.reduce=function sr(U){for(;U.t<=this.mt2;)U[U.t++]=0;for(var b=0;b<this.m.t;++b){var M=32767&U[b],C=M*this.mpl+((M*this.mph+(U[b]>>15)*this.mpl&this.um)<<15)&U.DM;for(U[M=b+this.m.t]+=this.m.am(0,C,U,b,0,this.m.t);U[M]>=U.DV;)U[M]-=U.DV,U[++M]++}U.clamp(),U.drShiftTo(this.m.t,U),U.compareTo(this.m)>=0&&U.subTo(this.m,U)},tt.prototype.mulTo=function Jt(U,b,M){U.multiplyTo(b,M),this.reduce(M)},tt.prototype.sqrTo=function Wn(U,b){U.squareTo(b),this.reduce(b)},kt.prototype.copyTo=function $t(U){for(var b=this.t-1;b>=0;--b)U[b]=this[b];U.t=this.t,U.s=this.s},kt.prototype.fromInt=function Zt(U){this.t=1,this.s=U<0?-1:0,U>0?this[0]=U:U<-1?this[0]=U+this.DV:this.t=0},kt.prototype.fromString=function Hn(U,b){var M;if(16==b)M=4;else if(8==b)M=3;else if(2==b)M=1;else if(32==b)M=5;else{if(4!=b)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");M=2}this.t=0,this.s=0;for(var C=U.length,D=!1,k=0;--C>=0;){var q=Qt(U,C);q<0?"-"==U.charAt(C)&&(D=!0):(D=!1,0==k?this[this.t++]=q:k+M>this.DB?(this[this.t-1]|=(q&(1<<this.DB-k)-1)<<k,this[this.t++]=q>>this.DB-k):this[this.t-1]|=q<<k,(k+=M)>=this.DB&&(k-=this.DB))}this.clamp(),D&&kt.ZERO.subTo(this,this)},kt.prototype.clamp=function kn(){for(var U=this.s&this.DM;this.t>0&&this[this.t-1]==U;)--this.t},kt.prototype.dlShiftTo=function Ot(U,b){var M;for(M=this.t-1;M>=0;--M)b[M+U]=this[M];for(M=U-1;M>=0;--M)b[M]=0;b.t=this.t+U,b.s=this.s},kt.prototype.drShiftTo=function cn(U,b){for(var M=U;M<this.t;++M)b[M-U]=this[M];b.t=Math.max(this.t-U,0),b.s=this.s},kt.prototype.lShiftTo=function xn(U,b){var be,M=U%this.DB,C=this.DB-M,D=(1<<C)-1,k=Math.floor(U/this.DB),q=this.s<<M&this.DM;for(be=this.t-1;be>=0;--be)b[be+k+1]=this[be]>>C|q,q=(this[be]&D)<<M;for(be=k-1;be>=0;--be)b[be]=0;b[k]=q,b.t=this.t+k+1,b.s=this.s,b.clamp()},kt.prototype.rShiftTo=function Ar(U,b){b.s=this.s;var M=Math.floor(U/this.DB);if(M>=this.t)b.t=0;else{var C=U%this.DB,D=this.DB-C,k=(1<<C)-1;b[0]=this[M]>>C;for(var q=M+1;q<this.t;++q)b[q-M-1]|=(this[q]&k)<<D,b[q-M]=this[q]>>C;C>0&&(b[this.t-M-1]|=(this.s&k)<<D),b.t=this.t-M,b.clamp()}},kt.prototype.subTo=function Dr(U,b){for(var M=0,C=0,D=Math.min(U.t,this.t);M<D;)C+=this[M]-U[M],b[M++]=C&this.DM,C>>=this.DB;if(U.t<this.t){for(C-=U.s;M<this.t;)C+=this[M],b[M++]=C&this.DM,C>>=this.DB;C+=this.s}else{for(C+=this.s;M<U.t;)C-=U[M],b[M++]=C&this.DM,C>>=this.DB;C-=U.s}b.s=C<0?-1:0,C<-1?b[M++]=this.DV+C:C>0&&(b[M++]=C),b.t=M,b.clamp()},kt.prototype.multiplyTo=function Ds(U,b){var M=this.abs(),C=U.abs(),D=M.t;for(b.t=D+C.t;--D>=0;)b[D]=0;for(D=0;D<C.t;++D)b[D+M.t]=M.am(0,C[D],b,D,0,M.t);b.s=0,b.clamp(),this.s!=U.s&&kt.ZERO.subTo(b,b)},kt.prototype.squareTo=function Je(U){for(var b=this.abs(),M=U.t=2*b.t;--M>=0;)U[M]=0;for(M=0;M<b.t-1;++M){var C=b.am(M,b[M],U,2*M,0,1);(U[M+b.t]+=b.am(M+1,2*b[M],U,2*M+1,C,b.t-M-1))>=b.DV&&(U[M+b.t]-=b.DV,U[M+b.t+1]=1)}U.t>0&&(U[U.t-1]+=b.am(M,b[M],U,2*M,0,1)),U.s=0,U.clamp()},kt.prototype.divRemTo=function $e(U,b,M){var C=U.abs();if(!(C.t<=0)){var D=this.abs();if(D.t<C.t)return b?.fromInt(0),void(null!=M&&this.copyTo(M));null==M&&(M=Dn());var k=Dn(),q=this.s,be=U.s,Pe=this.DB-Se(C[C.t-1]);Pe>0?(C.lShiftTo(Pe,k),D.lShiftTo(Pe,M)):(C.copyTo(k),D.copyTo(M));var Ge=k.t,at=k[Ge-1];if(0!=at){var xt=at*(1<<this.F1)+(Ge>1?k[Ge-2]>>this.F2:0),Ct=this.FV/xt,Kt=(1<<this.F1)/xt,rn=1<<this.F2,fn=M.t,Pn=fn-Ge,hn=b??Dn();for(k.dlShiftTo(Pn,hn),M.compareTo(hn)>=0&&(M[M.t++]=1,M.subTo(hn,M)),kt.ONE.dlShiftTo(Ge,hn),hn.subTo(k,k);k.t<Ge;)k[k.t++]=0;for(;--Pn>=0;){var dn=M[--fn]==at?this.DM:Math.floor(M[fn]*Ct+(M[fn-1]+rn)*Kt);if((M[fn]+=k.am(0,dn,M,Pn,0,Ge))<dn)for(k.dlShiftTo(Pn,hn),M.subTo(hn,M);M[fn]<--dn;)M.subTo(hn,M)}null!=b&&(M.drShiftTo(Ge,b),q!=be&&kt.ZERO.subTo(b,b)),M.t=Ge,M.clamp(),Pe>0&&M.rShiftTo(Pe,M),q<0&&kt.ZERO.subTo(M,M)}}},kt.prototype.invDigit=function qe(){if(this.t<1)return 0;var U=this[0];if(!(1&U))return 0;var b=3&U;return(b=(b=(b=(b=b*(2-(15&U)*b)&15)*(2-(255&U)*b)&255)*(2-((65535&U)*b&65535))&65535)*(2-U*b%this.DV)%this.DV)>0?this.DV-b:-b},kt.prototype.addTo=function z(U,b){for(var M=0,C=0,D=Math.min(U.t,this.t);M<D;)C+=this[M]+U[M],b[M++]=C&this.DM,C>>=this.DB;if(U.t<this.t){for(C+=U.s;M<this.t;)C+=this[M],b[M++]=C&this.DM,C>>=this.DB;C+=this.s}else{for(C+=this.s;M<U.t;)C+=U[M],b[M++]=C&this.DM,C>>=this.DB;C+=U.s}b.s=C<0?-1:0,C>0?b[M++]=C:C<-1&&(b[M++]=this.DV+C),b.t=M,b.clamp()},kt.prototype.toString=function Ir(U){if(this.s<0)return"-"+this.negate().toString(U);var b;if(16==U)b=4;else if(8==U)b=3;else if(2==U)b=1;else if(32==U)b=5;else{if(4!=U)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");b=2}var C,M=(1<<b)-1,D=!1,k="",q=this.t,be=this.DB-q*this.DB%b;if(q-- >0)for(be<this.DB&&(C=this[q]>>be)>0&&(D=!0,k=ot(C));q>=0;)be<b?(C=(this[q]&(1<<be)-1)<<b-be,C|=this[--q]>>(be+=this.DB-b)):(C=this[q]>>(be-=b)&M,be<=0&&(be+=this.DB,--q)),C>0&&(D=!0),D&&(k+=ot(C));return D?k:"0"},kt.prototype.negate=function Gn(){var U=Dn();return kt.ZERO.subTo(this,U),U},kt.prototype.abs=function ht(){return this.s<0?this.negate():this},kt.prototype.compareTo=function Qe(U){var b=this.s-U.s;if(0!=b)return b;var M=this.t;if(0!=(b=M-U.t))return this.s<0?-b:b;for(;--M>=0;)if(0!=(b=this[M]-U[M]))return b;return 0},kt.prototype.bitLength=function Re(){return this.t<=0?0:this.DB*(this.t-1)+Se(this[this.t-1]^this.s&this.DM)},kt.prototype.mod=function Q(U){var b=Dn();return this.abs().divRemTo(U,null,b),this.s<0&&b.compareTo(kt.ZERO)>0&&U.subTo(b,b),b},kt.prototype.equals=function Ve(U){return 0==this.compareTo(U)},kt.prototype.add=function ze(U){var b=Dn();return this.addTo(U,b),b},kt.prototype.subtract=function vt(U){var b=Dn();return this.subTo(U,b),b},kt.prototype.multiply=function Gt(U){var b=Dn();return this.multiplyTo(U,b),b},kt.prototype.divide=function G(U){var b=Dn();return this.divRemTo(U,b,null),b},kt.prototype.modPow=function bn(U,b,M){var D,C=U.bitLength(),k=oe(1),q=new tt(b);if(C<=0)return k;D=C<18?1:C<48?3:C<144?4:C<768?5:6;var be=new Array,Pe=3,Ge=D-1,at=(1<<D)-1;if(be[1]=q.convert(this),D>1){var xt=Dn();for(q.sqrTo(be[1],xt);Pe<=at;)be[Pe]=Dn(),q.mulTo(xt,be[Pe-2],be[Pe]),Pe+=2}var Kt,Pn,Ct=U.t-1,rn=!0,fn=Dn();for(C=Se(U[Ct])-1;Ct>=0;){for(C>=Ge?Kt=U[Ct]>>C-Ge&at:(Kt=(U[Ct]&(1<<C+1)-1)<<Ge-C,Ct>0&&(Kt|=U[Ct-1]>>this.DB+C-Ge)),Pe=D;!(1&Kt);)Kt>>=1,--Pe;if((C-=Pe)<0&&(C+=this.DB,--Ct),rn)be[Kt].copyTo(k),rn=!1;else{for(;Pe>1;)q.sqrTo(k,fn),q.sqrTo(fn,k),Pe-=2;Pe>0?q.sqrTo(k,fn):(Pn=k,k=fn,fn=Pn),q.mulTo(fn,be[Kt],k)}for(;Ct>=0&&!(U[Ct]&1<<C);)q.sqrTo(k,fn),Pn=k,k=fn,fn=Pn,--C<0&&(C=this.DB-1,--Ct)}var hn=q.revert(k);return M(null,hn),hn},kt.ZERO=oe(0),kt.ONE=oe(1);var pr=/^[89a-f]/i,Wr="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",oi=function(){function U(M){this.N=new Rt(Wr,16),this.g=new Rt("2",16),this.k=new Rt(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=Ce.lW.from("Caldera Derived Key","utf8"),this.poolName=M}var b=U.prototype;return b.getSmallAValue=function(){return this.smallAValue},b.getLargeAValue=function(C){var D=this;this.largeAValue?C(null,this.largeAValue):this.calculateA(this.smallAValue,function(k,q){k&&C(k,null),D.largeAValue=q,C(null,D.largeAValue)})},b.generateRandomSmallA=function(){var C=Fn(128).toString("hex");return new Rt(C,16)},b.generateRandomString=function(){return Fn(40).toString("base64")},b.getRandomPassword=function(){return this.randomPassword},b.getSaltDevices=function(){return this.SaltToHashDevices},b.getVerifierDevices=function(){return this.verifierDevices},b.generateHashDevice=function(C,D,k){var q=this;this.randomPassword=this.generateRandomString();var Pe=this.hash(""+C+D+":"+this.randomPassword),Ge=Fn(16).toString("hex");this.SaltToHashDevices=this.padHex(new Rt(Ge,16)),this.g.modPow(new Rt(this.hexHash(this.SaltToHashDevices+Pe),16),this.N,function(at,xt){at&&k(at,null),q.verifierDevices=q.padHex(xt),k(null,null)})},b.calculateA=function(C,D){var k=this;this.g.modPow(C,this.N,function(q,be){q&&D(q,null),be.mod(k.N).equals(Rt.ZERO)&&D(new Error("Illegal paramater. A mod N cannot be 0."),null),D(null,be)})},b.calculateU=function(C,D){return this.UHexHash=this.hexHash(this.padHex(C)+this.padHex(D)),new Rt(this.UHexHash,16)},b.hash=function(C){var D=new yt.Sha256;D.update(C);var k=D.digestSync(),q=Ce.lW.from(k).toString("hex");return new Array(64-q.length).join("0")+q},b.hexHash=function(C){return this.hash(Ce.lW.from(C,"hex"))},b.computehkdf=function(C,D){var k=Ce.lW.concat([this.infoBits,Ce.lW.from(String.fromCharCode(1),"utf8")]),q=new yt.Sha256(D);q.update(C);var be=q.digestSync(),Pe=new yt.Sha256(be);return Pe.update(k),Pe.digestSync().slice(0,16)},b.getPasswordAuthenticationKey=function(C,D,k,q,be){var Pe=this;if(k.mod(this.N).equals(Rt.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,k),this.UValue.equals(Rt.ZERO))throw new Error("U cannot be zero.");var at=this.hash(""+this.poolName+C+":"+D),xt=new Rt(this.hexHash(this.padHex(q)+at),16);this.calculateS(xt,k,function(Ct,Kt){Ct&&be(Ct,null);var rn=Pe.computehkdf(Ce.lW.from(Pe.padHex(Kt),"hex"),Ce.lW.from(Pe.padHex(Pe.UValue),"hex"));be(null,rn)})},b.calculateS=function(C,D,k){var q=this;this.g.modPow(C,this.N,function(be,Pe){be&&k(be,null),D.subtract(q.k.multiply(Pe)).modPow(q.smallAValue.add(q.UValue.multiply(C)),q.N,function(at,xt){at&&k(at,null),k(null,xt.mod(q.N))})})},b.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},b.padHex=function(C){if(!(C instanceof Rt))throw new Error("Not a BigInteger");var D=C.compareTo(Rt.ZERO)<0,k=C.abs().toString(16);if(k=pr.test(k=k.length%2!=0?"0"+k:k)?"00"+k:k,D){var q=k.split("").map(function(Pe){var Ge=15&~parseInt(Pe,16);return"0123456789ABCDEF".charAt(Ge)}).join("");(k=new Rt(q,16).add(Rt.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(k=k.substring(2))}return k},U}(),wr=function(){function U(M){this.jwtToken=M||"",this.payload=this.decodePayload()}var b=U.prototype;return b.getJwtToken=function(){return this.jwtToken},b.getExpiration=function(){return this.payload.exp},b.getIssuedAt=function(){return this.payload.iat},b.decodePayload=function(){var C=this.jwtToken.split(".")[1];try{return JSON.parse(Ce.lW.from(C,"base64").toString("utf8"))}catch{return{}}},U}();function ni(U,b){return(ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,D){return C.__proto__=D,C})(U,b)}var qn=function(U){function b(M){return U.call(this,(void 0===M?{}:M).AccessToken||"")||this}return function Ui(U,b){U.prototype=Object.create(b.prototype),U.prototype.constructor=U,ni(U,b)}(b,U),b}(wr);function vs(U,b){return(vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,D){return C.__proto__=D,C})(U,b)}var Bi=function(U){function b(M){return U.call(this,(void 0===M?{}:M).IdToken||"")||this}return function fa(U,b){U.prototype=Object.create(b.prototype),U.prototype.constructor=U,vs(U,b)}(b,U),b}(wr),mi=function(){function U(M){this.token=(void 0===M?{}:M).RefreshToken||""}return U.prototype.getToken=function(){return this.token},U}(),ro_userAgent="aws-amplify/5.0.4",ro_isReactNative=typeof navigator<"u"&&"ReactNative"===navigator.product,qo=function(){function U(M){var C=void 0===M?{}:M,D=C.IdToken,k=C.RefreshToken,q=C.AccessToken,be=C.ClockDrift;if(null==q||null==D)throw new Error("Id token and Access Token must be present.");this.idToken=D,this.refreshToken=k,this.accessToken=q,this.clockDrift=void 0===be?this.calculateClockDrift():be}var b=U.prototype;return b.getIdToken=function(){return this.idToken},b.getRefreshToken=function(){return this.refreshToken},b.getAccessToken=function(){return this.accessToken},b.getClockDrift=function(){return this.clockDrift},b.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},b.isValid=function(){var D=Math.floor(new Date/1e3)-this.clockDrift;return D<this.accessToken.getExpiration()&&D<this.idToken.getExpiration()},U}(),Ur=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Yi=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],pa=function(){function U(){}return U.prototype.getNowString=function(){var C=new Date,D=Yi[C.getUTCDay()],k=Ur[C.getUTCMonth()],q=C.getUTCDate(),be=C.getUTCHours();be<10&&(be="0"+be);var Pe=C.getUTCMinutes();Pe<10&&(Pe="0"+Pe);var Ge=C.getUTCSeconds();return Ge<10&&(Ge="0"+Ge),D+" "+k+" "+q+" "+be+":"+Pe+":"+Ge+" UTC "+C.getUTCFullYear()},U}(),Ms=function(){function U(M){var C=void 0===M?{}:M,k=C.Value;this.Name=C.Name||"",this.Value=k||""}var b=U.prototype;return b.getValue=function(){return this.Value},b.setValue=function(C){return this.Value=C,this},b.getName=function(){return this.Name},b.setName=function(C){return this.Name=C,this},b.toString=function(){return JSON.stringify(this)},b.toJSON=function(){return{Name:this.Name,Value:this.Value}},U}(),as={},vo=function(){function U(){}return U.setItem=function(M,C){return as[M]=C,as[M]},U.getItem=function(M){return Object.prototype.hasOwnProperty.call(as,M)?as[M]:void 0},U.removeItem=function(M){return delete as[M]},U.clear=function(){return as={}},U}(),io=function(){function U(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=vo}}return U.prototype.getStorage=function(){return this.storageWindow},U}(),Na=typeof navigator<"u"?ro_isReactNative?"react-native":navigator.userAgent:"nodejs",Ii=function(){function U(M){if(null==M||null==M.Username||null==M.Pool)throw new Error("Username and Pool information are required.");this.username=M.Username||"",this.pool=M.Pool,this.Session=null,this.client=M.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=M.Storage||(new io).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var b=U.prototype;return b.setSignInUserSession=function(C){this.clearCachedUserData(),this.signInUserSession=C,this.cacheTokens()},b.getSignInUserSession=function(){return this.signInUserSession},b.getUsername=function(){return this.username},b.getAuthenticationFlowType=function(){return this.authenticationFlowType},b.setAuthenticationFlowType=function(C){this.authenticationFlowType=C},b.initiateAuth=function(C,D){var k=this,q=C.getAuthParameters();q.USERNAME=this.username;var be=0!==Object.keys(C.getValidationData()).length?C.getValidationData():C.getClientMetadata(),Pe={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:q,ClientMetadata:be};this.getUserContextData()&&(Pe.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",Pe,function(Ge,at){if(Ge)return D.onFailure(Ge);var Ct=at.ChallengeParameters;return"CUSTOM_CHALLENGE"===at.ChallengeName?(k.Session=at.Session,D.customChallenge(Ct)):(k.signInUserSession=k.getCognitoUserSession(at.AuthenticationResult),k.cacheTokens(),D.onSuccess(k.signInUserSession))})},b.authenticateUser=function(C,D){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(C,D):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(C,D):D.onFailure(new Error("Authentication flow type is invalid."))},b.authenticateUserDefaultAuth=function(C,D){var Pe,Ge,k=this,q=new oi(this.pool.getUserPoolName()),be=new pa,at={};null!=this.deviceKey&&(at.DEVICE_KEY=this.deviceKey),at.USERNAME=this.username,q.getLargeAValue(function(xt,Ct){xt&&D.onFailure(xt),at.SRP_A=Ct.toString(16),"CUSTOM_AUTH"===k.authenticationFlowType&&(at.CHALLENGE_NAME="SRP_A");var Kt=0!==Object.keys(C.getValidationData()).length?C.getValidationData():C.getClientMetadata(),rn={AuthFlow:k.authenticationFlowType,ClientId:k.pool.getClientId(),AuthParameters:at,ClientMetadata:Kt};k.getUserContextData(k.username)&&(rn.UserContextData=k.getUserContextData(k.username)),k.client.request("InitiateAuth",rn,function(fn,Pn){if(fn)return D.onFailure(fn);var hn=Pn.ChallengeParameters;k.username=hn.USER_ID_FOR_SRP,k.userDataKey=k.keyPrefix+"."+k.username+".userData",Pe=new Rt(hn.SRP_B,16),Ge=new Rt(hn.SALT,16),k.getCachedDeviceKeyAndPassword(),q.getPasswordAuthenticationKey(k.username,C.getPassword(),Pe,Ge,function(dn,Rn){dn&&D.onFailure(dn);var cr=be.getNowString(),Er=Ce.lW.concat([Ce.lW.from(k.pool.getUserPoolName(),"utf8"),Ce.lW.from(k.username,"utf8"),Ce.lW.from(hn.SECRET_BLOCK,"base64"),Ce.lW.from(cr,"utf8")]),ti=new yt.Sha256(Rn);ti.update(Er);var Ht=ti.digestSync(),ui=Ce.lW.from(Ht).toString("base64"),ii={};ii.USERNAME=k.username,ii.PASSWORD_CLAIM_SECRET_BLOCK=hn.SECRET_BLOCK,ii.TIMESTAMP=cr,ii.PASSWORD_CLAIM_SIGNATURE=ui,null!=k.deviceKey&&(ii.DEVICE_KEY=k.deviceKey);var Gs={ChallengeName:"PASSWORD_VERIFIER",ClientId:k.pool.getClientId(),ChallengeResponses:ii,Session:Pn.Session,ClientMetadata:Kt};k.getUserContextData()&&(Gs.UserContextData=k.getUserContextData()),function ko(wo,Ha){return k.client.request("RespondToAuthChallenge",wo,function(Ks,lo){return Ks&&"ResourceNotFoundException"===Ks.code&&-1!==Ks.message.toLowerCase().indexOf("device")?(ii.DEVICE_KEY=null,k.deviceKey=null,k.randomPassword=null,k.deviceGroupKey=null,k.clearCachedDeviceKeyAndPassword(),ko(wo,Ha)):Ha(Ks,lo)})}(Gs,function(ko,wo){return ko?D.onFailure(ko):k.authenticateUserInternal(wo,q,D)})})})})},b.authenticateUserPlainUsernamePassword=function(C,D){var k=this,q={};if(q.USERNAME=this.username,q.PASSWORD=C.getPassword(),q.PASSWORD){var be=new oi(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(q.DEVICE_KEY=this.deviceKey);var Pe=0!==Object.keys(C.getValidationData()).length?C.getValidationData():C.getClientMetadata(),Ge={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:q,ClientMetadata:Pe};this.getUserContextData(this.username)&&(Ge.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",Ge,function(at,xt){return at?D.onFailure(at):k.authenticateUserInternal(xt,be,D)})}else D.onFailure(new Error("PASSWORD parameter is required"))},b.authenticateUserInternal=function(C,D,k){var q=this,be=C.ChallengeName,Pe=C.ChallengeParameters;if("SMS_MFA"===be)return this.Session=C.Session,k.mfaRequired(be,Pe);if("SELECT_MFA_TYPE"===be)return this.Session=C.Session,k.selectMFAType(be,Pe);if("MFA_SETUP"===be)return this.Session=C.Session,k.mfaSetup(be,Pe);if("SOFTWARE_TOKEN_MFA"===be)return this.Session=C.Session,k.totpRequired(be,Pe);if("CUSTOM_CHALLENGE"===be)return this.Session=C.Session,k.customChallenge(Pe);if("NEW_PASSWORD_REQUIRED"===be){this.Session=C.Session;var Ge=null,at=null,xt=[],Ct=D.getNewPasswordRequiredChallengeUserAttributePrefix();if(Pe&&(Ge=JSON.parse(C.ChallengeParameters.userAttributes),at=JSON.parse(C.ChallengeParameters.requiredAttributes)),at)for(var Kt=0;Kt<at.length;Kt++)xt[Kt]=at[Kt].substr(Ct.length);return k.newPasswordRequired(Ge,xt)}if("DEVICE_SRP_AUTH"===be)return this.Session=C.Session,void this.getDeviceResponse(k);this.signInUserSession=this.getCognitoUserSession(C.AuthenticationResult),this.challengeName=be,this.cacheTokens();var rn=C.AuthenticationResult.NewDeviceMetadata;if(null==rn)return k.onSuccess(this.signInUserSession);D.generateHashDevice(C.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,C.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(fn){if(fn)return k.onFailure(fn);var Pn={Salt:Ce.lW.from(D.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Ce.lW.from(D.getVerifierDevices(),"hex").toString("base64")};q.verifierDevices=Pn.PasswordVerifier,q.deviceGroupKey=rn.DeviceGroupKey,q.randomPassword=D.getRandomPassword(),q.client.request("ConfirmDevice",{DeviceKey:rn.DeviceKey,AccessToken:q.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:Pn,DeviceName:Na},function(hn,dn){return hn?k.onFailure(hn):(q.deviceKey=C.AuthenticationResult.NewDeviceMetadata.DeviceKey,q.cacheDeviceKeyAndPassword(),!0===dn.UserConfirmationNecessary?k.onSuccess(q.signInUserSession,dn.UserConfirmationNecessary):k.onSuccess(q.signInUserSession))})})},b.completeNewPasswordChallenge=function(C,D,k,q){var be=this;if(!C)return k.onFailure(new Error("New password is required."));var Pe=new oi(this.pool.getUserPoolName()),Ge=Pe.getNewPasswordRequiredChallengeUserAttributePrefix(),at={};D&&Object.keys(D).forEach(function(Ct){at[Ge+Ct]=D[Ct]}),at.NEW_PASSWORD=C,at.USERNAME=this.username;var xt={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:at,Session:this.Session,ClientMetadata:q};this.getUserContextData()&&(xt.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",xt,function(Ct,Kt){return Ct?k.onFailure(Ct):be.authenticateUserInternal(Kt,Pe,k)})},b.getDeviceResponse=function(C,D){var k=this,q=new oi(this.deviceGroupKey),be=new pa,Pe={};Pe.USERNAME=this.username,Pe.DEVICE_KEY=this.deviceKey,q.getLargeAValue(function(Ge,at){Ge&&C.onFailure(Ge),Pe.SRP_A=at.toString(16);var xt={ChallengeName:"DEVICE_SRP_AUTH",ClientId:k.pool.getClientId(),ChallengeResponses:Pe,ClientMetadata:D,Session:k.Session};k.getUserContextData()&&(xt.UserContextData=k.getUserContextData()),k.client.request("RespondToAuthChallenge",xt,function(Ct,Kt){if(Ct)return C.onFailure(Ct);var rn=Kt.ChallengeParameters,fn=new Rt(rn.SRP_B,16),Pn=new Rt(rn.SALT,16);q.getPasswordAuthenticationKey(k.deviceKey,k.randomPassword,fn,Pn,function(hn,dn){if(hn)return C.onFailure(hn);var Rn=be.getNowString(),cr=Ce.lW.concat([Ce.lW.from(k.deviceGroupKey,"utf8"),Ce.lW.from(k.deviceKey,"utf8"),Ce.lW.from(rn.SECRET_BLOCK,"base64"),Ce.lW.from(Rn,"utf8")]),Er=new yt.Sha256(dn);Er.update(cr);var ti=Er.digestSync(),Ht=Ce.lW.from(ti).toString("base64"),ui={};ui.USERNAME=k.username,ui.PASSWORD_CLAIM_SECRET_BLOCK=rn.SECRET_BLOCK,ui.TIMESTAMP=Rn,ui.PASSWORD_CLAIM_SIGNATURE=Ht,ui.DEVICE_KEY=k.deviceKey;var ii={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:k.pool.getClientId(),ChallengeResponses:ui,Session:Kt.Session};k.getUserContextData()&&(ii.UserContextData=k.getUserContextData()),k.client.request("RespondToAuthChallenge",ii,function(Qi,Gs){return Qi?C.onFailure(Qi):(k.signInUserSession=k.getCognitoUserSession(Gs.AuthenticationResult),k.cacheTokens(),C.onSuccess(k.signInUserSession))})})})})},b.confirmRegistration=function(C,D,k,q){var be={ClientId:this.pool.getClientId(),ConfirmationCode:C,Username:this.username,ForceAliasCreation:D,ClientMetadata:q};this.getUserContextData()&&(be.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",be,function(Pe){return Pe?k(Pe,null):k(null,"SUCCESS")})},b.sendCustomChallengeAnswer=function(C,D,k){var q=this,be={};be.USERNAME=this.username,be.ANSWER=C;var Pe=new oi(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(be.DEVICE_KEY=this.deviceKey);var Ge={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:be,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:k};this.getUserContextData()&&(Ge.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",Ge,function(at,xt){return at?D.onFailure(at):q.authenticateUserInternal(xt,Pe,D)})},b.sendMFACode=function(C,D,k,q){var be=this,Pe={};Pe.USERNAME=this.username,Pe.SMS_MFA_CODE=C;var Ge=k||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===Ge&&(Pe.SOFTWARE_TOKEN_MFA_CODE=C),null!=this.deviceKey&&(Pe.DEVICE_KEY=this.deviceKey);var at={ChallengeName:Ge,ChallengeResponses:Pe,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:q};this.getUserContextData()&&(at.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",at,function(xt,Ct){if(xt)return D.onFailure(xt);if("DEVICE_SRP_AUTH"!==Ct.ChallengeName){if(be.signInUserSession=be.getCognitoUserSession(Ct.AuthenticationResult),be.cacheTokens(),null==Ct.AuthenticationResult.NewDeviceMetadata)return D.onSuccess(be.signInUserSession);var rn=new oi(be.pool.getUserPoolName());rn.generateHashDevice(Ct.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,Ct.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(fn){if(fn)return D.onFailure(fn);var Pn={Salt:Ce.lW.from(rn.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Ce.lW.from(rn.getVerifierDevices(),"hex").toString("base64")};be.verifierDevices=Pn.PasswordVerifier,be.deviceGroupKey=Ct.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,be.randomPassword=rn.getRandomPassword(),be.client.request("ConfirmDevice",{DeviceKey:Ct.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:be.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:Pn,DeviceName:Na},function(hn,dn){return hn?D.onFailure(hn):(be.deviceKey=Ct.AuthenticationResult.NewDeviceMetadata.DeviceKey,be.cacheDeviceKeyAndPassword(),!0===dn.UserConfirmationNecessary?D.onSuccess(be.signInUserSession,dn.UserConfirmationNecessary):D.onSuccess(be.signInUserSession))})})}else be.getDeviceResponse(D)})},b.changePassword=function(C,D,k,q){if(null==this.signInUserSession||!this.signInUserSession.isValid())return k(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:C,ProposedPassword:D,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:q},function(be){return be?k(be,null):k(null,"SUCCESS")})},b.enableMFA=function(C){if(null==this.signInUserSession||!this.signInUserSession.isValid())return C(new Error("User is not authenticated"),null);var D=[];D.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:D,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(q){return q?C(q,null):C(null,"SUCCESS")})},b.setUserMfaPreference=function(C,D,k){if(null==this.signInUserSession||!this.signInUserSession.isValid())return k(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:C,SoftwareTokenMfaSettings:D,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(q){return q?k(q,null):k(null,"SUCCESS")})},b.disableMFA=function(C){if(null==this.signInUserSession||!this.signInUserSession.isValid())return C(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(k){return k?C(k,null):C(null,"SUCCESS")})},b.deleteUser=function(C,D){var k=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return C(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:D},function(q){return q?C(q,null):(k.clearCachedUser(),C(null,"SUCCESS"))})},b.updateAttributes=function(C,D,k){var q=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return D(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:C,ClientMetadata:k},function(be,Pe){return be?D(be,null):q.getUserData(function(){return D(null,"SUCCESS",Pe)},{bypassCache:!0})})},b.getUserAttributes=function(C){if(null==this.signInUserSession||!this.signInUserSession.isValid())return C(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(D,k){if(D)return C(D,null);for(var q=[],be=0;be<k.UserAttributes.length;be++){var Ge=new Ms({Name:k.UserAttributes[be].Name,Value:k.UserAttributes[be].Value});q.push(Ge)}return C(null,q)})},b.getMFAOptions=function(C){if(null==this.signInUserSession||!this.signInUserSession.isValid())return C(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(D,k){return D?C(D,null):C(null,k.MFAOptions)})},b.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},b.refreshSessionIfPossible=function(C){var D=this;return void 0===C&&(C={}),new Promise(function(k){var q=D.signInUserSession.getRefreshToken();q&&q.getToken()?D.refreshSession(q,k,C.clientMetadata):k()})},b.getUserData=function(C,D){var k=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),C(new Error("User is not authenticated"),null);var q=this.getUserDataFromCache();if(q)if(this.isFetchUserDataAndTokenRequired(D))this.fetchUserData().then(function(be){return k.refreshSessionIfPossible(D).then(function(){return be})}).then(function(be){return C(null,be)}).catch(C);else try{return void C(null,JSON.parse(q))}catch(be){return this.clearCachedUserData(),void C(be,null)}else this.fetchUserData().then(function(be){C(null,be)}).catch(C)},b.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},b.isFetchUserDataAndTokenRequired=function(C){var k=(C||{}).bypassCache;return void 0!==k&&k},b.fetchUserData=function(){var C=this;return this.createGetUserRequest().then(function(D){return C.cacheUserData(D),D})},b.deleteAttributes=function(C,D){var k=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return D(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:C,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(q){return q?D(q,null):k.getUserData(function(){return D(null,"SUCCESS")},{bypassCache:!0})})},b.resendConfirmationCode=function(C,D){var k={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:D};this.client.request("ResendConfirmationCode",k,function(q,be){return q?C(q,null):C(null,be)})},b.getSession=function(C,D){if(void 0===D&&(D={}),null==this.username)return C(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return C(null,this.signInUserSession);var k="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,q=k+".idToken",be=k+".accessToken",Pe=k+".refreshToken",Ge=k+".clockDrift";if(this.storage.getItem(q)){var at=new Bi({IdToken:this.storage.getItem(q)}),xt=new qn({AccessToken:this.storage.getItem(be)}),Ct=new mi({RefreshToken:this.storage.getItem(Pe)}),Kt=parseInt(this.storage.getItem(Ge),0)||0,fn=new qo({IdToken:at,AccessToken:xt,RefreshToken:Ct,ClockDrift:Kt});if(fn.isValid())return this.signInUserSession=fn,C(null,this.signInUserSession);if(!Ct.getToken())return C(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(Ct,C,D.clientMetadata)}else C(new Error("Local storage is missing an ID Token, Please authenticate"),null)},b.refreshSession=function(C,D,k){var q=this,be=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(D):D,Pe={};Pe.REFRESH_TOKEN=C.getToken();var Ge="CognitoIdentityServiceProvider."+this.pool.getClientId(),at=Ge+".LastAuthUser";this.storage.getItem(at)&&(this.username=this.storage.getItem(at),this.deviceKey=this.storage.getItem(Ge+"."+this.username+".deviceKey"),Pe.DEVICE_KEY=this.deviceKey);var Ct={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:Pe,ClientMetadata:k};this.getUserContextData()&&(Ct.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",Ct,function(Kt,rn){if(Kt)return"NotAuthorizedException"===Kt.code&&q.clearCachedUser(),be(Kt,null);if(rn){var fn=rn.AuthenticationResult;return Object.prototype.hasOwnProperty.call(fn,"RefreshToken")||(fn.RefreshToken=C.getToken()),q.signInUserSession=q.getCognitoUserSession(fn),q.cacheTokens(),be(null,q.signInUserSession)}})},b.cacheTokens=function(){var C="CognitoIdentityServiceProvider."+this.pool.getClientId(),k=C+"."+this.username+".accessToken",q=C+"."+this.username+".refreshToken",be=C+"."+this.username+".clockDrift",Pe=C+".LastAuthUser";this.storage.setItem(C+"."+this.username+".idToken",this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(k,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(q,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(be,""+this.signInUserSession.getClockDrift()),this.storage.setItem(Pe,this.username)},b.cacheUserData=function(C){this.storage.setItem(this.userDataKey,JSON.stringify(C))},b.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},b.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},b.cacheDeviceKeyAndPassword=function(){var C="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,k=C+".randomPasswordKey",q=C+".deviceGroupKey";this.storage.setItem(C+".deviceKey",this.deviceKey),this.storage.setItem(k,this.randomPassword),this.storage.setItem(q,this.deviceGroupKey)},b.getCachedDeviceKeyAndPassword=function(){var C="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,D=C+".deviceKey",k=C+".randomPasswordKey",q=C+".deviceGroupKey";this.storage.getItem(D)&&(this.deviceKey=this.storage.getItem(D),this.randomPassword=this.storage.getItem(k),this.deviceGroupKey=this.storage.getItem(q))},b.clearCachedDeviceKeyAndPassword=function(){var C="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,k=C+".randomPasswordKey",q=C+".deviceGroupKey";this.storage.removeItem(C+".deviceKey"),this.storage.removeItem(k),this.storage.removeItem(q)},b.clearCachedTokens=function(){var C="CognitoIdentityServiceProvider."+this.pool.getClientId(),k=C+"."+this.username+".accessToken",q=C+"."+this.username+".refreshToken",be=C+".LastAuthUser",Pe=C+"."+this.username+".clockDrift";this.storage.removeItem(C+"."+this.username+".idToken"),this.storage.removeItem(k),this.storage.removeItem(q),this.storage.removeItem(be),this.storage.removeItem(Pe)},b.getCognitoUserSession=function(C){var D=new Bi(C),k=new qn(C),q=new mi(C);return new qo({IdToken:D,AccessToken:k,RefreshToken:q})},b.forgotPassword=function(C,D){var k={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:D};this.getUserContextData()&&(k.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",k,function(q,be){return q?C.onFailure(q):"function"==typeof C.inputVerificationCode?C.inputVerificationCode(be):C.onSuccess(be)})},b.confirmPassword=function(C,D,k,q){var be={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:C,Password:D,ClientMetadata:q};this.getUserContextData()&&(be.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",be,function(Pe){return Pe?k.onFailure(Pe):k.onSuccess("SUCCESS")})},b.getAttributeVerificationCode=function(C,D,k){if(null==this.signInUserSession||!this.signInUserSession.isValid())return D.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:C,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:k},function(q,be){return q?D.onFailure(q):"function"==typeof D.inputVerificationCode?D.inputVerificationCode(be):D.onSuccess("SUCCESS")})},b.verifyAttribute=function(C,D,k){if(null==this.signInUserSession||!this.signInUserSession.isValid())return k.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:C,Code:D,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(q){return q?k.onFailure(q):k.onSuccess("SUCCESS")})},b.getDevice=function(C){if(null==this.signInUserSession||!this.signInUserSession.isValid())return C.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(D,k){return D?C.onFailure(D):C.onSuccess(k)})},b.forgetSpecificDevice=function(C,D){if(null==this.signInUserSession||!this.signInUserSession.isValid())return D.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:C},function(k){return k?D.onFailure(k):D.onSuccess("SUCCESS")})},b.forgetDevice=function(C){var D=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:C.onFailure,onSuccess:function(q){return D.deviceKey=null,D.deviceGroupKey=null,D.randomPassword=null,D.clearCachedDeviceKeyAndPassword(),C.onSuccess(q)}})},b.setDeviceStatusRemembered=function(C){if(null==this.signInUserSession||!this.signInUserSession.isValid())return C.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(D){return D?C.onFailure(D):C.onSuccess("SUCCESS")})},b.setDeviceStatusNotRemembered=function(C){if(null==this.signInUserSession||!this.signInUserSession.isValid())return C.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(D){return D?C.onFailure(D):C.onSuccess("SUCCESS")})},b.listDevices=function(C,D,k){if(null==this.signInUserSession||!this.signInUserSession.isValid())return k.onFailure(new Error("User is not authenticated"));var q={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:C};D&&(q.PaginationToken=D),this.client.request("ListDevices",q,function(be,Pe){return be?k.onFailure(be):k.onSuccess(Pe)})},b.globalSignOut=function(C){var D=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return C.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(k){return k?C.onFailure(k):(D.clearCachedUser(),C.onSuccess("SUCCESS"))})},b.signOut=function(C){var D=this;C&&"function"==typeof C?this.getSession(function(k,q){if(k)return C(k);D.revokeTokens(function(be){D.cleanClientData(),C(be)})}):this.cleanClientData()},b.revokeTokens=function(C){if(void 0===C&&(C=function(){}),"function"!=typeof C)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return C(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return C(new Error("No Access token available"));var be=this.signInUserSession.getRefreshToken().getToken(),Pe=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(Pe)&&be)return this.revokeToken({token:be,callback:C});C()},b.isSessionRevocable=function(C){if(C&&"function"==typeof C.decodePayload)try{return!!C.decodePayload().origin_jti}catch{}return!1},b.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},b.revokeToken=function(C){var k=C.callback;this.client.requestWithRetry("RevokeToken",{Token:C.token,ClientId:this.pool.getClientId()},function(q){if(q)return k(q);k()})},b.sendMFASelectionAnswer=function(C,D){var k=this,q={};q.USERNAME=this.username,q.ANSWER=C;var be={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:q,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(be.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",be,function(Pe,Ge){return Pe?D.onFailure(Pe):(k.Session=Ge.Session,"SMS_MFA"===C?D.mfaRequired(Ge.ChallengeName,Ge.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===C?D.totpRequired(Ge.ChallengeName,Ge.ChallengeParameters):void 0)})},b.getUserContextData=function(){return this.pool.getUserContextData(this.username)},b.associateSoftwareToken=function(C){var D=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(k,q){return k?C.onFailure(k):C.associateSecretCode(q.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(k,q){return k?C.onFailure(k):(D.Session=q.Session,C.associateSecretCode(q.SecretCode))})},b.verifySoftwareToken=function(C,D,k){var q=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:C,FriendlyDeviceName:D},function(be,Pe){return be?k.onFailure(be):k.onSuccess(Pe)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:C,FriendlyDeviceName:D},function(be,Pe){if(be)return k.onFailure(be);q.Session=Pe.Session;var Ge={};Ge.USERNAME=q.username;var at={ChallengeName:"MFA_SETUP",ClientId:q.pool.getClientId(),ChallengeResponses:Ge,Session:q.Session};q.getUserContextData()&&(at.UserContextData=q.getUserContextData()),q.client.request("RespondToAuthChallenge",at,function(xt,Ct){return xt?k.onFailure(xt):(q.signInUserSession=q.getCognitoUserSession(Ct.AuthenticationResult),q.cacheTokens(),k.onSuccess(q.signInUserSession))})})},U}();function ri(){}P(3024),ri.prototype.userAgent=ro_userAgent;var js=function(){ri.category="auth"},Ra=function(b){ri.framework=b};function Yo(U){var b="function"==typeof Map?new Map:void 0;return Yo=function(C){if(null===C||!function Qo(U){try{return-1!==Function.toString.call(U).indexOf("[native code]")}catch{return"function"==typeof U}}(C))return C;if("function"!=typeof C)throw new TypeError("Super expression must either be null or a function");if(typeof b<"u"){if(b.has(C))return b.get(C);b.set(C,D)}function D(){return ls(C,arguments,Ai(this).constructor)}return D.prototype=Object.create(C.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),Po(D,C)},Yo(U)}function ls(U,b,M){return(ls=function yo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct.bind():function(D,k,q){var be=[null];be.push.apply(be,k);var Ge=new(Function.bind.apply(D,be));return q&&Po(Ge,q.prototype),Ge}).apply(null,arguments)}function Po(U,b){return(Po=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,D){return C.__proto__=D,C})(U,b)}function Ai(U){return(Ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(M){return M.__proto__||Object.getPrototypeOf(M)})(U)}var Pa=function(U){function b(M,C,D,k){var q;return(q=U.call(this,M)||this).code=C,q.name=D,q.statusCode=k,q}return function Hs(U,b){U.prototype=Object.create(b.prototype),U.prototype.constructor=U,Po(U,b)}(b,U),b}(Yo(Error)),vl=function(){function U(M,C,D){this.endpoint=C||"https://cognito-idp."+M+".amazonaws.com/";var q=(D||{}).credentials;this.fetchOptions=q?{credentials:q}:{}}var b=U.prototype;return b.promisifyRequest=function(C,D){var k=this;return new Promise(function(q,be){k.request(C,D,function(Pe,Ge){Pe?be(new Pa(Pe.message,Pe.code,Pe.name,Pe.statusCode)):q(Ge)})})},b.requestWithRetry=function(C,D,k){var q=this;(function Jo(U,b,M){return void 0===M&&(M=uu),ma(U,b,function Rs(U){return function(C){var D=100*Math.pow(2,C)+100*Math.random();return!(D>U)&&D}}(M))})(function(Pe){return new Promise(function(Ge,at){q.request(C,Pe,function(xt,Ct){xt?at(xt):Ge(Ct)})})},[D],5e3).then(function(Pe){return k(null,Pe)}).catch(function(Pe){return k(Pe)})},b.request=function(C,D,k){var Pe,be=Object.assign({},this.fetchOptions,{headers:{"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+C,"X-Amz-User-Agent":ri.prototype.userAgent+(ri.category?" "+ri.category:"")+(ri.framework?" framework/"+ri.framework:""),"Cache-Control":"no-store"},method:"POST",mode:"cors",body:JSON.stringify(D)});fetch(this.endpoint,be).then(function(at){return Pe=at,at},function(at){throw at instanceof TypeError?new Error("Network error"):at}).then(function(at){return at.json().catch(function(){return{}})}).then(function(at){if(Pe.ok)return k(null,at);var xt=(at.__type||at.code).split("#").pop(),Ct=new Error(at.message||at.Message||null);return Ct.name=xt,Ct.code=xt,k(Ct)}).catch(function(at){if(Pe&&Pe.headers&&Pe.headers.get("x-amzn-errortype"))try{var xt=Pe.headers.get("x-amzn-errortype").split(":")[0],Ct=new Error(Pe.status?Pe.status.toString():null);return Ct.code=xt,Ct.name=xt,Ct.statusCode=Pe.status,k(Ct)}catch{return k(at)}else at instanceof Error&&"Network error"===at.message&&(at.code="NetworkError");return k(at)})},U}(),ga={debug:function(){}},Ns=(Error,function(b){return b&&b.nonRetryable});function ma(U,b,M,C){if(void 0===C&&(C=1),"function"!=typeof U)throw Error("functionToRetry must be a function");return ga.debug(U.name+" attempt #"+C+" with args: "+JSON.stringify(b)),U.apply(void 0,b).catch(function(D){if(ga.debug("error on "+U.name,D),Ns(D))throw ga.debug(U.name+" non retryable error",D),D;var k=M(C,b,D);if(ga.debug(U.name+" retrying in "+k+" ms"),!1!==k)return new Promise(function(q){return setTimeout(q,k)}).then(function(){return ma(U,b,M,C+1)});throw D})}var uu=3e5,ka=55,Xr=function(){function U(M,C){var D=M||{},k=D.UserPoolId,q=D.ClientId,be=D.endpoint,Pe=D.fetchOptions,Ge=D.AdvancedSecurityDataCollectionFlag;if(!k||!q)throw new Error("Both UserPoolId and ClientId are required.");if(k.length>ka||!/^[\w-]+_[0-9a-zA-Z]+$/.test(k))throw new Error("Invalid UserPoolId format.");var at=k.split("_")[0];this.userPoolId=k,this.clientId=q,this.client=new vl(at,be,Pe),this.advancedSecurityDataCollectionFlag=!1!==Ge,this.storage=M.Storage||(new io).getStorage(),C&&(this.wrapRefreshSessionCallback=C)}var b=U.prototype;return b.getUserPoolId=function(){return this.userPoolId},b.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},b.getClientId=function(){return this.clientId},b.signUp=function(C,D,k,q,be,Pe){var Ge=this,at={ClientId:this.clientId,Username:C,Password:D,UserAttributes:k,ValidationData:q,ClientMetadata:Pe};this.getUserContextData(C)&&(at.UserContextData=this.getUserContextData(C)),this.client.request("SignUp",at,function(xt,Ct){if(xt)return be(xt,null);var rn={user:new Ii({Username:C,Pool:Ge,Storage:Ge.storage}),userConfirmed:Ct.UserConfirmed,userSub:Ct.UserSub,codeDeliveryDetails:Ct.CodeDeliveryDetails};return be(null,rn)})},b.getCurrentUser=function(){var D=this.storage.getItem("CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser");return D?new Ii({Username:D,Pool:this,Storage:this.storage}):null},b.getUserContextData=function(C){if(!(typeof AmazonCognitoAdvancedSecurityData>"u")){var D=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var k=D.getData(C,this.userPoolId,this.clientId);if(k)return{EncodedData:k}}return{}}},U}(),so=P(7355),Di=function(){function U(M){if(void 0===M&&(M={}),M.domain&&(this.domain=M.domain),this.path=M.path?M.path:"/",this.expires=Object.prototype.hasOwnProperty.call(M,"expires")?M.expires:365,this.secure=!Object.prototype.hasOwnProperty.call(M,"secure")||M.secure,Object.prototype.hasOwnProperty.call(M,"sameSite")){if(!["strict","lax","none"].includes(M.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===M.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=M.sameSite}else this.sameSite=null}var b=U.prototype;return b.setItem=function(C,D){var k={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(k.sameSite=this.sameSite),so.set(C,D,k),so.get(C)},b.getItem=function(C){return so.get(C)},b.removeItem=function(C){var D={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(D.sameSite=this.sameSite),so.remove(C,D)},b.clear=function(){for(var C=so.get(),D=Object.keys(C).length,k=0;k<D;++k)this.removeItem(Object.keys(C)[k]);return{}},U}(),Vi=P(160),ku=function(U){var b=window.open(U,"_self");return b?Promise.resolve(b):Promise.reject()},xi=P(8758),ya=P(2087),_o=typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Xn=function(U,b,M){an.X.dispatch("auth",{event:U,data:b,message:M},"Auth",_o)},Mi=new An.k("OAuth");const Ti=function(){function U(b){var M=b.config,C=b.cognitoClientId,D=b.scopes,k=void 0===D?[]:D;if(this._urlOpener=M.urlOpener||ku,this._config=M,this._cognitoClientId=C,!this.isValidScopes(k))throw Error("scopes must be a String Array");this._scopes=k}return U.prototype.isValidScopes=function(b){return Array.isArray(b)&&b.every(function(M){return"string"==typeof M})},U.prototype.oauthSignIn=function(b,M,C,D,k,q){void 0===b&&(b="code"),void 0===k&&(k=Be.Cognito);var be=this._generateState(32),Pe=q?be+"-"+function ve(U){return U.split("").map(function(b){return b.charCodeAt(0).toString(16).padStart(2,"0")}).join("")}(q):be;!function(U){window.sessionStorage.setItem("oauth_state",U)}(Pe);var Ge=this._generateRandom(128);!function(U){window.sessionStorage.setItem("ouath_pkce_key",U)}(Ge);var at=this._generateChallenge(Ge),Ct=this._scopes.join(" "),rn="https://"+M+"/oauth2/authorize?"+Object.entries(c(c({redirect_uri:C,response_type:b,client_id:D,identity_provider:k,scope:Ct,state:Pe},"code"===b?{code_challenge:at}:{}),"code"===b?{code_challenge_method:"S256"}:{})).map(function(fn){var Pn=Me(fn,2),dn=Pn[1];return encodeURIComponent(Pn[0])+"="+encodeURIComponent(dn)}).join("&");Mi.debug("Redirecting to "+rn),this._urlOpener(rn,C)},U.prototype._handleCodeFlow=function(b){return W(this,void 0,void 0,function(){var M,C,D,k,q,be,Pe,Ge,at,Ct,Kt,rn,fn,Pn,hn;return ae(this,function(dn){switch(dn.label){case 0:return M=((0,Vi.Qc)(b).query||"").split("&").map(function(Rn){return Rn.split("=")}).reduce(function(Rn,cr){var Er,ti=Me(cr,2),Ht=ti[0],ui=ti[1];return c(c({},Rn),((Er={})[Ht]=ui,Er))},{code:void 0}).code,C=(0,Vi.Qc)(b).pathname||"/",D=(0,Vi.Qc)(this._config.redirectSignIn).pathname||"/",M&&C===D?(Xn("codeFlow",{},"Retrieving tokens from "+(k="https://"+this._config.domain+"/oauth2/token")),q=Et(this._config)?this._cognitoClientId:this._config.clientID,be=Et(this._config)?this._config.redirectSignIn:this._config.redirectUri,Pe=function(){var U=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),U}(),Ge=c({grant_type:"authorization_code",code:M,client_id:q,redirect_uri:be},Pe?{code_verifier:Pe}:{}),Mi.debug("Calling token endpoint: "+k+" with",Ge),at=Object.entries(Ge).map(function(Rn){var cr=Me(Rn,2),ti=cr[1];return encodeURIComponent(cr[0])+"="+encodeURIComponent(ti)}).join("&"),[4,fetch(k,{method:"POST",headers:(hn={"Content-Type":"application/x-www-form-urlencoded"},hn[ya.M]=(0,ye.Zm)({category:xi.WD.Auth,action:xi.g4.FederatedSignIn}),hn),body:at})]):[2];case 1:return[4,dn.sent().json()];case 2:if(Ct=dn.sent(),Kt=Ct.access_token,rn=Ct.refresh_token,fn=Ct.id_token,Pn=Ct.error)throw new Error(Pn);return[2,{accessToken:Kt,refreshToken:rn,idToken:fn}]}})})},U.prototype._handleImplicitFlow=function(b){return W(this,void 0,void 0,function(){var M,C,D;return ae(this,function(k){return M=((0,Vi.Qc)(b).hash||"#").substr(1).split("&").map(function(q){return q.split("=")}).reduce(function(q,be){var Pe,Ge=Me(be,2),at=Ge[0],xt=Ge[1];return c(c({},q),((Pe={})[at]=xt,Pe))},{id_token:void 0,access_token:void 0}),C=M.id_token,D=M.access_token,Xn("implicitFlow",{},"Got tokens from "+b),Mi.debug("Retrieving implicit tokens from "+b+" with"),[2,{accessToken:D,idToken:C,refreshToken:null}]})})},U.prototype.handleAuthResponse=function(b){return W(this,void 0,void 0,function(){var M,D,k,q,be,Pe;return ae(this,function(Ge){switch(Ge.label){case 0:if(Ge.trys.push([0,5,,6]),M=b?c(c({},((0,Vi.Qc)(b).hash||"#").substr(1).split("&").map(function(at){return at.split("=")}).reduce(function(at,xt){var Ct=Me(xt,2);return at[Ct[0]]=Ct[1],at},{})),((0,Vi.Qc)(b).query||"").split("&").map(function(at){return at.split("=")}).reduce(function(at,xt){var Ct=Me(xt,2);return at[Ct[0]]=Ct[1],at},{})):{},D=M.error_description,M.error)throw new Error(D);return k=this._validateState(M),Mi.debug("Starting "+this._config.responseType+" flow with "+b),"code"!==this._config.responseType?[3,2]:(q=[{}],[4,this._handleCodeFlow(b)]);case 1:return[2,c.apply(void 0,[c.apply(void 0,q.concat([Ge.sent()])),{state:k}])];case 2:return be=[{}],[4,this._handleImplicitFlow(b)];case 3:return[2,c.apply(void 0,[c.apply(void 0,be.concat([Ge.sent()])),{state:k}])];case 4:return[3,6];case 5:throw Pe=Ge.sent(),Mi.debug("Error handling auth response.",Pe),Pe;case 6:return[2]}})})},U.prototype._validateState=function(b){if(b){var M=function(){var U=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),U}(),C=b.state;if(M&&M!==C)throw new Error("Invalid state in OAuth flow");return C}},U.prototype.signOut=function(){return W(this,void 0,void 0,function(){var b,M,C;return ae(this,function(D){return b="https://"+this._config.domain+"/logout?",M=Et(this._config)?this._cognitoClientId:this._config.oauth.clientID,C=Et(this._config)?this._config.redirectSignOut:this._config.returnTo,b+=Object.entries({client_id:M,logout_uri:encodeURIComponent(C)}).map(function(k){var q=Me(k,2);return q[0]+"="+q[1]}).join("&"),Xn("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+b),Mi.debug("Signing out from "+b),[2,this._urlOpener(b,C)]})})},U.prototype._generateState=function(b){for(var M="",C=b,D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";C>0;--C)M+=D[Math.round(Math.random()*(D.length-1))];return M},U.prototype._generateChallenge=function(b){var M=new yt.Sha256;M.update(b);var C=M.digestSync(),D=Ce.lW.from(C).toString("base64");return this._base64URL(D)},U.prototype._base64URL=function(b){return b.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},U.prototype._generateRandom=function(b){var C=new Uint8Array(b);if(typeof window<"u"&&window.crypto)window.crypto.getRandomValues(C);else for(var D=0;D<b;D+=1)C[D]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(C)},U.prototype._bufferToString=function(b){for(var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",C=[],D=0;D<b.byteLength;D+=1)C.push(M[b[D]%M.length]);return C.join("")},U}();var ei=(()=>{return(U=ei||(ei={})).DEFAULT_MSG="Authentication Error",U.EMPTY_EMAIL="Email cannot be empty",U.EMPTY_PHONE="Phone number cannot be empty",U.EMPTY_USERNAME="Username cannot be empty",U.INVALID_USERNAME="The username should either be a string or one of the sign in types",U.EMPTY_PASSWORD="Password cannot be empty",U.EMPTY_CODE="Confirmation code cannot be empty",U.SIGN_UP_ERROR="Error creating account",U.NO_MFA="No valid MFA method provided",U.INVALID_MFA="Invalid MFA type",U.EMPTY_CHALLENGE="Challenge response cannot be empty",U.NO_USER_SESSION="Failed to get the session because the user is empty",U.NETWORK_ERROR="Network Error",U.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",U.AUTOSIGNIN_ERROR="Please use your credentials to sign in",ei;var U})(),$s=new An.k("AuthError"),Fr=function(U){function b(M){var C=this,D=zs[M],k=D.message,q=D.log;return(C=U.call(this,k)||this).constructor=b,Object.setPrototypeOf(C,b.prototype),C.name="AuthError",C.log=q||k,$s.error(C.log),C}return H(b,U),b}(Error),Lu=function(U){function b(M){var C=U.call(this,M)||this;return C.constructor=b,Object.setPrototypeOf(C,b.prototype),C.name="NoUserPoolError",C}return H(b,U),b}(Fr),zs={noConfig:{message:ei.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:ei.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:ei.EMPTY_USERNAME},invalidUsername:{message:ei.INVALID_USERNAME},emptyPassword:{message:ei.EMPTY_PASSWORD},emptyCode:{message:ei.EMPTY_CODE},signUpError:{message:ei.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:ei.NO_MFA},invalidMFA:{message:ei.INVALID_MFA},emptyChallengeResponse:{message:ei.EMPTY_CHALLENGE},noUserSession:{message:ei.NO_USER_SESSION},deviceConfig:{message:ei.DEVICE_CONFIG},networkError:{message:ei.NETWORK_ERROR},autoSignInError:{message:ei.AUTOSIGNIN_ERROR},default:{message:ei.DEFAULT_MSG}},zt=new An.k("AuthClass"),Ws="aws.cognito.signin.user.admin",uo=typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Xt=function(U,b,M){an.X.dispatch("auth",{event:U,data:b,message:M},"Auth",uo)},ja=new(function(){function U(b){var M=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=Bt.c,this.wrapRefreshSessionCallback=function(C){return function(k,q){return q?Xt("tokenRefresh",void 0,"New token retrieved"):Xt("tokenRefresh_failure",k,"Failed to retrieve new token"),C(k,q)}},this.configure(b),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),an.X.listen("auth",function(C){switch(C.payload.event){case"verify":case"signIn":M._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":M._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":M._storage.setItem("amplify-signin-with-hostedUI","true")}}),js(),Ra(ye.t4.framework),ye.t4.observeFrameworkChanges(function(){Ra(ye.t4.framework)})}return U.prototype.getModuleName=function(){return"Auth"},U.prototype.configure=function(b){var M=this;if(!b)return this._config||{};zt.debug("configure Auth");var C=Object.assign({},this._config,(0,_e.h)(b).Auth,b);this._config=C;var D=this._config,k=D.userPoolId,q=D.userPoolWebClientId,be=D.cookieStorage,Pe=D.oauth,Ge=D.region,at=D.identityPoolId,xt=D.mandatorySignIn,Ct=D.refreshHandlers,Kt=D.identityPoolRegion,rn=D.clientMetadata,fn=D.endpoint,Pn=D.storage;if(Pn){if(!this._isValidAuthStorage(Pn))throw zt.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=Pn}else this._storage=be?new Di(be):b.ssr?new yn:(new tr.c).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),k){var hn={UserPoolId:k,ClientId:q,endpoint:fn};hn.Storage=this._storage,this.userPool=new Xr(hn,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:xt,region:Ge,userPoolId:k,identityPoolId:at,refreshHandlers:Ct,storage:this._storage,identityPoolRegion:Kt});var dn=Pe?Et(this._config.oauth)?Pe:Pe.awsCognito:void 0;if(dn){var Rn=Object.assign({cognitoClientId:q,UserPoolId:k,domain:dn.domain,scopes:dn.scope,redirectSignIn:dn.redirectSignIn,redirectSignOut:dn.redirectSignOut,responseType:dn.responseType,Storage:this._storage,urlOpener:dn.urlOpener,clientMetadata:rn},dn.options);this._oAuthHandler=new Ti({scopes:Rn.scopes,config:Rn,cognitoClientId:Rn.cognitoClientId});var cr={};!function(U){if((0,lt.lC)().isBrowser&&window.location)ti={url:window.location.href},cr[Ht=ti.url]||(cr[Ht]=!0,M._handleAuthResponse(Ht));else if(!(0,lt.lC)().isNode)throw new Error("Not supported");var ti,Ht}()}return Xt("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem||(this.isTrueStorageValue("amplify-polling-started")&&(Xt("autoSignIn_failure",null,ft.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")),this._config},U.prototype.signUp=function(b){for(var M=this,C=[],D=1;D<arguments.length;D++)C[D-1]=arguments[D];var k,q,be;if(!this.userPool)return this.rejectNoUserPool();var Ct,Pe=null,Ge=null,at=[],xt=null,Kt={enabled:!1},rn={},fn={};if(b&&"string"==typeof b){Pe=b,Ge=C?C[0]:null;var Pn=C?C[1]:null,hn=C?C[2]:null;Pn&&at.push(new Ms({Name:"email",Value:Pn})),hn&&at.push(new Ms({Name:"phone_number",Value:hn}))}else{if(!b||"object"!=typeof b)return this.rejectAuthError(ft.SignUpError);Pe=b.username,Ge=b.password,b&&b.clientMetadata?Ct=b.clientMetadata:this._config.clientMetadata&&(Ct=this._config.clientMetadata);var dn=b.attributes;dn&&Object.keys(dn).map(function(cr){at.push(new Ms({Name:cr,Value:dn[cr]}))});var Rn=b.validationData;Rn&&(xt=[],Object.keys(Rn).map(function(cr){xt.push(new Ms({Name:cr,Value:Rn[cr]}))})),(Kt=null!==(k=b.autoSignIn)&&void 0!==k?k:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),rn=null!==(q=Kt.validationData)&&void 0!==q?q:{},fn=null!==(be=Kt.clientMetaData)&&void 0!==be?be:{})}return Pe?Ge?(zt.debug("signUp attrs:",at),zt.debug("signUp validation data:",xt),new Promise(function(cr,Er){M.userPool.signUp(Pe,Ge,at,xt,function(ti,Ht){ti?(Xt("signUp_failure",ti,Pe+" failed to signup"),Er(ti)):(Xt("signUp",Ht,Pe+" has signed up successfully"),Kt.enabled&&M.handleAutoSignIn(Pe,Ge,rn,fn,Ht),cr(Ht))},Ct)})):this.rejectAuthError(ft.EmptyPassword):this.rejectAuthError(ft.EmptyUsername)},U.prototype.handleAutoSignIn=function(b,M,C,D,k){this.autoSignInInitiated=!0;var q=new te({Username:b,Password:M,ValidationData:C,ClientMetadata:D});k.userConfirmed?this.signInAfterUserConfirmed(q):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(q):this.handleCodeAutoSignIn(q)},U.prototype.handleCodeAutoSignIn=function(b){var M=this,C=function(D){"confirmSignUp"===D.payload.event&&M.signInAfterUserConfirmed(b,C)};an.X.listen("auth",C)},U.prototype.handleLinkAutoSignIn=function(b){var M=this;this._storage.setItem("amplify-polling-started","true");var C=Date.now(),D=setInterval(function(){Date.now()-C>18e4?(clearInterval(D),Xt("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),M._storage.removeItem("amplify-auto-sign-in")):M.signInAfterUserConfirmed(b,null,D)},5e3)},U.prototype.signInAfterUserConfirmed=function(b,M,C){return W(this,void 0,void 0,function(){var D,k,q=this;return ae(this,function(be){switch(be.label){case 0:D=this.createCognitoUser(b.getUsername()),be.label=1;case 1:return be.trys.push([1,3,,4]),[4,D.authenticateUser(b,this.authCallbacks(D,function(Pe){Xt("autoSignIn",Pe,b.getUsername()+" has signed in successfully"),M&&an.X.remove("auth",M),C&&(clearInterval(C),q._storage.removeItem("amplify-polling-started")),q._storage.removeItem("amplify-auto-sign-in")},function(Pe){zt.error(Pe),q._storage.removeItem("amplify-auto-sign-in")}))];case 2:return be.sent(),[3,4];case 3:return k=be.sent(),zt.error(k),[3,4];case 4:return[2]}})})},U.prototype.confirmSignUp=function(b,M,C){var D=this;if(!this.userPool)return this.rejectNoUserPool();if(!b)return this.rejectAuthError(ft.EmptyUsername);if(!M)return this.rejectAuthError(ft.EmptyCode);var be,k=this.createCognitoUser(b),q=!C||"boolean"!=typeof C.forceAliasCreation||C.forceAliasCreation;return C&&C.clientMetadata?be=C.clientMetadata:this._config.clientMetadata&&(be=this._config.clientMetadata),new Promise(function(Pe,Ge){k.confirmRegistration(M,q,function(at,xt){at?Ge(at):(Xt("confirmSignUp",xt,b+" has been confirmed successfully"),D.isTrueStorageValue("amplify-auto-sign-in")&&!D.autoSignInInitiated&&(Xt("autoSignIn_failure",null,ft.AutoSignInError),D._storage.removeItem("amplify-auto-sign-in")),Pe(xt))},be)})},U.prototype.isTrueStorageValue=function(b){var M=this._storage.getItem(b);return!!M&&"true"===M},U.prototype.resendSignUp=function(b,M){if(void 0===M&&(M=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!b)return this.rejectAuthError(ft.EmptyUsername);var C=this.createCognitoUser(b);return new Promise(function(D,k){C.resendConfirmationCode(function(q,be){q?k(q):D(be)},M)})},U.prototype.signIn=function(b,M,C){if(void 0===C&&(C=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var D=null,k=null,q={};if("string"==typeof b)D=b,k=M;else{if(!function pt(U){return!!U.username}(b))return this.rejectAuthError(ft.InvalidUsername);typeof M<"u"&&zt.warn("The password should be defined under the first parameter object!"),D=b.username,k=b.password,q=b.validationData}if(!D)return this.rejectAuthError(ft.EmptyUsername);var be=new te({Username:D,Password:k,ValidationData:q,ClientMetadata:C});return k?this.signInWithPassword(be):this.signInWithoutPassword(be)},U.prototype.authCallbacks=function(b,M,C){var D=this,k=this;return{onSuccess:function(q){return W(D,void 0,void 0,function(){var be,Pe,Ge,at;return ae(this,function(xt){switch(xt.label){case 0:zt.debug(q),delete b.challengeName,delete b.challengeParam,xt.label=1;case 1:return xt.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return xt.sent(),[4,this.Credentials.set(q,"session")];case 3:return be=xt.sent(),zt.debug("succeed to get cognito credentials",be),[3,9];case 4:return Pe=xt.sent(),zt.debug("cannot get cognito credentials",Pe),[3,9];case 5:return xt.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return Ge=xt.sent(),k.user=Ge,Xt("signIn",Ge,"A user "+b.getUsername()+" has been signed in"),M(Ge),[3,8];case 7:return at=xt.sent(),zt.error("Failed to get the signed in user",at),C(at),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(q){zt.debug("signIn failure",q),Xt("signIn_failure",q,b.getUsername()+" failed to signin"),C(q)},customChallenge:function(q){zt.debug("signIn custom challenge answer required"),b.challengeName="CUSTOM_CHALLENGE",b.challengeParam=q,M(b)},mfaRequired:function(q,be){zt.debug("signIn MFA required"),b.challengeName=q,b.challengeParam=be,M(b)},mfaSetup:function(q,be){zt.debug("signIn mfa setup",q),b.challengeName=q,b.challengeParam=be,M(b)},newPasswordRequired:function(q,be){zt.debug("signIn new password"),b.challengeName="NEW_PASSWORD_REQUIRED",b.challengeParam={userAttributes:q,requiredAttributes:be},M(b)},totpRequired:function(q,be){zt.debug("signIn totpRequired"),b.challengeName=q,b.challengeParam=be,M(b)},selectMFAType:function(q,be){zt.debug("signIn selectMFAType",q),b.challengeName=q,b.challengeParam=be,M(b)}}},U.prototype.signInWithPassword=function(b){var M=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var C=this.createCognitoUser(b.getUsername());return this.pendingSignIn=new Promise(function(D,k){C.authenticateUser(b,M.authCallbacks(C,function(q){M.pendingSignIn=null,D(q)},function(q){M.pendingSignIn=null,k(q)}))}),this.pendingSignIn},U.prototype.signInWithoutPassword=function(b){var M=this,C=this.createCognitoUser(b.getUsername());return C.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(D,k){C.initiateAuth(b,M.authCallbacks(C,D,k))})},U.prototype.getMFAOptions=function(b){return new Promise(function(M,C){b.getMFAOptions(function(D,k){if(D)return zt.debug("get MFA Options failed",D),void C(D);zt.debug("get MFA options success",k),M(k)})})},U.prototype.getPreferredMFA=function(b,M){var C=this,D=this;return new Promise(function(k,q){b.getUserData(function(Ge,at){return W(C,void 0,void 0,function(){var xt,Ct;return ae(this,function(Kt){switch(Kt.label){case 0:if(!Ge)return[3,5];if(zt.debug("getting preferred mfa failed",Ge),!this.isSessionInvalid(Ge))return[3,4];Kt.label=1;case 1:return Kt.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(b)];case 2:return Kt.sent(),[3,4];case 3:return xt=Kt.sent(),q(new Error("Session is invalid due to: "+Ge.message+" and failed to clean up invalid session: "+xt.message)),[2];case 4:return q(Ge),[2];case 5:return(Ct=D._getMfaTypeFromUserData(at))?(k(Ct),[2]):(q("invalid MFA Type"),[2])}})})},{bypassCache:!!M&&M.bypassCache,clientMetadata:C._config.clientMetadata})})},U.prototype._getMfaTypeFromUserData=function(b){var M=null,C=b.PreferredMfaSetting;if(C)M=C;else{var D=b.UserMFASettingList;D?0===D.length?M="NOMFA":zt.debug("invalid case for getPreferredMFA",b):M=b.MFAOptions?"SMS_MFA":"NOMFA"}return M},U.prototype._getUserData=function(b,M){var C=this;return new Promise(function(D,k){b.getUserData(function(q,be){return W(C,void 0,void 0,function(){var Pe;return ae(this,function(Ge){switch(Ge.label){case 0:if(!q)return[3,5];if(zt.debug("getting user data failed",q),!this.isSessionInvalid(q))return[3,4];Ge.label=1;case 1:return Ge.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(b)];case 2:return Ge.sent(),[3,4];case 3:return Pe=Ge.sent(),k(new Error("Session is invalid due to: "+q.message+" and failed to clean up invalid session: "+Pe.message)),[2];case 4:return k(q),[2];case 5:D(be),Ge.label=6;case 6:return[2]}})})},M)})},U.prototype.setPreferredMFA=function(b,M){return W(this,void 0,void 0,function(){var C,D,k,q,Pe,Ge,xt=this;return ae(this,function(Ct){switch(Ct.label){case 0:return[4,this._getUserData(b,{bypassCache:!0,clientMetadata:C=this._config.clientMetadata})];case 1:switch(D=Ct.sent(),k=null,q=null,M){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return q={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return k={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return Pe=D.UserMFASettingList,[4,this._getMfaTypeFromUserData(D)];case 5:if("NOMFA"===(Ge=Ct.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===Ge)k={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==Ge)return[2,this.rejectAuthError(ft.InvalidMFA)];q={PreferredMfa:!1,Enabled:!1}}return Pe&&0!==Pe.length&&Pe.forEach(function(Kt){"SMS_MFA"===Kt?k={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===Kt&&(q={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return zt.debug("no validmfa method provided"),[2,this.rejectAuthError(ft.NoMFA)];case 7:return[2,new Promise(function(Kt,rn){b.setUserMfaPreference(k,q,function(fn,Pn){if(fn)return zt.debug("Set user mfa preference error",fn),rn(fn);zt.debug("Set user mfa success",Pn),zt.debug("Caching the latest user data into local"),b.getUserData(function(hn,dn){return W(xt,void 0,void 0,function(){var Rn;return ae(this,function(cr){switch(cr.label){case 0:if(!hn)return[3,5];if(zt.debug("getting user data failed",hn),!this.isSessionInvalid(hn))return[3,4];cr.label=1;case 1:return cr.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(b)];case 2:return cr.sent(),[3,4];case 3:return Rn=cr.sent(),rn(new Error("Session is invalid due to: "+hn.message+" and failed to clean up invalid session: "+Rn.message)),[2];case 4:return[2,rn(hn)];case 5:return[2,Kt(Pn)]}})})},{bypassCache:!0,clientMetadata:C})})})]}})})},U.prototype.disableSMS=function(b){return new Promise(function(M,C){b.disableMFA(function(D,k){if(D)return zt.debug("disable mfa failed",D),void C(D);zt.debug("disable mfa succeed",k),M(k)})})},U.prototype.enableSMS=function(b){return new Promise(function(M,C){b.enableMFA(function(D,k){if(D)return zt.debug("enable mfa failed",D),void C(D);zt.debug("enable mfa succeed",k),M(k)})})},U.prototype.setupTOTP=function(b){return new Promise(function(M,C){b.associateSoftwareToken({onFailure:function(D){zt.debug("associateSoftwareToken failed",D),C(D)},associateSecretCode:function(D){zt.debug("associateSoftwareToken success",D),M(D)}})})},U.prototype.verifyTotpToken=function(b,M){var C;zt.debug("verification totp token",b,M),b&&"function"==typeof b.getSignInUserSession&&(C=b.getSignInUserSession());var D=C?.isValid();return new Promise(function(k,q){b.verifySoftwareToken(M,"My TOTP device",{onFailure:function(be){zt.debug("verifyTotpToken failed",be),q(be)},onSuccess:function(be){D||Xt("signIn",b,"A user "+b.getUsername()+" has been signed in"),Xt("verify",b,"A user "+b.getUsername()+" has been verified"),zt.debug("verifyTotpToken success",be),k(be)}})})},U.prototype.confirmSignIn=function(b,M,C,D){var k=this;if(void 0===D&&(D=this._config.clientMetadata),!M)return this.rejectAuthError(ft.EmptyCode);var q=this;return new Promise(function(be,Pe){b.sendMFACode(M,{onSuccess:function(Ge){return W(k,void 0,void 0,function(){var at,xt,Ct,Kt;return ae(this,function(rn){switch(rn.label){case 0:zt.debug(Ge),rn.label=1;case 1:return rn.trys.push([1,4,5,10]),[4,this.Credentials.clear()];case 2:return rn.sent(),[4,this.Credentials.set(Ge,"session")];case 3:return at=rn.sent(),zt.debug("succeed to get cognito credentials",at),[3,10];case 4:return xt=rn.sent(),zt.debug("cannot get cognito credentials",xt),[3,10];case 5:q.user=b,rn.label=6;case 6:return rn.trys.push([6,8,,9]),[4,this.currentUserPoolUser()];case 7:return Ct=rn.sent(),b.attributes=Ct.attributes,[3,9];case 8:return Kt=rn.sent(),zt.debug("cannot get updated Cognito User",Kt),[3,9];case 9:return Xt("signIn",b,"A user "+b.getUsername()+" has been signed in"),be(b),[7];case 10:return[2]}})})},onFailure:function(Ge){zt.debug("confirm signIn failure",Ge),Pe(Ge)}},C,D)})},U.prototype.completeNewPassword=function(b,M,C,D){var k=this;if(void 0===C&&(C={}),void 0===D&&(D=this._config.clientMetadata),!M)return this.rejectAuthError(ft.EmptyPassword);var q=this;return new Promise(function(be,Pe){b.completeNewPasswordChallenge(M,C,{onSuccess:function(Ge){return W(k,void 0,void 0,function(){var at,xt;return ae(this,function(Ct){switch(Ct.label){case 0:zt.debug(Ge),Ct.label=1;case 1:return Ct.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return Ct.sent(),[4,this.Credentials.set(Ge,"session")];case 3:return at=Ct.sent(),zt.debug("succeed to get cognito credentials",at),[3,6];case 4:return xt=Ct.sent(),zt.debug("cannot get cognito credentials",xt),[3,6];case 5:return q.user=b,Xt("signIn",b,"A user "+b.getUsername()+" has been signed in"),be(b),[7];case 6:return[2]}})})},onFailure:function(Ge){zt.debug("completeNewPassword failure",Ge),Xt("completeNewPassword_failure",Ge,k.user+" failed to complete the new password flow"),Pe(Ge)},mfaRequired:function(Ge,at){zt.debug("signIn MFA required"),b.challengeName=Ge,b.challengeParam=at,be(b)},mfaSetup:function(Ge,at){zt.debug("signIn mfa setup",Ge),b.challengeName=Ge,b.challengeParam=at,be(b)},totpRequired:function(Ge,at){zt.debug("signIn mfa setup",Ge),b.challengeName=Ge,b.challengeParam=at,be(b)}},D)})},U.prototype.sendCustomChallengeAnswer=function(b,M,C){var D=this;return void 0===C&&(C=this._config.clientMetadata),this.userPool?M?new Promise(function(q,be){b.sendCustomChallengeAnswer(M,D.authCallbacks(b,q,be),C)}):this.rejectAuthError(ft.EmptyChallengeResponse):this.rejectNoUserPool()},U.prototype.deleteUserAttributes=function(b,M){var C=this;return new Promise(function(D,k){C.userSession(b).then(function(q){b.deleteAttributes(M,function(be,Pe){return be?k(be):D(Pe)})})})},U.prototype.deleteUser=function(){return W(this,void 0,void 0,function(){var b,M,C=this;return ae(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,this._storageSync];case 1:return D.sent(),[3,3];case 2:throw b=D.sent(),zt.debug("Failed to sync cache info into memory",b),new Error(b);case 3:return M=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(k,q){return W(C,void 0,void 0,function(){var be,Pe=this;return ae(this,function(Ge){if(this.userPool){if(!(be=this.userPool.getCurrentUser()))return zt.debug("Failed to get user from user pool"),[2,q(new Error("No current user."))];be.getSession(function(at,xt){return W(Pe,void 0,void 0,function(){var Ct,Kt=this;return ae(this,function(rn){switch(rn.label){case 0:if(!at)return[3,5];if(zt.debug("Failed to get the user session",at),!this.isSessionInvalid(at))return[3,4];rn.label=1;case 1:return rn.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(be)];case 2:return rn.sent(),[3,4];case 3:return Ct=rn.sent(),q(new Error("Session is invalid due to: "+at.message+" and failed to clean up invalid session: "+Ct.message)),[2];case 4:return[2,q(at)];case 5:be.deleteUser(function(fn,Pn){if(fn)q(fn);else{Xt("userDeleted",Pn,"The authenticated user has been deleted."),be.signOut(),Kt.user=null;try{Kt.cleanCachedItems()}catch{zt.debug("failed to clear cached items")}M?Kt.oAuthSignOutRedirect(k,q):(Xt("signOut",Kt.user,"A user has been signed out"),k(Pn))}}),rn.label=6;case 6:return[2]}})})})}else zt.debug("no Congito User pool"),q(new Error("Cognito User pool does not exist"));return[2]})})})]}})})},U.prototype.updateUserAttributes=function(b,M,C){var D=this;void 0===C&&(C=this._config.clientMetadata);var k=[],q=this;return new Promise(function(be,Pe){q.userSession(b).then(function(Ge){for(var at in M)"sub"!==at&&at.indexOf("_verified")<0&&k.push({Name:at,Value:M[at]});b.updateAttributes(k,function(Ct,Kt,rn){if(Ct)return Xt("updateUserAttributes_failure",Ct,"Failed to update attributes"),Pe(Ct);var fn=D.createUpdateAttributesResultList(M,rn?.CodeDeliveryDetailsList);return Xt("updateUserAttributes",fn,"Attributes successfully updated"),be(Kt)},C)})})},U.prototype.createUpdateAttributesResultList=function(b,M){var C={};return Object.keys(b).forEach(function(D){C[D]={isUpdated:!0};var k=M?.find(function(q){return q.AttributeName===D});k&&(C[D].isUpdated=!1,C[D].codeDeliveryDetails=k)}),C},U.prototype.userAttributes=function(b){var M=this;return new Promise(function(C,D){M.userSession(b).then(function(k){b.getUserAttributes(function(q,be){q?D(q):C(be)})})})},U.prototype.verifiedContact=function(b){var M=this;return this.userAttributes(b).then(function(C){var D=M.attributesToObject(C),k={},q={};return D.email&&(D.email_verified?q.email=D.email:k.email=D.email),D.phone_number&&(D.phone_number_verified?q.phone_number=D.phone_number:k.phone_number=D.phone_number),{verified:q,unverified:k}})},U.prototype.isErrorWithMessage=function(b){return"object"==typeof b&&Object.prototype.hasOwnProperty.call(b,"message")},U.prototype.isTokenRevokedError=function(b){return this.isErrorWithMessage(b)&&"Access Token has been revoked"===b.message},U.prototype.isRefreshTokenRevokedError=function(b){return this.isErrorWithMessage(b)&&"Refresh Token has been revoked"===b.message},U.prototype.isUserDisabledError=function(b){return this.isErrorWithMessage(b)&&"User is disabled."===b.message},U.prototype.isUserDoesNotExistError=function(b){return this.isErrorWithMessage(b)&&"User does not exist."===b.message},U.prototype.isRefreshTokenExpiredError=function(b){return this.isErrorWithMessage(b)&&"Refresh Token has expired"===b.message},U.prototype.isPasswordResetRequiredError=function(b){return this.isErrorWithMessage(b)&&"Password reset required for the user"===b.message},U.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},U.prototype.isSessionInvalid=function(b){return this.isUserDisabledError(b)||this.isUserDoesNotExistError(b)||this.isTokenRevokedError(b)||this.isRefreshTokenRevokedError(b)||this.isRefreshTokenExpiredError(b)||this.isPasswordResetRequiredError(b)},U.prototype.cleanUpInvalidSession=function(b){return W(this,void 0,void 0,function(){var C=this;return ae(this,function(D){switch(D.label){case 0:b.signOut(),this.user=null,D.label=1;case 1:return D.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return D.sent(),[3,4];case 3:return D.sent(),zt.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise(function(k,q){C.oAuthSignOutRedirect(k,q)})]:(Xt("signOut",this.user,"A user has been signed out"),[2])}})})},U.prototype.currentUserPoolUser=function(b){var M=this;return this.userPool?new Promise(function(C,D){M._storageSync.then(function(){return W(M,void 0,void 0,function(){var k,q,be,Pe,Ge,xt,Ct=this;return ae(this,function(Kt){switch(Kt.label){case 0:return this.isOAuthInProgress()?(zt.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(rn){var fn=setTimeout(function(){zt.debug("OAuth signIn in progress timeout"),an.X.remove("auth",Pn),rn()},1e4);function Pn(hn){var Rn=hn.payload.event;("cognitoHostedUI"===Rn||"cognitoHostedUI_failure"===Rn)&&(zt.debug("OAuth signIn resolved: "+Rn),clearTimeout(fn),an.X.remove("auth",Pn),rn())}an.X.listen("auth",Pn)})]):[3,2];case 1:Kt.sent(),Kt.label=2;case 2:if(!(k=this.userPool.getCurrentUser()))return zt.debug("Failed to get user from user pool"),D("No current user"),[2];Kt.label=3;case 3:return Kt.trys.push([3,7,,8]),[4,this._userSession(k)];case 4:return q=Kt.sent(),(be=!!b&&b.bypassCache)?[4,this.Credentials.clear()]:[3,6];case 5:Kt.sent(),Kt.label=6;case 6:return Pe=this._config.clientMetadata,(void 0===(Ge=q.getAccessToken().decodePayload().scope)?"":Ge).split(" ").includes(Ws)?(k.getUserData(function(rn,fn){return W(Ct,void 0,void 0,function(){var Pn,hn,dn,Rn,Er,ti;return ae(this,function(Ht){switch(Ht.label){case 0:if(!rn)return[3,7];if(zt.debug("getting user data failed",rn),!this.isSessionInvalid(rn))return[3,5];Ht.label=1;case 1:return Ht.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(k)];case 2:return Ht.sent(),[3,4];case 3:return Pn=Ht.sent(),D(new Error("Session is invalid due to: "+rn.message+" and failed to clean up invalid session: "+Pn.message)),[2];case 4:return D(rn),[3,6];case 5:C(k),Ht.label=6;case 6:return[2];case 7:for(hn=fn.PreferredMfaSetting||"NOMFA",dn=[],Rn=0;Rn<fn.UserAttributes.length;Rn++)Er=new Ms({Name:fn.UserAttributes[Rn].Name,Value:fn.UserAttributes[Rn].Value}),dn.push(Er);return ti=this.attributesToObject(dn),Object.assign(k,{attributes:ti,preferredMFA:hn}),[2,C(k)]}})})},{bypassCache:be,clientMetadata:Pe}),[3,8]):(zt.debug("Unable to get the user data because the "+Ws+" is not in the scopes of the access token"),[2,C(k)]);case 7:return xt=Kt.sent(),D(xt),[3,8];case 8:return[2]}})})}).catch(function(k){return zt.debug("Failed to sync cache info into memory",k),D(k)})}):this.rejectNoUserPool()},U.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},U.prototype.currentAuthenticatedUser=function(b){return W(this,void 0,void 0,function(){var M,C,D,k,q;return ae(this,function(be){switch(be.label){case 0:zt.debug("getting current authenticated user"),M=null,be.label=1;case 1:return be.trys.push([1,3,,4]),[4,this._storageSync];case 2:return be.sent(),[3,4];case 3:throw C=be.sent(),zt.debug("Failed to sync cache info into memory",C),C;case 4:try{(D=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(M=c(c({},D.user),{token:D.token}))}catch{zt.debug("cannot load federated user from auth storage")}return M?(this.user=M,zt.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:zt.debug("get current authenticated userpool user"),k=null,be.label=6;case 6:return be.trys.push([6,8,,9]),[4,this.currentUserPoolUser(b)];case 7:return k=be.sent(),[3,9];case 8:return"No userPool"===(q=be.sent())&&zt.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),zt.debug("The user is not authenticated by the error",q),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=k,[2,this.user]}})})},U.prototype.currentSession=function(){var b=this;return zt.debug("Getting current session"),this.userPool?new Promise(function(M,C){b.currentUserPoolUser().then(function(D){b.userSession(D).then(function(k){M(k)}).catch(function(k){zt.debug("Failed to get the current session",k),C(k)})}).catch(function(D){zt.debug("Failed to get the current user",D),C(D)})}):Promise.reject(new Error("No User Pool in the configuration."))},U.prototype._userSession=function(b){return W(this,void 0,void 0,function(){var M,C,D=this;return ae(this,function(k){switch(k.label){case 0:if(!b)return zt.debug("the user is null"),[2,this.rejectAuthError(ft.NoUserSession)];M=this._config.clientMetadata,0===this.inflightSessionPromiseCounter&&(this.inflightSessionPromise=new Promise(function(q,be){b.getSession(function(Pe,Ge){return W(D,void 0,void 0,function(){var at;return ae(this,function(xt){switch(xt.label){case 0:if(!Pe)return[3,5];if(zt.debug("Failed to get the session from user",b),!this.isSessionInvalid(Pe))return[3,4];xt.label=1;case 1:return xt.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(b)];case 2:return xt.sent(),[3,4];case 3:return at=xt.sent(),be(new Error("Session is invalid due to: "+Pe.message+" and failed to clean up invalid session: "+at.message)),[2];case 4:return be(Pe),[2];case 5:return zt.debug("Succeed to get the user session",Ge),q(Ge),[2]}})})},{clientMetadata:M})})),this.inflightSessionPromiseCounter++,k.label=1;case 1:return k.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return C=k.sent(),b.signInUserSession=C,[2,C];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}})})},U.prototype.userSession=function(b){return this._userSession(b)},U.prototype.currentUserCredentials=function(){return W(this,void 0,void 0,function(){var b,M,C=this;return ae(this,function(D){switch(D.label){case 0:zt.debug("Getting current user credentials"),D.label=1;case 1:return D.trys.push([1,3,,4]),[4,this._storageSync];case 2:return D.sent(),[3,4];case 3:throw b=D.sent(),zt.debug("Failed to sync cache info into memory",b),b;case 4:M=null;try{M=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(k){zt.debug("failed to get or parse item aws-amplify-federatedInfo",k)}return M?[2,this.Credentials.refreshFederatedToken(M)]:[2,this.currentSession().then(function(k){return zt.debug("getting session success",k),C.Credentials.set(k,"session")}).catch(function(){return zt.debug("getting guest credentials"),C.Credentials.set(null,"guest")})]}})})},U.prototype.currentCredentials=function(){return zt.debug("getting current credentials"),this.Credentials.get()},U.prototype.verifyUserAttribute=function(b,M,C){return void 0===C&&(C=this._config.clientMetadata),new Promise(function(D,k){b.getAttributeVerificationCode(M,{onSuccess:function(q){return D(q)},onFailure:function(q){return k(q)}},C)})},U.prototype.verifyUserAttributeSubmit=function(b,M,C){return C?new Promise(function(D,k){b.verifyAttribute(M,C,{onSuccess:function(q){D(q)},onFailure:function(q){k(q)}})}):this.rejectAuthError(ft.EmptyCode)},U.prototype.verifyCurrentUserAttribute=function(b){var M=this;return M.currentUserPoolUser().then(function(C){return M.verifyUserAttribute(C,b)})},U.prototype.verifyCurrentUserAttributeSubmit=function(b,M){var C=this;return C.currentUserPoolUser().then(function(D){return C.verifyUserAttributeSubmit(D,b,M)})},U.prototype.cognitoIdentitySignOut=function(b,M){return W(this,void 0,void 0,function(){var C,D,k=this;return ae(this,function(q){switch(q.label){case 0:return q.trys.push([0,2,,3]),[4,this._storageSync];case 1:return q.sent(),[3,3];case 2:throw C=q.sent(),zt.debug("Failed to sync cache info into memory",C),C;case 3:return D=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(be,Pe){b&&b.global?(zt.debug("user global sign out",M),M.getSession(function(at,xt){return W(k,void 0,void 0,function(){var Ct,Kt=this;return ae(this,function(rn){switch(rn.label){case 0:if(!at)return[3,5];if(zt.debug("failed to get the user session",at),!this.isSessionInvalid(at))return[3,4];rn.label=1;case 1:return rn.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(M)];case 2:return rn.sent(),[3,4];case 3:return Ct=rn.sent(),Pe(new Error("Session is invalid due to: "+at.message+" and failed to clean up invalid session: "+Ct.message)),[2];case 4:return[2,Pe(at)];case 5:return M.globalSignOut({onSuccess:function(fn){if(zt.debug("global sign out success"),!D)return be();Kt.oAuthSignOutRedirect(be,Pe)},onFailure:function(fn){return zt.debug("global sign out failed",fn),Pe(fn)}}),[2]}})})},{clientMetadata:k._config.clientMetadata})):(zt.debug("user sign out",M),M.signOut(function(){if(!D)return be();k.oAuthSignOutRedirect(be,Pe)}))})]}})})},U.prototype.oAuthSignOutRedirect=function(b,M){(0,lt.lC)().isBrowser?this.oAuthSignOutRedirectOrReject(M):this.oAuthSignOutAndResolve(b)},U.prototype.oAuthSignOutAndResolve=function(b){this._oAuthHandler.signOut(),b()},U.prototype.oAuthSignOutRedirectOrReject=function(b){this._oAuthHandler.signOut(),setTimeout(function(){return b(Error("Signout timeout fail"))},3e3)},U.prototype.signOut=function(b){return void 0===b&&(b={}),W(this,void 0,void 0,function(){var C,D;return ae(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return k.sent(),[3,3];case 2:return k.sent(),zt.debug("failed to clear cached items"),[3,3];case 3:if(!this.userPool)return[3,11];k.label=4;case 4:return k.trys.push([4,6,,7]),[4,this._storageSync];case 5:return k.sent(),[3,7];case 6:throw C=k.sent(),zt.debug("Failed to sync cache info into memory",C),C;case 7:return(D=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(b,D)]:[3,9];case 8:return k.sent(),[3,10];case 9:zt.debug("no current Cognito user"),k.label=10;case 10:return[3,12];case 11:zt.debug("no Cognito User pool"),k.label=12;case 12:return Xt("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},U.prototype.cleanCachedItems=function(){return W(this,void 0,void 0,function(){return ae(this,function(b){switch(b.label){case 0:return[4,this.Credentials.clear()];case 1:return b.sent(),[2]}})})},U.prototype.changePassword=function(b,M,C,D){var k=this;return void 0===D&&(D=this._config.clientMetadata),new Promise(function(q,be){k.userSession(b).then(function(Pe){b.changePassword(M,C,function(Ge,at){return Ge?(zt.debug("change password failure",Ge),be(Ge)):q(at)},D)})})},U.prototype.forgotPassword=function(b,M){if(void 0===M&&(M=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!b)return this.rejectAuthError(ft.EmptyUsername);var C=this.createCognitoUser(b);return new Promise(function(D,k){C.forgotPassword({onSuccess:function(){D()},onFailure:function(q){zt.debug("forgot password failure",q),Xt("forgotPassword_failure",q,b+" forgotPassword failed"),k(q)},inputVerificationCode:function(q){Xt("forgotPassword",C,b+" has initiated forgot password flow"),D(q)}},M)})},U.prototype.forgotPasswordSubmit=function(b,M,C,D){if(void 0===D&&(D=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!b)return this.rejectAuthError(ft.EmptyUsername);if(!M)return this.rejectAuthError(ft.EmptyCode);if(!C)return this.rejectAuthError(ft.EmptyPassword);var k=this.createCognitoUser(b);return new Promise(function(q,be){k.confirmPassword(M,C,{onSuccess:function(Pe){Xt("forgotPasswordSubmit",k,b+" forgotPasswordSubmit successful"),q(Pe)},onFailure:function(Pe){Xt("forgotPasswordSubmit_failure",Pe,b+" forgotPasswordSubmit failed"),be(Pe)}},D)})},U.prototype.currentUserInfo=function(){return W(this,void 0,void 0,function(){var b,M,C,D,k,be,Pe;return ae(this,function(Ge){switch(Ge.label){case 0:return(b=this.Credentials.getCredSource())&&"aws"!==b&&"userPool"!==b?[3,9]:[4,this.currentUserPoolUser().catch(function(at){return zt.error(at)})];case 1:if(!(Pe=Ge.sent()))return[2,null];Ge.label=2;case 2:return Ge.trys.push([2,8,,9]),[4,this.userAttributes(Pe)];case 3:M=Ge.sent(),C=this.attributesToObject(M),D=null,Ge.label=4;case 4:return Ge.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return D=Ge.sent(),[3,7];case 6:return k=Ge.sent(),zt.debug("Failed to retrieve credentials while getting current user info",k),[3,7];case 7:return[2,{id:D?D.identityId:void 0,username:Pe.getUsername(),attributes:C}];case 8:return be=Ge.sent(),zt.error("currentUserInfo error",be),[2,{}];case 9:return"federated"===b?[2,(Pe=this.user)||{}]:[2]}})})},U.prototype.federatedSignIn=function(b,M,C){return W(this,void 0,void 0,function(){var D,k,q,be,Pe,Ge,Kt,rn;return ae(this,function(fn){switch(fn.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(typeof b>"u"&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return ge(b)||function et(U){return U&&!!["customProvider"].find(function(M){return U.hasOwnProperty(M)})}(b)||function _t(U){return U&&!!["customState"].find(function(M){return U.hasOwnProperty(M)})}(b)||typeof b>"u"?(Pe=ge(D=b||{provider:Be.Cognito})?D.provider:D.customProvider,ge(D),k=D.customState,this._config.userPoolId&&(q=Et(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,be=Et(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,be,q,Pe,k)),[3,4]):[3,1];case 1:Pe=b;try{(Ge=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&zt.warn("There is already a signed in user: "+Ge+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch{}return[4,this.Credentials.set({provider:Pe,token:M.token,identity_id:M.identity_id,user:C,expires_at:M.expires_at},"federation")];case 2:return Kt=fn.sent(),[4,this.currentAuthenticatedUser()];case 3:return rn=fn.sent(),Xt("signIn",rn,"A user "+rn.username+" has been signed in"),zt.debug("federated sign in credentials",Kt),[2,Kt];case 4:return[2]}})})},U.prototype._handleAuthResponse=function(b){return W(this,void 0,void 0,function(){var M,C,D,k,q,Pe,Ge,at,xt,Ct,Kt,rn,fn;return ae(this,function(Pn){switch(Pn.label){case 0:if(this.oAuthFlowInProgress)return zt.debug("Skipping URL "+b+" current flow in progress"),[2];Pn.label=1;case 1:if(Pn.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(Xt("parsingCallbackUrl",{url:b},"The callback url is being parsed"),M=b||((0,lt.lC)().isBrowser?window.location.href:""),C=!!((0,Vi.Qc)(M).query||"").split("&").map(function(hn){return hn.split("=")}).find(function(hn){var Rn=Me(hn,1)[0];return"code"===Rn||"error"===Rn}),D=!!((0,Vi.Qc)(M).hash||"#").substr(1).split("&").map(function(hn){return hn.split("=")}).find(function(hn){var Rn=Me(hn,1)[0];return"access_token"===Rn||"error"===Rn}),!C&&!D)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),Pn.label=2;case 2:return Pn.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(M)];case 3:return k=Pn.sent(),q=k.accessToken,Pe=k.refreshToken,Ge=k.state,at=new qo({IdToken:new Bi({IdToken:k.idToken}),RefreshToken:new mi({RefreshToken:Pe}),AccessToken:new qn({AccessToken:q})}),xt=void 0,this._config.identityPoolId?[4,this.Credentials.set(at,"session")]:[3,5];case 4:xt=Pn.sent(),zt.debug("AWS credentials",xt),Pn.label=5;case 5:return Ct=/-/.test(Ge),(Kt=this.createCognitoUser(at.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(at),window&&typeof window.history<"u"&&window.history.replaceState(window.history.state,"",this._config.oauth.redirectSignIn),Xt("signIn",Kt,"A user "+Kt.getUsername()+" has been signed in"),Xt("cognitoHostedUI",Kt,"A user "+Kt.getUsername()+" has been signed in via Cognito Hosted UI"),Ct&&(rn=Ge.split("-").splice(1).join("-"),Xt("customOAuthState",function T(U){return U.match(/.{2}/g).map(function(b){return String.fromCharCode(parseInt(b,16))}).join("")}(rn),"State for user "+Kt.getUsername())),[2,xt];case 6:return fn=Pn.sent(),zt.debug("Error in cognito hosted auth response",fn),window&&typeof window.history<"u"&&window.history.replaceState(window.history.state,"",this._config.oauth.redirectSignIn),Xt("signIn_failure",fn,"The OAuth response flow failed"),Xt("cognitoHostedUI_failure",fn,"A failure occurred when returning to the Cognito Hosted UI"),Xt("customState_failure",fn,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},U.prototype.essentialCredentials=function(b){return{accessKeyId:b.accessKeyId,sessionToken:b.sessionToken,secretAccessKey:b.secretAccessKey,identityId:b.identityId,authenticated:b.authenticated}},U.prototype.attributesToObject=function(b){var M=this,C={};return b&&b.map(function(D){C[D.Name]="email_verified"===D.Name||"phone_number_verified"===D.Name?M.isTruthyString(D.Value)||!0===D.Value:D.Value}),C},U.prototype.isTruthyString=function(b){return"function"==typeof b.toLowerCase&&"true"===b.toLowerCase()},U.prototype.createCognitoUser=function(b){var M={Username:b,Pool:this.userPool};M.Storage=this._storage;var C=this._config.authenticationFlowType,D=new Ii(M);return C&&D.setAuthenticationFlowType(C),D},U.prototype._isValidAuthStorage=function(b){return!!b&&"function"==typeof b.getItem&&"function"==typeof b.setItem&&"function"==typeof b.removeItem&&"function"==typeof b.clear},U.prototype.noUserPoolErrorHandler=function(b){return!b||b.userPoolId&&b.identityPoolId?ft.NoConfig:ft.MissingAuthConfig},U.prototype.rejectAuthError=function(b){return Promise.reject(new Fr(b))},U.prototype.rejectNoUserPool=function(){var b=this.noUserPoolErrorHandler(this._config);return Promise.reject(new Lu(b))},U.prototype.rememberDevice=function(){return W(this,void 0,void 0,function(){var b,M;return ae(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return b=C.sent(),[3,3];case 2:return M=C.sent(),zt.debug("The user is not authenticated by the error",M),[2,Promise.reject("The user is not authenticated")];case 3:return b.getCachedDeviceKeyAndPassword(),[2,new Promise(function(D,k){b.setDeviceStatusRemembered({onSuccess:function(q){D(q)},onFailure:function(q){k("InvalidParameterException"===q.code?new Fr(ft.DeviceConfig):"NetworkError"===q.code?new Fr(ft.NetworkError):q)}})})]}})})},U.prototype.forgetDevice=function(){return W(this,void 0,void 0,function(){var b,M;return ae(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return b=C.sent(),[3,3];case 2:return M=C.sent(),zt.debug("The user is not authenticated by the error",M),[2,Promise.reject("The user is not authenticated")];case 3:return b.getCachedDeviceKeyAndPassword(),[2,new Promise(function(D,k){b.forgetDevice({onSuccess:function(q){D(q)},onFailure:function(q){k("InvalidParameterException"===q.code?new Fr(ft.DeviceConfig):"NetworkError"===q.code?new Fr(ft.NetworkError):q)}})})]}})})},U.prototype.fetchDevices=function(){return W(this,void 0,void 0,function(){var b,M;return ae(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return b=C.sent(),[3,3];case 2:throw M=C.sent(),zt.debug("The user is not authenticated by the error",M),new Error("The user is not authenticated");case 3:return b.getCachedDeviceKeyAndPassword(),[2,new Promise(function(D,k){b.listDevices(60,null,{onSuccess:function(be){var Pe=be.Devices.map(function(Ge){var at=Ge.DeviceAttributes.find(function(Ct){return"device_name"===Ct.Name})||{};return{id:Ge.DeviceKey,name:at.Value}});D(Pe)},onFailure:function(be){k("InvalidParameterException"===be.code?new Fr(ft.DeviceConfig):"NetworkError"===be.code?new Fr(ft.NetworkError):be)}})})]}})})},U}())(null);F.d.register(ja)},5432:function(Mt,Ae,P){var v;Mt=P.nmd(Mt),function(H){"object"==typeof global&&global;var re,se=2147483647,W=36,ae=1,X=26,ne=38,ce=700,Me=72,J=128,ee="-",Ie=/^xn--/,xe=/[^\x20-\x7E]/,Fe=/[\x2E\u3002\uFF0E\uFF61]/g,Ke={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},He=W-ae,Ye=Math.floor,Le=String.fromCharCode;function Ue(ye){throw RangeError(Ke[ye])}function Be(ye,_e){for(var De=ye.length,Te=[];De--;)Te[De]=_e(ye[De]);return Te}function ge(ye,_e){var De=ye.split("@"),Te="";return De.length>1&&(Te=De[0]+"@",ye=De[1]),Te+Be((ye=ye.replace(Fe,".")).split("."),_e).join(".")}function et(ye){for(var Ze,pe,_e=[],De=0,Te=ye.length;De<Te;)(Ze=ye.charCodeAt(De++))>=55296&&Ze<=56319&&De<Te?56320==(64512&(pe=ye.charCodeAt(De++)))?_e.push(((1023&Ze)<<10)+(1023&pe)+65536):(_e.push(Ze),De--):_e.push(Ze);return _e}function _t(ye){return Be(ye,function(_e){var De="";return _e>65535&&(De+=Le((_e-=65536)>>>10&1023|55296),_e=56320|1023&_e),De+Le(_e)}).join("")}function Et(ye){return ye-48<10?ye-22:ye-65<26?ye-65:ye-97<26?ye-97:W}function ft(ye,_e){return ye+22+75*(ye<26)-((0!=_e)<<5)}function pt(ye,_e,De){var Te=0;for(ye=De?Ye(ye/ce):ye>>1,ye+=Ye(ye/_e);ye>He*X>>1;Te+=W)ye=Ye(ye/He);return Ye(Te+(He+1)*ye/(ye+ne))}function vn(ye){var Te,gt,Yt,Wt,Tn,gn,dt,lt,Oe,At,_e=[],De=ye.length,Ze=0,pe=J,Ne=Me;for((gt=ye.lastIndexOf(ee))<0&&(gt=0),Yt=0;Yt<gt;++Yt)ye.charCodeAt(Yt)>=128&&Ue("not-basic"),_e.push(ye.charCodeAt(Yt));for(Wt=gt>0?gt+1:0;Wt<De;){for(Tn=Ze,gn=1,dt=W;Wt>=De&&Ue("invalid-input"),((lt=Et(ye.charCodeAt(Wt++)))>=W||lt>Ye((se-Ze)/gn))&&Ue("overflow"),Ze+=lt*gn,!(lt<(Oe=dt<=Ne?ae:dt>=Ne+X?X:dt-Ne));dt+=W)gn>Ye(se/(At=W-Oe))&&Ue("overflow"),gn*=At;Ne=pt(Ze-Tn,Te=_e.length+1,0==Tn),Ye(Ze/Te)>se-pe&&Ue("overflow"),pe+=Ye(Ze/Te),Ze%=Te,_e.splice(Ze++,0,pe)}return _t(_e)}function An(ye){var _e,De,Te,Ze,pe,Ne,gt,Yt,Wt,Tn,gn,lt,Oe,At,jt,dt=[];for(lt=(ye=et(ye)).length,_e=J,De=0,pe=Me,Ne=0;Ne<lt;++Ne)(gn=ye[Ne])<128&&dt.push(Le(gn));for(Te=Ze=dt.length,Ze&&dt.push(ee);Te<lt;){for(gt=se,Ne=0;Ne<lt;++Ne)(gn=ye[Ne])>=_e&&gn<gt&&(gt=gn);for(gt-_e>Ye((se-De)/(Oe=Te+1))&&Ue("overflow"),De+=(gt-_e)*Oe,_e=gt,Ne=0;Ne<lt;++Ne)if((gn=ye[Ne])<_e&&++De>se&&Ue("overflow"),gn==_e){for(Yt=De,Wt=W;!(Yt<(Tn=Wt<=pe?ae:Wt>=pe+X?X:Wt-pe));Wt+=W)dt.push(Le(ft(Tn+(jt=Yt-Tn)%(At=W-Tn),0))),Yt=Ye(jt/At);dt.push(Le(ft(Yt,0))),pe=pt(De,Oe,Te==Ze),De=0,++Te}++De,++_e}return dt.join("")}re={version:"1.3.2",ucs2:{decode:et,encode:_t},decode:vn,encode:An,toASCII:function Bt(ye){return ge(ye,function(_e){return xe.test(_e)?"xn--"+An(_e):_e})},toUnicode:function an(ye){return ge(ye,function(_e){return Ie.test(_e)?vn(_e.slice(4).toLowerCase()):_e})}},void 0!==(v=function(){return re}.call(Ae,P,Ae,Mt))&&(Mt.exports=v)}()},160:(Mt,Ae,P)=>{"use strict";var H=P(5432),c=P(7463);function ue(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}Ae.Qc=He;var de=/^([a-z0-9.+-]+:)/i,re=/:[0-9]*$/,se=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ae=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),X=["'"].concat(ae),ne=["%","/","?",";","#"].concat(X),ce=["/","?","#"],J=/^[+a-z0-9A-Z_-]{0,63}$/,ee=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ie={javascript:!0,"javascript:":!0},xe={javascript:!0,"javascript:":!0},Fe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Ke=P(7137);function He(Ue,Be,ge){if(Ue&&c.isObject(Ue)&&Ue instanceof ue)return Ue;var et=new ue;return et.parse(Ue,Be,ge),et}ue.prototype.parse=function(Ue,Be,ge){if(!c.isString(Ue))throw new TypeError("Parameter 'url' must be a string, not "+typeof Ue);var et=Ue.indexOf("?"),_t=-1!==et&&et<Ue.indexOf("#")?"?":"#",Et=Ue.split(_t);Et[0]=Et[0].replace(/\\/g,"/");var pt=Ue=Et.join(_t);if(pt=pt.trim(),!ge&&1===Ue.split("#").length){var vn=se.exec(pt);if(vn)return this.path=pt,this.href=pt,this.pathname=vn[1],vn[2]?(this.search=vn[2],this.query=Be?Ke.parse(this.search.substr(1)):this.search.substr(1)):Be&&(this.search="",this.query={}),this}var An=de.exec(pt);if(An){var an=(An=An[0]).toLowerCase();this.protocol=an,pt=pt.substr(An.length)}if(ge||An||pt.match(/^\/\/[^@\/]+@[^@\/]+/)){var Bt="//"===pt.substr(0,2);Bt&&(!An||!xe[An])&&(pt=pt.substr(2),this.slashes=!0)}if(!xe[An]&&(Bt||An&&!Fe[An])){for(var ye=-1,_e=0;_e<ce.length;_e++)-1!==(De=pt.indexOf(ce[_e]))&&(-1===ye||De<ye)&&(ye=De);var Te,Ze;for(-1!==(Ze=-1===ye?pt.lastIndexOf("@"):pt.lastIndexOf("@",ye))&&(Te=pt.slice(0,Ze),pt=pt.slice(Ze+1),this.auth=decodeURIComponent(Te)),ye=-1,_e=0;_e<ne.length;_e++){var De;-1!==(De=pt.indexOf(ne[_e]))&&(-1===ye||De<ye)&&(ye=De)}-1===ye&&(ye=pt.length),this.host=pt.slice(0,ye),pt=pt.slice(ye),this.parseHost(),this.hostname=this.hostname||"";var pe="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!pe)for(var Ne=this.hostname.split(/\./),gt=(_e=0,Ne.length);_e<gt;_e++){var Yt=Ne[_e];if(Yt&&!Yt.match(J)){for(var Wt="",Tn=0,gn=Yt.length;Tn<gn;Tn++)Yt.charCodeAt(Tn)>127?Wt+="x":Wt+=Yt[Tn];if(!Wt.match(J)){var dt=Ne.slice(0,_e),lt=Ne.slice(_e+1),Oe=Yt.match(ee);Oe&&(dt.push(Oe[1]),lt.unshift(Oe[2])),lt.length&&(pt="/"+lt.join(".")+pt),this.hostname=dt.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),pe||(this.hostname=H.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,pe&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==pt[0]&&(pt="/"+pt))}if(!Ie[an])for(_e=0,gt=X.length;_e<gt;_e++){var yn=X[_e];if(-1!==pt.indexOf(yn)){var tr=encodeURIComponent(yn);tr===yn&&(tr=escape(yn)),pt=pt.split(yn).join(tr)}}var ve=pt.indexOf("#");-1!==ve&&(this.hash=pt.substr(ve),pt=pt.slice(0,ve));var T=pt.indexOf("?");return-1!==T?(this.search=pt.substr(T),this.query=pt.substr(T+1),Be&&(this.query=Ke.parse(this.query)),pt=pt.slice(0,T)):Be&&(this.search="",this.query={}),pt&&(this.pathname=pt),Fe[an]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},ue.prototype.format=function(){var Ue=this.auth||"";Ue&&(Ue=(Ue=encodeURIComponent(Ue)).replace(/%3A/i,":"),Ue+="@");var Be=this.protocol||"",ge=this.pathname||"",et=this.hash||"",_t=!1,Et="";this.host?_t=Ue+this.host:this.hostname&&(_t=Ue+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(_t+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(Et=Ke.stringify(this.query));var ft=this.search||Et&&"?"+Et||"";return Be&&":"!==Be.substr(-1)&&(Be+=":"),this.slashes||(!Be||Fe[Be])&&!1!==_t?(_t="//"+(_t||""),ge&&"/"!==ge.charAt(0)&&(ge="/"+ge)):_t||(_t=""),et&&"#"!==et.charAt(0)&&(et="#"+et),ft&&"?"!==ft.charAt(0)&&(ft="?"+ft),Be+_t+(ge=ge.replace(/[?#]/g,function(pt){return encodeURIComponent(pt)}))+(ft=ft.replace("#","%23"))+et},ue.prototype.resolve=function(Ue){return this.resolveObject(He(Ue,!1,!0)).format()},ue.prototype.resolveObject=function(Ue){if(c.isString(Ue)){var Be=new ue;Be.parse(Ue,!1,!0),Ue=Be}for(var ge=new ue,et=Object.keys(this),_t=0;_t<et.length;_t++){var Et=et[_t];ge[Et]=this[Et]}if(ge.hash=Ue.hash,""===Ue.href)return ge.href=ge.format(),ge;if(Ue.slashes&&!Ue.protocol){for(var ft=Object.keys(Ue),pt=0;pt<ft.length;pt++){var vn=ft[pt];"protocol"!==vn&&(ge[vn]=Ue[vn])}return Fe[ge.protocol]&&ge.hostname&&!ge.pathname&&(ge.path=ge.pathname="/"),ge.href=ge.format(),ge}if(Ue.protocol&&Ue.protocol!==ge.protocol){if(!Fe[Ue.protocol]){for(var An=Object.keys(Ue),an=0;an<An.length;an++){var Bt=An[an];ge[Bt]=Ue[Bt]}return ge.href=ge.format(),ge}if(ge.protocol=Ue.protocol,Ue.host||xe[Ue.protocol])ge.pathname=Ue.pathname;else{for(var gt=(Ue.pathname||"").split("/");gt.length&&!(Ue.host=gt.shift()););Ue.host||(Ue.host=""),Ue.hostname||(Ue.hostname=""),""!==gt[0]&&gt.unshift(""),gt.length<2&&gt.unshift(""),ge.pathname=gt.join("/")}return ge.search=Ue.search,ge.query=Ue.query,ge.host=Ue.host||"",ge.auth=Ue.auth,ge.hostname=Ue.hostname||Ue.host,ge.port=Ue.port,(ge.pathname||ge.search)&&(ge.path=(ge.pathname||"")+(ge.search||"")),ge.slashes=ge.slashes||Ue.slashes,ge.href=ge.format(),ge}var De=ge.pathname&&"/"===ge.pathname.charAt(0),Te=Ue.host||Ue.pathname&&"/"===Ue.pathname.charAt(0),Ze=Te||De||ge.host&&Ue.pathname,pe=Ze,Ne=ge.pathname&&ge.pathname.split("/")||[],Yt=(gt=Ue.pathname&&Ue.pathname.split("/")||[],ge.protocol&&!Fe[ge.protocol]);if(Yt&&(ge.hostname="",ge.port=null,ge.host&&(""===Ne[0]?Ne[0]=ge.host:Ne.unshift(ge.host)),ge.host="",Ue.protocol&&(Ue.hostname=null,Ue.port=null,Ue.host&&(""===gt[0]?gt[0]=Ue.host:gt.unshift(Ue.host)),Ue.host=null),Ze=Ze&&(""===gt[0]||""===Ne[0])),Te)ge.host=Ue.host||""===Ue.host?Ue.host:ge.host,ge.hostname=Ue.hostname||""===Ue.hostname?Ue.hostname:ge.hostname,ge.search=Ue.search,ge.query=Ue.query,Ne=gt;else if(gt.length)Ne||(Ne=[]),Ne.pop(),Ne=Ne.concat(gt),ge.search=Ue.search,ge.query=Ue.query;else if(!c.isNullOrUndefined(Ue.search))return Yt&&(ge.hostname=ge.host=Ne.shift(),(Wt=!!(ge.host&&ge.host.indexOf("@")>0)&&ge.host.split("@"))&&(ge.auth=Wt.shift(),ge.host=ge.hostname=Wt.shift())),ge.search=Ue.search,ge.query=Ue.query,(!c.isNull(ge.pathname)||!c.isNull(ge.search))&&(ge.path=(ge.pathname?ge.pathname:"")+(ge.search?ge.search:"")),ge.href=ge.format(),ge;if(!Ne.length)return ge.pathname=null,ge.path=ge.search?"/"+ge.search:null,ge.href=ge.format(),ge;for(var Tn=Ne.slice(-1)[0],gn=(ge.host||Ue.host||Ne.length>1)&&("."===Tn||".."===Tn)||""===Tn,dt=0,lt=Ne.length;lt>=0;lt--)"."===(Tn=Ne[lt])?Ne.splice(lt,1):".."===Tn?(Ne.splice(lt,1),dt++):dt&&(Ne.splice(lt,1),dt--);if(!Ze&&!pe)for(;dt--;dt)Ne.unshift("..");Ze&&""!==Ne[0]&&(!Ne[0]||"/"!==Ne[0].charAt(0))&&Ne.unshift(""),gn&&"/"!==Ne.join("/").substr(-1)&&Ne.push("");var Wt,Oe=""===Ne[0]||Ne[0]&&"/"===Ne[0].charAt(0);return Yt&&(ge.hostname=ge.host=Oe?"":Ne.length?Ne.shift():"",(Wt=!!(ge.host&&ge.host.indexOf("@")>0)&&ge.host.split("@"))&&(ge.auth=Wt.shift(),ge.host=ge.hostname=Wt.shift())),(Ze=Ze||ge.host&&Ne.length)&&!Oe&&Ne.unshift(""),Ne.length?ge.pathname=Ne.join("/"):(ge.pathname=null,ge.path=null),(!c.isNull(ge.pathname)||!c.isNull(ge.search))&&(ge.path=(ge.pathname?ge.pathname:"")+(ge.search?ge.search:"")),ge.auth=Ue.auth||ge.auth,ge.slashes=ge.slashes||Ue.slashes,ge.href=ge.format(),ge},ue.prototype.parseHost=function(){var Ue=this.host,Be=re.exec(Ue);Be&&(":"!==(Be=Be[0])&&(this.port=Be.substr(1)),Ue=Ue.substr(0,Ue.length-Be.length)),Ue&&(this.hostname=Ue)}},7463:Mt=>{"use strict";Mt.exports={isString:function(Ae){return"string"==typeof Ae},isObject:function(Ae){return"object"==typeof Ae&&null!==Ae},isNull:function(Ae){return null===Ae},isNullOrUndefined:function(Ae){return null==Ae}}},6699:(Mt,Ae,P)=>{"use strict";P.d(Ae,{d:()=>de});var v=P(8624),c=new v.k("Amplify"),de=new(function(){function re(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=v.k,this.ServiceWorker=null}return re.prototype.register=function(se){c.debug("component registered in amplify",se),this._components.push(se),"function"==typeof se.getModuleName?(this._modules[se.getModuleName()]=se,this[se.getModuleName()]=se):c.debug("no getModuleName method for component",se),se.configure(this._config)},re.prototype.configure=function(se){var W=this;return se?(this._config=Object.assign(this._config,se),c.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(ae){var X=function(re,se){var W="function"==typeof Symbol&&re[Symbol.iterator];if(!W)return re;var X,ce,ae=W.call(re),ne=[];try{for(;(void 0===se||se-- >0)&&!(X=ae.next()).done;)ne.push(X.value)}catch(Me){ce={error:Me}}finally{try{X&&!X.done&&(W=ae.return)&&W.call(ae)}finally{if(ce)throw ce.error}}return ne}(ae,2),ce=X[1];Object.keys(ce).forEach(function(Me){W._modules[Me]&&(ce[Me]=W._modules[Me])})}),this._components.map(function(ae){ae.configure(W._config)}),this._config):this._config},re.prototype.addPluggable=function(se){se&&se.getCategory&&"function"==typeof se.getCategory&&this._components.map(function(W){W.addPluggable&&"function"==typeof W.addPluggable&&W.addPluggable(se)})},re}())},7457:(Mt,Ae,P)=>{"use strict";P.d(Ae,{c:()=>Ds});var Je,v=P(8624),H=P(547),c=P(7556),ue=P(9864),se=new v.k("CognitoCredentials"),W=new Promise(function(Je,$e){return(0,c.lC)().isBrowser?window.gapi&&window.gapi.auth2&&window.gapi.auth2?(se.debug("google api already loaded"),Je()):void setTimeout(function(){return Je()},2e3):(se.debug("not in the browser, directly resolved"),Je())}),ae=function(){function Je(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return Je.prototype.refreshGoogleToken=function(){return function(Je,$e,Q,qe){return new(Q||(Q=Promise))(function(z,ze){function vt(tt){try{G(qe.next(tt))}catch(on){ze(on)}}function Gt(tt){try{G(qe.throw(tt))}catch(on){ze(on)}}function G(tt){tt.done?z(tt.value):function Ve(z){return z instanceof Q?z:new Q(function(ze){ze(z)})}(tt.value).then(vt,Gt)}G((qe=qe.apply(Je,$e||[])).next())})}(this,void 0,void 0,function(){return function(Je,$e){var qe,Ve,z,ze,Q={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return ze={next:vt(0),throw:vt(1),return:vt(2)},"function"==typeof Symbol&&(ze[Symbol.iterator]=function(){return this}),ze;function vt(G){return function(tt){return function Gt(G){if(qe)throw new TypeError("Generator is already executing.");for(;ze&&(ze=0,G[0]&&(Q=0)),Q;)try{if(qe=1,Ve&&(z=2&G[0]?Ve.return:G[0]?Ve.throw||((z=Ve.return)&&z.call(Ve),0):Ve.next)&&!(z=z.call(Ve,G[1])).done)return z;switch(Ve=0,z&&(G=[2&G[0],z.value]),G[0]){case 0:case 1:z=G;break;case 4:return Q.label++,{value:G[1],done:!1};case 5:Q.label++,Ve=G[1],G=[0];continue;case 7:G=Q.ops.pop(),Q.trys.pop();continue;default:if(!(z=(z=Q.trys).length>0&&z[z.length-1])&&(6===G[0]||2===G[0])){Q=0;continue}if(3===G[0]&&(!z||G[1]>z[0]&&G[1]<z[3])){Q.label=G[1];break}if(6===G[0]&&Q.label<z[1]){Q.label=z[1],z=G;break}if(z&&Q.label<z[2]){Q.label=z[2],Q.ops.push(G);break}z[2]&&Q.ops.pop(),Q.trys.pop();continue}G=$e.call(Je,Q)}catch(tt){G=[6,tt],Ve=0}finally{qe=z=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([G,tt])}}}(this,function($e){switch($e.label){case 0:return this.initialized?[3,2]:(se.debug("need to wait for the Google SDK loaded"),[4,W]);case 1:$e.sent(),this.initialized=!0,se.debug("finish waiting"),$e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})})},Je.prototype._refreshGoogleTokenImpl=function(){var $e=null;return(0,c.lC)().isBrowser&&($e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),$e?new Promise(function(Q,qe){$e.getAuthInstance().then(function(Ve){Ve||(se.debug("google Auth undefined"),qe(new ue.V2("google Auth undefined")));var z=Ve.currentUser.get();z.isSignedIn()?(se.debug("refreshing the google access token"),z.reloadAuthResponse().then(function(ze){Q({token:ze.id_token,expires_at:ze.expires_at})}).catch(function(ze){qe(ze&&"network_error"===ze.error?"Network error reloading google auth response":new ue.V2("Failed to reload google auth response"))})):qe(new ue.V2("User is not signed in with Google"))}).catch(function(Ve){se.debug("Failed to refresh google token",Ve),qe(new ue.V2("Failed to refresh google token"))})}):(se.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},Je}(),ce=new v.k("CognitoCredentials"),Me=new Promise(function(Je,$e){return(0,c.lC)().isBrowser?window.FB?(ce.debug("FB SDK already loaded"),Je()):void setTimeout(function(){return Je()},2e3):(ce.debug("not in the browser, directly resolved"),Je())}),J=function(){function Je(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return Je.prototype.refreshFacebookToken=function(){return function(Je,$e,Q,qe){return new(Q||(Q=Promise))(function(z,ze){function vt(tt){try{G(qe.next(tt))}catch(on){ze(on)}}function Gt(tt){try{G(qe.throw(tt))}catch(on){ze(on)}}function G(tt){tt.done?z(tt.value):function Ve(z){return z instanceof Q?z:new Q(function(ze){ze(z)})}(tt.value).then(vt,Gt)}G((qe=qe.apply(Je,$e||[])).next())})}(this,void 0,void 0,function(){return function(Je,$e){var qe,Ve,z,ze,Q={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return ze={next:vt(0),throw:vt(1),return:vt(2)},"function"==typeof Symbol&&(ze[Symbol.iterator]=function(){return this}),ze;function vt(G){return function(tt){return function Gt(G){if(qe)throw new TypeError("Generator is already executing.");for(;ze&&(ze=0,G[0]&&(Q=0)),Q;)try{if(qe=1,Ve&&(z=2&G[0]?Ve.return:G[0]?Ve.throw||((z=Ve.return)&&z.call(Ve),0):Ve.next)&&!(z=z.call(Ve,G[1])).done)return z;switch(Ve=0,z&&(G=[2&G[0],z.value]),G[0]){case 0:case 1:z=G;break;case 4:return Q.label++,{value:G[1],done:!1};case 5:Q.label++,Ve=G[1],G=[0];continue;case 7:G=Q.ops.pop(),Q.trys.pop();continue;default:if(!(z=(z=Q.trys).length>0&&z[z.length-1])&&(6===G[0]||2===G[0])){Q=0;continue}if(3===G[0]&&(!z||G[1]>z[0]&&G[1]<z[3])){Q.label=G[1];break}if(6===G[0]&&Q.label<z[1]){Q.label=z[1],z=G;break}if(z&&Q.label<z[2]){Q.label=z[2],Q.ops.push(G);break}z[2]&&Q.ops.pop(),Q.trys.pop();continue}G=$e.call(Je,Q)}catch(tt){G=[6,tt],Ve=0}finally{qe=z=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([G,tt])}}}(this,function($e){switch($e.label){case 0:return this.initialized?[3,2]:(ce.debug("need to wait for the Facebook SDK loaded"),[4,Me]);case 1:$e.sent(),this.initialized=!0,ce.debug("finish waiting"),$e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})})},Je.prototype._refreshFacebookTokenImpl=function(){var $e=null;if((0,c.lC)().isBrowser&&($e=window.FB),!$e){var Q="no fb sdk available";return ce.debug(Q),Promise.reject(new ue.V2(Q))}return new Promise(function(qe,Ve){$e.getLoginStatus(function(z){if(z&&z.authResponse){var vt=z.authResponse,Gt=vt.accessToken,on=1e3*vt.expiresIn+(new Date).getTime();Gt||(ce.debug(ze="the jwtToken is undefined"),Ve(new ue.V2(ze))),qe({token:Gt,expires_at:on})}else{var ze;ce.debug(ze="no response from facebook when refreshing the jwt token"),Ve(new ue.V2(ze))}},{scope:"public_profile,email"})})},Je}(),ee=new ae,Ie=new J,xe=P(6699),Fe={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},Ke={partitions:[Fe,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},Ye=function(Je){var $e,Q,qe=Ke.partitions;try{for(var Ve=function(Je){var $e="function"==typeof Symbol&&Symbol.iterator,Q=$e&&Je[$e],qe=0;if(Q)return Q.call(Je);if(Je&&"number"==typeof Je.length)return{next:function(){return Je&&qe>=Je.length&&(Je=void 0),{value:Je&&Je[qe++],done:!Je}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")}(qe),z=Ve.next();!z.done;z=Ve.next()){var ze=z.value,vt=ze.regions,Gt=ze.outputs,tt=new RegExp(ze.regionRegex);if(vt.includes(Je)||tt.test(Je))return Gt.dnsSuffix}}catch(on){$e={error:on}}finally{try{z&&!z.done&&(Q=Ve.return)&&Q.call(Ve)}finally{if($e)throw $e.error}}return Fe.outputs.dnsSuffix},Le=function(){return Le=Object.assign||function(Je){for(var $e,Q=1,qe=arguments.length;Q<qe;Q++)for(var Ve in $e=arguments[Q])Object.prototype.hasOwnProperty.call($e,Ve)&&(Je[Ve]=$e[Ve]);return Je},Le.apply(this,arguments)},et=function(Je,$e){if($e?.aborted)return Promise.resolve();var Q,qe,Ve=new Promise(function(z){qe=z,Q=setTimeout(z,Je)});return $e?.addEventListener("abort",function z(ze){clearTimeout(Q),$e?.removeEventListener("abort",z),qe()}),Ve},_t=function(Je,$e){var Q;"[object Object]"===Object.prototype.toString.call(Je)&&(Je.$metadata=Le(Le({},null!==(Q=Je.$metadata)&&void 0!==Q?Q:{}),{attempts:$e}))},vn=function(Je,$e){return function(Q,qe){for(var Ve={},z=function(G){return Je(G,qe)},ze=$e.length-1;ze>=0;ze--)z=(0,$e[ze])(qe)(z,Ve);return z(Q)}},an=(P(3024),function(Je){var $e;return function(){return $e||($e=Je()),$e}}),Bt=function(){return Bt=Object.assign||function(Je){for(var $e,Q=1,qe=arguments.length;Q<qe;Q++)for(var Ve in $e=arguments[Q])Object.prototype.hasOwnProperty.call($e,Ve)&&(Je[Ve]=$e[Ve]);return Je},Bt.apply(this,arguments)},De=function(Je){return!["HEAD","GET","DELETE"].includes(Je.toUpperCase())},Ze=vn(function(Je,$e){var Q=Je.url,qe=Je.method,Ve=Je.headers,z=Je.body,ze=$e.abortSignal;return function(Je,$e,Q,qe){return new(Q||(Q=Promise))(function(z,ze){function vt(tt){try{G(qe.next(tt))}catch(on){ze(on)}}function Gt(tt){try{G(qe.throw(tt))}catch(on){ze(on)}}function G(tt){tt.done?z(tt.value):function Ve(z){return z instanceof Q?z:new Q(function(ze){ze(z)})}(tt.value).then(vt,Gt)}G((qe=qe.apply(Je,$e||[])).next())})}(void 0,void 0,void 0,function(){var vt,Gt,G,tt,on,ir,sr;return function(Je,$e){var qe,Ve,z,ze,Q={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return ze={next:vt(0),throw:vt(1),return:vt(2)},"function"==typeof Symbol&&(ze[Symbol.iterator]=function(){return this}),ze;function vt(G){return function(tt){return function Gt(G){if(qe)throw new TypeError("Generator is already executing.");for(;ze&&(ze=0,G[0]&&(Q=0)),Q;)try{if(qe=1,Ve&&(z=2&G[0]?Ve.return:G[0]?Ve.throw||((z=Ve.return)&&z.call(Ve),0):Ve.next)&&!(z=z.call(Ve,G[1])).done)return z;switch(Ve=0,z&&(G=[2&G[0],z.value]),G[0]){case 0:case 1:z=G;break;case 4:return Q.label++,{value:G[1],done:!1};case 5:Q.label++,Ve=G[1],G=[0];continue;case 7:G=Q.ops.pop(),Q.trys.pop();continue;default:if(!(z=(z=Q.trys).length>0&&z[z.length-1])&&(6===G[0]||2===G[0])){Q=0;continue}if(3===G[0]&&(!z||G[1]>z[0]&&G[1]<z[3])){Q.label=G[1];break}if(6===G[0]&&Q.label<z[1]){Q.label=z[1],z=G;break}if(z&&Q.label<z[2]){Q.label=z[2],Q.ops.push(G);break}z[2]&&Q.ops.pop(),Q.trys.pop();continue}G=$e.call(Je,Q)}catch(tt){G=[6,tt],Ve=0}finally{qe=z=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([G,tt])}}}(this,function(Wn){switch(Wn.label){case 0:return Wn.trys.push([0,2,,3]),[4,fetch(Q,{method:qe,headers:Ve,body:De(qe)?z:void 0,signal:ze})];case 1:return vt=Wn.sent(),[3,3];case 2:throw(Gt=Wn.sent())instanceof TypeError?new Error("Network error"):Gt;case 3:return G={},null===(ir=vt.headers)||void 0===ir||ir.forEach(function(Jt,bn){G[bn.toLowerCase()]=Jt}),tt={statusCode:vt.status,headers:G,body:null},on=Object.assign(null!==(sr=vt.body)&&void 0!==sr?sr:{},{text:an(function(){return vt.text()}),blob:an(function(){return vt.blob()}),json:an(function(){return vt.json()})}),[2,Bt(Bt({},tt),{body:on})]}})})},[function(Je){var $e=Je.userAgentHeader,Q=void 0===$e?"x-amz-user-agent":$e,qe=Je.userAgentValue,Ve=void 0===qe?"":qe;return function(z){return function(vt){return function(Je,$e,Q,qe){return new(Q||(Q=Promise))(function(z,ze){function vt(tt){try{G(qe.next(tt))}catch(on){ze(on)}}function Gt(tt){try{G(qe.throw(tt))}catch(on){ze(on)}}function G(tt){tt.done?z(tt.value):function Ve(z){return z instanceof Q?z:new Q(function(ze){ze(z)})}(tt.value).then(vt,Gt)}G((qe=qe.apply(Je,$e||[])).next())})}(this,void 0,void 0,function(){var G;return function(Je,$e){var qe,Ve,z,ze,Q={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return ze={next:vt(0),throw:vt(1),return:vt(2)},"function"==typeof Symbol&&(ze[Symbol.iterator]=function(){return this}),ze;function vt(G){return function(tt){return function Gt(G){if(qe)throw new TypeError("Generator is already executing.");for(;ze&&(ze=0,G[0]&&(Q=0)),Q;)try{if(qe=1,Ve&&(z=2&G[0]?Ve.return:G[0]?Ve.throw||((z=Ve.return)&&z.call(Ve),0):Ve.next)&&!(z=z.call(Ve,G[1])).done)return z;switch(Ve=0,z&&(G=[2&G[0],z.value]),G[0]){case 0:case 1:z=G;break;case 4:return Q.label++,{value:G[1],done:!1};case 5:Q.label++,Ve=G[1],G=[0];continue;case 7:G=Q.ops.pop(),Q.trys.pop();continue;default:if(!(z=(z=Q.trys).length>0&&z[z.length-1])&&(6===G[0]||2===G[0])){Q=0;continue}if(3===G[0]&&(!z||G[1]>z[0]&&G[1]<z[3])){Q.label=G[1];break}if(6===G[0]&&Q.label<z[1]){Q.label=z[1],z=G;break}if(z&&Q.label<z[2]){Q.label=z[2],Q.ops.push(G);break}z[2]&&Q.ops.pop(),Q.trys.pop();continue}G=$e.call(Je,Q)}catch(tt){G=[6,tt],Ve=0}finally{qe=z=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([G,tt])}}}(this,function(on){switch(on.label){case 0:return 0!==Ve.trim().length?[3,2]:[4,z(vt)];case 1:case 3:return[2,on.sent()];case 2:return G=Q.toLowerCase(),vt.headers[G]=vt.headers[G]?"".concat(vt.headers[G]," ").concat(Ve):Ve,[4,z(vt)]}})})}}},function(Je){var $e=Je.maxAttempts,Q=void 0===$e?3:$e,qe=Je.retryDecider,Ve=Je.computeDelay,z=Je.abortSignal;if(Q<1)throw new Error("maxAttempts must be greater than 0");return function(ze,vt){return function(G){var tt;return function(Je,$e,Q,qe){return new(Q||(Q=Promise))(function(z,ze){function vt(tt){try{G(qe.next(tt))}catch(on){ze(on)}}function Gt(tt){try{G(qe.throw(tt))}catch(on){ze(on)}}function G(tt){tt.done?z(tt.value):function Ve(z){return z instanceof Q?z:new Q(function(ze){ze(z)})}(tt.value).then(vt,Gt)}G((qe=qe.apply(Je,$e||[])).next())})}(this,void 0,void 0,function(){var on,ir,sr,Wn,Jt,bn;return function(Je,$e){var qe,Ve,z,ze,Q={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return ze={next:vt(0),throw:vt(1),return:vt(2)},"function"==typeof Symbol&&(ze[Symbol.iterator]=function(){return this}),ze;function vt(G){return function(tt){return function Gt(G){if(qe)throw new TypeError("Generator is already executing.");for(;ze&&(ze=0,G[0]&&(Q=0)),Q;)try{if(qe=1,Ve&&(z=2&G[0]?Ve.return:G[0]?Ve.throw||((z=Ve.return)&&z.call(Ve),0):Ve.next)&&!(z=z.call(Ve,G[1])).done)return z;switch(Ve=0,z&&(G=[2&G[0],z.value]),G[0]){case 0:case 1:z=G;break;case 4:return Q.label++,{value:G[1],done:!1};case 5:Q.label++,Ve=G[1],G=[0];continue;case 7:G=Q.ops.pop(),Q.trys.pop();continue;default:if(!(z=(z=Q.trys).length>0&&z[z.length-1])&&(6===G[0]||2===G[0])){Q=0;continue}if(3===G[0]&&(!z||G[1]>z[0]&&G[1]<z[3])){Q.label=G[1];break}if(6===G[0]&&Q.label<z[1]){Q.label=z[1],z=G;break}if(z&&Q.label<z[2]){Q.label=z[2],Q.ops.push(G);break}z[2]&&Q.ops.pop(),Q.trys.pop();continue}G=$e.call(Je,Q)}catch(tt){G=[6,tt],Ve=0}finally{qe=z=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([G,tt])}}}(this,function(Fn){switch(Fn.label){case 0:ir=null!==(tt=vt.attemptsCount)&&void 0!==tt?tt:0,Wn=function(){if(sr)return _t(sr,ir),sr;throw _t(on,ir),on},Fn.label=1;case 1:if(z?.aborted||!(ir<Q))return[3,11];Fn.label=2;case 2:return Fn.trys.push([2,4,,5]),[4,ze(G)];case 3:return sr=Fn.sent(),on=void 0,[3,5];case 4:return Jt=Fn.sent(),on=Jt,sr=void 0,[3,5];case 5:return vt.attemptsCount=ir=vt.attemptsCount>ir?vt.attemptsCount:ir+1,[4,qe(sr,on)];case 6:return Fn.sent()?!z?.aborted&&ir<Q?(bn=Ve(ir),[4,et(bn,z)]):[3,8]:[3,9];case 7:Fn.sent(),Fn.label=8;case 8:return[3,1];case 9:return[2,Wn()];case 10:return[3,1];case 11:if(z?.aborted)throw new Error("Request aborted.");return[2,Wn()]}})})}}}]),pe=function(){return pe=Object.assign||function(Je){for(var $e,Q=1,qe=arguments.length;Q<qe;Q++)for(var Ve in $e=arguments[Q])Object.prototype.hasOwnProperty.call($e,Ve)&&(Je[Ve]=$e[Ve]);return Je},pe.apply(this,arguments)},Ne=function(Je){var $e,Q,qe=Je.headers,Ve=Je.statusCode;return pe(pe({},gt(Je)?Je.$metadata:{}),{httpStatusCode:Ve,requestId:null!==(Q=null!==($e=qe["x-amzn-requestid"])&&void 0!==$e?$e:qe["x-amzn-request-id"])&&void 0!==Q?Q:qe["x-amz-request-id"],extendedRequestId:qe["x-amz-id-2"],cfId:qe["x-amz-cf-id"]})},gt=function(Je){return"object"==typeof Je?.$metadata},Yt=function(Je,$e,Q,qe){return new(Q||(Q=Promise))(function(z,ze){function vt(tt){try{G(qe.next(tt))}catch(on){ze(on)}}function Gt(tt){try{G(qe.throw(tt))}catch(on){ze(on)}}function G(tt){tt.done?z(tt.value):function Ve(z){return z instanceof Q?z:new Q(function(ze){ze(z)})}(tt.value).then(vt,Gt)}G((qe=qe.apply(Je,$e||[])).next())})},Wt=function(Je,$e){var qe,Ve,z,ze,Q={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return ze={next:vt(0),throw:vt(1),return:vt(2)},"function"==typeof Symbol&&(ze[Symbol.iterator]=function(){return this}),ze;function vt(G){return function(tt){return function Gt(G){if(qe)throw new TypeError("Generator is already executing.");for(;ze&&(ze=0,G[0]&&(Q=0)),Q;)try{if(qe=1,Ve&&(z=2&G[0]?Ve.return:G[0]?Ve.throw||((z=Ve.return)&&z.call(Ve),0):Ve.next)&&!(z=z.call(Ve,G[1])).done)return z;switch(Ve=0,z&&(G=[2&G[0],z.value]),G[0]){case 0:case 1:z=G;break;case 4:return Q.label++,{value:G[1],done:!1};case 5:Q.label++,Ve=G[1],G=[0];continue;case 7:G=Q.ops.pop(),Q.trys.pop();continue;default:if(!(z=(z=Q.trys).length>0&&z[z.length-1])&&(6===G[0]||2===G[0])){Q=0;continue}if(3===G[0]&&(!z||G[1]>z[0]&&G[1]<z[3])){Q.label=G[1];break}if(6===G[0]&&Q.label<z[1]){Q.label=z[1],z=G;break}if(z&&Q.label<z[2]){Q.label=z[2],Q.ops.push(G);break}z[2]&&Q.ops.pop(),Q.trys.pop();continue}G=$e.call(Je,Q)}catch(tt){G=[6,tt],Ve=0}finally{qe=z=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([G,tt])}}},gn=function(Je){return Yt(void 0,void 0,void 0,function(){var $e,Q,qe,Ve,z,ze,vt,Gt,G,tt;return Wt(this,function(on){switch(on.label){case 0:return!Je||Je.statusCode<300?[2]:[4,dt(Je)];case 1:return $e=on.sent(),Q=function(ir){var sr=function(Je,$e){var Q="function"==typeof Symbol&&Je[Symbol.iterator];if(!Q)return Je;var Ve,ze,qe=Q.call(Je),z=[];try{for(;(void 0===$e||$e-- >0)&&!(Ve=qe.next()).done;)z.push(Ve.value)}catch(vt){ze={error:vt}}finally{try{Ve&&!Ve.done&&(Q=qe.return)&&Q.call(qe)}finally{if(ze)throw ze.error}}return z}(ir.toString().split(/[\,\:]+/),1),Wn=sr[0];return Wn.includes("#")?Wn.split("#")[1]:Wn},qe=Q(null!==(Gt=null!==(vt=null!==(ze=Je.headers["x-amzn-errortype"])&&void 0!==ze?ze:$e.code)&&void 0!==vt?vt:$e.__type)&&void 0!==Gt?Gt:"UnknownError"),Ve=null!==(tt=null!==(G=$e.message)&&void 0!==G?G:$e.Message)&&void 0!==tt?tt:"Unknown error",z=new Error(Ve),[2,Object.assign(z,{name:qe,$metadata:Ne(Je)})]}})})},dt=function(Je){return Yt(void 0,void 0,void 0,function(){var $e;return Wt(this,function(Q){switch(Q.label){case 0:if(!Je.body)throw new Error("Missing response payload");return[4,Je.body.json()];case 1:return $e=Q.sent(),[2,Object.assign($e,{$metadata:Ne(Je)})]}})})},lt=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],Oe=function(Je){return lt.includes(Je)},tr=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],ve=["TimeoutError","RequestTimeout","RequestTimeoutException"],T=function(Je,$e){return 429===Je||tr.includes($e)},F=function(Je){return"Network error"===Je?.name},te=function(Je,$e){return[500,502,503,504].includes(Je)||ve.includes($e)},nt=P(6173),Pt=P(1508),Yn=vn(Ze,[function(){return function(Je,$e){return function(qe){return function(Je,$e,Q,qe){return new(Q||(Q=Promise))(function(z,ze){function vt(tt){try{G(qe.next(tt))}catch(on){ze(on)}}function Gt(tt){try{G(qe.throw(tt))}catch(on){ze(on)}}function G(tt){tt.done?z(tt.value):function Ve(z){return z instanceof Q?z:new Q(function(ze){ze(z)})}(tt.value).then(vt,Gt)}G((qe=qe.apply(Je,$e||[])).next())})}(this,void 0,void 0,function(){return function(Je,$e){var qe,Ve,z,ze,Q={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return ze={next:vt(0),throw:vt(1),return:vt(2)},"function"==typeof Symbol&&(ze[Symbol.iterator]=function(){return this}),ze;function vt(G){return function(tt){return function Gt(G){if(qe)throw new TypeError("Generator is already executing.");for(;ze&&(ze=0,G[0]&&(Q=0)),Q;)try{if(qe=1,Ve&&(z=2&G[0]?Ve.return:G[0]?Ve.throw||((z=Ve.return)&&z.call(Ve),0):Ve.next)&&!(z=z.call(Ve,G[1])).done)return z;switch(Ve=0,z&&(G=[2&G[0],z.value]),G[0]){case 0:case 1:z=G;break;case 4:return Q.label++,{value:G[1],done:!1};case 5:Q.label++,Ve=G[1],G=[0];continue;case 7:G=Q.ops.pop(),Q.trys.pop();continue;default:if(!(z=(z=Q.trys).length>0&&z[z.length-1])&&(6===G[0]||2===G[0])){Q=0;continue}if(3===G[0]&&(!z||G[1]>z[0]&&G[1]<z[3])){Q.label=G[1];break}if(6===G[0]&&Q.label<z[1]){Q.label=z[1],z=G;break}if(z&&Q.label<z[2]){Q.label=z[2],Q.ops.push(G);break}z[2]&&Q.ops.pop(),Q.trys.pop();continue}G=$e.call(Je,Q)}catch(tt){G=[6,tt],Ve=0}finally{qe=z=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([G,tt])}}}(this,function(Ve){return qe.headers["cache-control"]="no-store",[2,Je(qe)]})})}}}]),Qn={service:"cognito-identity",endpointResolver:function(Je){var $e=Je.region;return{url:new URL("https://cognito-identity.".concat($e,".").concat(Ye($e)))}},retryDecider:(Je=gn,function($e,Q){return function(Je,$e,Q,qe){return new(Q||(Q=Promise))(function(z,ze){function vt(tt){try{G(qe.next(tt))}catch(on){ze(on)}}function Gt(tt){try{G(qe.throw(tt))}catch(on){ze(on)}}function G(tt){tt.done?z(tt.value):function Ve(z){return z instanceof Q?z:new Q(function(ze){ze(z)})}(tt.value).then(vt,Gt)}G((qe=qe.apply(Je,$e||[])).next())})}(void 0,void 0,void 0,function(){var qe,Ve,z,ze;return function(Je,$e){var qe,Ve,z,ze,Q={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return ze={next:vt(0),throw:vt(1),return:vt(2)},"function"==typeof Symbol&&(ze[Symbol.iterator]=function(){return this}),ze;function vt(G){return function(tt){return function Gt(G){if(qe)throw new TypeError("Generator is already executing.");for(;ze&&(ze=0,G[0]&&(Q=0)),Q;)try{if(qe=1,Ve&&(z=2&G[0]?Ve.return:G[0]?Ve.throw||((z=Ve.return)&&z.call(Ve),0):Ve.next)&&!(z=z.call(Ve,G[1])).done)return z;switch(Ve=0,z&&(G=[2&G[0],z.value]),G[0]){case 0:case 1:z=G;break;case 4:return Q.label++,{value:G[1],done:!1};case 5:Q.label++,Ve=G[1],G=[0];continue;case 7:G=Q.ops.pop(),Q.trys.pop();continue;default:if(!(z=(z=Q.trys).length>0&&z[z.length-1])&&(6===G[0]||2===G[0])){Q=0;continue}if(3===G[0]&&(!z||G[1]>z[0]&&G[1]<z[3])){Q.label=G[1];break}if(6===G[0]&&Q.label<z[1]){Q.label=z[1],z=G;break}if(z&&Q.label<z[2]){Q.label=z[2],Q.ops.push(G);break}z[2]&&Q.ops.pop(),Q.trys.pop();continue}G=$e.call(Je,Q)}catch(tt){G=[6,tt],Ve=0}finally{qe=z=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([G,tt])}}}(this,function(vt){switch(vt.label){case 0:return null==Q?[3,1]:(Ve=Q,[3,3]);case 1:return[4,Je($e)];case 2:Ve=vt.sent(),vt.label=3;case 3:return qe=(null!==(ze=Ve)&&void 0!==ze?ze:{}).name,z=$e?.statusCode,[2,F(Q)||T(z,qe)||Oe(qe)||te(z,qe)]}})})}),computeDelay:function(Je){var Q=(0,ue.kD)(3e5)(Je);return!1===Q?3e5:Q},userAgentValue:(0,nt.Zm)()};(0,Pt.QW)(function(){Qn.userAgentValue=(0,nt.Zm)()});var jr=function(Je){return{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.".concat(Je)}},lr=function(Je,$e,Q){return{headers:$e,url:Je.url,body:Q,method:"POST"}},Yr=function(){return Yr=Object.assign||function(Je){for(var $e,Q=1,qe=arguments.length;Q<qe;Q++)for(var Ve in $e=arguments[Q])Object.prototype.hasOwnProperty.call($e,Ve)&&(Je[Ve]=$e[Ve]);return Je},Yr.apply(this,arguments)},_r=function(Je,$e,Q,qe){return function(Ve,z){return function(Je,$e,Q,qe){return new(Q||(Q=Promise))(function(z,ze){function vt(tt){try{G(qe.next(tt))}catch(on){ze(on)}}function Gt(tt){try{G(qe.throw(tt))}catch(on){ze(on)}}function G(tt){tt.done?z(tt.value):function Ve(z){return z instanceof Q?z:new Q(function(ze){ze(z)})}(tt.value).then(vt,Gt)}G((qe=qe.apply(Je,$e||[])).next())})}(void 0,void 0,void 0,function(){var ze,vt,Gt,G;return function(Je,$e){var qe,Ve,z,ze,Q={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return ze={next:vt(0),throw:vt(1),return:vt(2)},"function"==typeof Symbol&&(ze[Symbol.iterator]=function(){return this}),ze;function vt(G){return function(tt){return function Gt(G){if(qe)throw new TypeError("Generator is already executing.");for(;ze&&(ze=0,G[0]&&(Q=0)),Q;)try{if(qe=1,Ve&&(z=2&G[0]?Ve.return:G[0]?Ve.throw||((z=Ve.return)&&z.call(Ve),0):Ve.next)&&!(z=z.call(Ve,G[1])).done)return z;switch(Ve=0,z&&(G=[2&G[0],z.value]),G[0]){case 0:case 1:z=G;break;case 4:return Q.label++,{value:G[1],done:!1};case 5:Q.label++,Ve=G[1],G=[0];continue;case 7:G=Q.ops.pop(),Q.trys.pop();continue;default:if(!(z=(z=Q.trys).length>0&&z[z.length-1])&&(6===G[0]||2===G[0])){Q=0;continue}if(3===G[0]&&(!z||G[1]>z[0]&&G[1]<z[3])){Q.label=G[1];break}if(6===G[0]&&Q.label<z[1]){Q.label=z[1],z=G;break}if(z&&Q.label<z[2]){Q.label=z[2],Q.ops.push(G);break}z[2]&&Q.ops.pop(),Q.trys.pop();continue}G=$e.call(Je,Q)}catch(tt){G=[6,tt],Ve=0}finally{qe=z=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([G,tt])}}}(this,function(tt){switch(tt.label){case 0:return[4,(ze=Yr(Yr({},qe),Ve)).endpointResolver(ze,z)];case 1:return vt=tt.sent(),[4,$e(z,vt)];case 2:return Gt=tt.sent(),[4,Je(Gt,Yr({},ze))];case 3:return G=tt.sent(),[4,Q(G)];case 4:return[2,tt.sent()]}})})}},ot=_r(Yn,function(Je,$e){var Q=jr("GetId"),qe=JSON.stringify(Je);return lr($e,Q,qe)},function(Je){return function(Je,$e,Q,qe){return new(Q||(Q=Promise))(function(z,ze){function vt(tt){try{G(qe.next(tt))}catch(on){ze(on)}}function Gt(tt){try{G(qe.throw(tt))}catch(on){ze(on)}}function G(tt){tt.done?z(tt.value):function Ve(z){return z instanceof Q?z:new Q(function(ze){ze(z)})}(tt.value).then(vt,Gt)}G((qe=qe.apply(Je,$e||[])).next())})}(void 0,void 0,void 0,function(){return function(Je,$e){var qe,Ve,z,ze,Q={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return ze={next:vt(0),throw:vt(1),return:vt(2)},"function"==typeof Symbol&&(ze[Symbol.iterator]=function(){return this}),ze;function vt(G){return function(tt){return function Gt(G){if(qe)throw new TypeError("Generator is already executing.");for(;ze&&(ze=0,G[0]&&(Q=0)),Q;)try{if(qe=1,Ve&&(z=2&G[0]?Ve.return:G[0]?Ve.throw||((z=Ve.return)&&z.call(Ve),0):Ve.next)&&!(z=z.call(Ve,G[1])).done)return z;switch(Ve=0,z&&(G=[2&G[0],z.value]),G[0]){case 0:case 1:z=G;break;case 4:return Q.label++,{value:G[1],done:!1};case 5:Q.label++,Ve=G[1],G=[0];continue;case 7:G=Q.ops.pop(),Q.trys.pop();continue;default:if(!(z=(z=Q.trys).length>0&&z[z.length-1])&&(6===G[0]||2===G[0])){Q=0;continue}if(3===G[0]&&(!z||G[1]>z[0]&&G[1]<z[3])){Q.label=G[1];break}if(6===G[0]&&Q.label<z[1]){Q.label=z[1],z=G;break}if(z&&Q.label<z[2]){Q.label=z[2],Q.ops.push(G);break}z[2]&&Q.ops.pop(),Q.trys.pop();continue}G=$e.call(Je,Q)}catch(tt){G=[6,tt],Ve=0}finally{qe=z=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([G,tt])}}}(this,function(qe){switch(qe.label){case 0:return Je.statusCode>=300?[4,gn(Je)]:[3,2];case 1:throw qe.sent();case 2:return[4,dt(Je)];case 3:return[2,{IdentityId:qe.sent().IdentityId,$metadata:Ne(Je)}]}})})},Qn),Hn=function(Je){return void 0===Je&&(Je={}),{AccessKeyId:Je.AccessKeyId,SecretKey:Je.SecretKey,SessionToken:Je.SessionToken,Expiration:new Date(1e3*Je.Expiration)}},kn=_r(Yn,function(Je,$e){var Q=jr("GetCredentialsForIdentity"),qe=JSON.stringify(Je);return lr($e,Q,qe)},function(Je){return function(Je,$e,Q,qe){return new(Q||(Q=Promise))(function(z,ze){function vt(tt){try{G(qe.next(tt))}catch(on){ze(on)}}function Gt(tt){try{G(qe.throw(tt))}catch(on){ze(on)}}function G(tt){tt.done?z(tt.value):function Ve(z){return z instanceof Q?z:new Q(function(ze){ze(z)})}(tt.value).then(vt,Gt)}G((qe=qe.apply(Je,$e||[])).next())})}(void 0,void 0,void 0,function(){var Q;return function(Je,$e){var qe,Ve,z,ze,Q={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return ze={next:vt(0),throw:vt(1),return:vt(2)},"function"==typeof Symbol&&(ze[Symbol.iterator]=function(){return this}),ze;function vt(G){return function(tt){return function Gt(G){if(qe)throw new TypeError("Generator is already executing.");for(;ze&&(ze=0,G[0]&&(Q=0)),Q;)try{if(qe=1,Ve&&(z=2&G[0]?Ve.return:G[0]?Ve.throw||((z=Ve.return)&&z.call(Ve),0):Ve.next)&&!(z=z.call(Ve,G[1])).done)return z;switch(Ve=0,z&&(G=[2&G[0],z.value]),G[0]){case 0:case 1:z=G;break;case 4:return Q.label++,{value:G[1],done:!1};case 5:Q.label++,Ve=G[1],G=[0];continue;case 7:G=Q.ops.pop(),Q.trys.pop();continue;default:if(!(z=(z=Q.trys).length>0&&z[z.length-1])&&(6===G[0]||2===G[0])){Q=0;continue}if(3===G[0]&&(!z||G[1]>z[0]&&G[1]<z[3])){Q.label=G[1];break}if(6===G[0]&&Q.label<z[1]){Q.label=z[1],z=G;break}if(z&&Q.label<z[2]){Q.label=z[2],Q.ops.push(G);break}z[2]&&Q.ops.pop(),Q.trys.pop();continue}G=$e.call(Je,Q)}catch(tt){G=[6,tt],Ve=0}finally{qe=z=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([G,tt])}}}(this,function(qe){switch(qe.label){case 0:return Je.statusCode>=300?[4,gn(Je)]:[3,2];case 1:throw qe.sent();case 2:return[4,dt(Je)];case 3:return[2,{IdentityId:(Q=qe.sent()).IdentityId,Credentials:Hn(Q.Credentials),$metadata:Ne(Je)}]}})})},Qn),Ir=P(7694),Gn=P(281),ht=function(){return ht=Object.assign||function(Je){for(var $e,Q=1,qe=arguments.length;Q<qe;Q++)for(var Ve in $e=arguments[Q])Object.prototype.hasOwnProperty.call($e,Ve)&&(Je[Ve]=$e[Ve]);return Je},ht.apply(this,arguments)},Qe=function(Je,$e,Q,qe){return new(Q||(Q=Promise))(function(z,ze){function vt(tt){try{G(qe.next(tt))}catch(on){ze(on)}}function Gt(tt){try{G(qe.throw(tt))}catch(on){ze(on)}}function G(tt){tt.done?z(tt.value):function Ve(z){return z instanceof Q?z:new Q(function(ze){ze(z)})}(tt.value).then(vt,Gt)}G((qe=qe.apply(Je,$e||[])).next())})},Se=function(Je,$e){var qe,Ve,z,ze,Q={label:0,sent:function(){if(1&z[0])throw z[1];return z[1]},trys:[],ops:[]};return ze={next:vt(0),throw:vt(1),return:vt(2)},"function"==typeof Symbol&&(ze[Symbol.iterator]=function(){return this}),ze;function vt(G){return function(tt){return function Gt(G){if(qe)throw new TypeError("Generator is already executing.");for(;ze&&(ze=0,G[0]&&(Q=0)),Q;)try{if(qe=1,Ve&&(z=2&G[0]?Ve.return:G[0]?Ve.throw||((z=Ve.return)&&z.call(Ve),0):Ve.next)&&!(z=z.call(Ve,G[1])).done)return z;switch(Ve=0,z&&(G=[2&G[0],z.value]),G[0]){case 0:case 1:z=G;break;case 4:return Q.label++,{value:G[1],done:!1};case 5:Q.label++,Ve=G[1],G=[0];continue;case 7:G=Q.ops.pop(),Q.trys.pop();continue;default:if(!(z=(z=Q.trys).length>0&&z[z.length-1])&&(6===G[0]||2===G[0])){Q=0;continue}if(3===G[0]&&(!z||G[1]>z[0]&&G[1]<z[3])){Q.label=G[1];break}if(6===G[0]&&Q.label<z[1]){Q.label=z[1],z=G;break}if(z&&Q.label<z[2]){Q.label=z[2],Q.ops.push(G);break}z[2]&&Q.ops.pop(),Q.trys.pop();continue}G=$e.call(Je,Q)}catch(tt){G=[6,tt],Ve=0}finally{qe=z=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([G,tt])}}},Re=new v.k("Credentials"),xn=typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Dr=function(){function Je($e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure($e),this._refreshHandlers.google=ee.refreshGoogleToken,this._refreshHandlers.facebook=Ie.refreshFacebookToken}return Je.prototype.getModuleName=function(){return"Credentials"},Je.prototype.getCredSource=function(){return this._credentials_source},Je.prototype.configure=function($e){if(!$e)return this._config||{};this._config=Object.assign({},this._config,$e);var Q=this._config.refreshHandlers;return Q&&(this._refreshHandlers=ht(ht({},this._refreshHandlers),Q)),this._storage=this._config.storage,this._storage||(this._storage=(new H.c).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),Gn.X.dispatch("core",{event:"credentials_configured",data:null,message:"Credentials has been configured successfully"},"Credentials",xn),this._config},Je.prototype.get=function(){return Re.debug("getting credentials"),this._pickupCredentials()},Je.prototype._getCognitoIdentityIdStorageKey=function($e){return"".concat("CognitoIdentityId-").concat($e)},Je.prototype._pickupCredentials=function(){return Re.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?Re.debug("getting old cred promise"):(Re.debug("getting new cred promise"),this._gettingCredPromise=(0,c.ML)(this._keepAlive())),this._gettingCredPromise},Je.prototype._keepAlive=function(){return Qe(this,void 0,void 0,function(){var $e,Q,qe,Ve,z,ze,Gt;return Se(this,function(G){switch(G.label){case 0:if(Re.debug("checking if credentials exists and not expired"),($e=this._credentials)&&!this._isExpired($e)&&!this._isPastTTL())return Re.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve($e)];if(Re.debug("need to get a new credential or refresh the existing one"),!(qe=void 0===(Q=this.Auth)?xe.d.Auth:Q)||"function"!=typeof qe.currentUserCredentials)return[2,this._setCredentialsForGuest()];if(this._isExpired($e)||!this._isPastTTL())return[3,6];Re.debug("ttl has passed but token is not yet expired"),G.label=1;case 1:return G.trys.push([1,5,,6]),[4,qe.currentUserPoolUser()];case 2:return Ve=G.sent(),[4,qe.currentSession()];case 3:return z=G.sent(),ze=z.refreshToken,[4,new Promise(function(tt,on){Ve.refreshSession(ze,function(ir,sr){return ir?on(ir):tt(sr)})})];case 4:return G.sent(),[3,6];case 5:return Gt=G.sent(),Re.debug("Error attempting to refreshing the session",Gt),[3,6];case 6:return[2,qe.currentUserCredentials()]}})})},Je.prototype.refreshFederatedToken=function($e){Re.debug("Getting federated credentials");var Q=$e.provider,qe=$e.user,Ve=$e.token,z=$e.identity_id,ze=$e.expires_at;return ze=1970===new Date(ze).getFullYear()?1e3*ze:ze,Re.debug("checking if federated jwt token expired"),ze>(new Date).getTime()?(Re.debug("token not expired"),this._setCredentialsFromFederation({provider:Q,token:Ve,user:qe,identity_id:z,expires_at:ze})):this._refreshHandlers[Q]&&"function"==typeof this._refreshHandlers[Q]?(Re.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:this._refreshHandlers[Q],provider:Q,user:qe})):(Re.debug("no refresh handler for provider:",Q),this.clear(),Promise.reject("no refresh handler for provider"))},Je.prototype._providerRefreshWithRetry=function($e){var Q=this,Ve=$e.provider,z=$e.user;return(0,ue.Xm)($e.refreshHandler,[],1e4).then(function(vt){return Re.debug("refresh federated token sucessfully",vt),Q._setCredentialsFromFederation({provider:Ve,token:vt.token,user:z,identity_id:vt.identity_id,expires_at:vt.expires_at})}).catch(function(vt){return"string"==typeof vt&&0===vt.toLowerCase().lastIndexOf("network error",vt.length)||Q.clear(),Re.debug("refresh federated token failed",vt),Promise.reject("refreshing federation token failed: "+vt)})},Je.prototype._isExpired=function($e){if(!$e)return Re.debug("no credentials for expiration check"),!0;Re.debug("are these credentials expired?",$e);var Q=Date.now();return $e.expiration.getTime()<=Q},Je.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},Je.prototype._setCredentialsForGuest=function(){var $e;return Qe(this,void 0,void 0,function(){var Q,qe,Ve,ze,vt,Gt,G,on,ir=this;return Se(this,function(sr){switch(sr.label){case 0:return Re.debug("setting credentials for guest"),!(null===($e=this._config)||void 0===$e)&&$e.identityPoolId||(this._config=Object.assign({},this._config,(0,Ir.h)(this._config||{}).Auth)),qe=(Q=this._config).identityPoolId,Ve=Q.region,ze=Q.identityPoolRegion,Q.mandatorySignIn?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:qe?ze||Ve?(Gt=this,[4,this._getGuestIdentityId()]):(Re.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(Re.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return vt=Gt._identityId=sr.sent(),G={region:ze??Ve},on=Qe(ir,void 0,void 0,function(){var Wn,Jt;return Se(this,function(bn){switch(bn.label){case 0:return vt?[3,2]:[4,ot(G,{IdentityPoolId:qe})];case 1:Wn=bn.sent().IdentityId,this._identityId=Wn,bn.label=2;case 2:return[4,kn(G,{IdentityId:this._identityId})];case 3:return Jt=bn.sent().Credentials,[2,{identityId:this._identityId,accessKeyId:Jt.AccessKeyId,secretAccessKey:Jt.SecretKey,sessionToken:Jt.SessionToken,expiration:Jt.Expiration}]}})}).catch(function(Wn){return Qe(ir,void 0,void 0,function(){return Se(this,function(Jt){throw Wn})})}),[2,this._loadCredentials(on,"guest",!1,null).then(function(Wn){return Wn}).catch(function(Wn){return Qe(ir,void 0,void 0,function(){var bn=this;return Se(this,function(Fn){switch(Fn.label){case 0:return"ResourceNotFoundException"===Wn.name&&Wn.message==="Identity '".concat(vt,"' not found.")?(Re.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]):[3,2];case 1:return Fn.sent(),on=Qe(bn,void 0,void 0,function(){var pr,Wr;return Se(this,function(mr){switch(mr.label){case 0:return[4,ot(G,{IdentityPoolId:qe})];case 1:return pr=mr.sent().IdentityId,this._identityId=pr,[4,kn(G,{IdentityId:pr})];case 2:return Wr=mr.sent().Credentials,[2,{identityId:pr,accessKeyId:Wr.AccessKeyId,secretAccessKey:Wr.SecretKey,sessionToken:Wr.SessionToken,expiration:Wr.Expiration}]}})}).catch(function(pr){return Qe(bn,void 0,void 0,function(){return Se(this,function(Wr){throw pr})})}),[2,this._loadCredentials(on,"guest",!1,null)];case 2:return[2,Wn]}})})})]}})})},Je.prototype._setCredentialsFromFederation=function($e){var Q=this,qe=$e.provider,Ve=$e.token,z=$e.identity_id,vt={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[qe]||qe;if(!vt)return Promise.reject("You must specify a federated provider");var Gt={};Gt[vt]=Ve;var G=this._config,tt=G.identityPoolId,on=G.region,ir=G.identityPoolRegion;if(!tt)return Re.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!ir&&!on)return Re.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var sr={region:ir??on},Jt=Qe(Q,void 0,void 0,function(){var bn,Fn;return Se(this,function(pr){switch(pr.label){case 0:return z?[3,2]:[4,ot(sr,{IdentityPoolId:tt,Logins:Gt})];case 1:bn=pr.sent().IdentityId,z=bn,pr.label=2;case 2:return[4,kn(sr,{IdentityId:z,Logins:Gt})];case 3:return Fn=pr.sent().Credentials,[2,{identityId:z,accessKeyId:Fn.AccessKeyId,secretAccessKey:Fn.SecretKey,sessionToken:Fn.SessionToken,expiration:Fn.Expiration}]}})}).catch(function(bn){return Qe(Q,void 0,void 0,function(){return Se(this,function(Fn){throw bn})})});return this._loadCredentials(Jt,"federated",!0,$e)},Je.prototype._setCredentialsFromSession=function($e){var Q=this;Re.debug("set credentials from session");var qe=$e.getIdToken().getJwtToken(),Ve=this._config,z=Ve.region,ze=Ve.userPoolId,vt=Ve.identityPoolId,Gt=Ve.identityPoolRegion;if(!vt)return Re.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!Gt&&!z)return Re.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var tt={};tt["cognito-idp."+z+".amazonaws.com/"+ze]=qe;var on={region:Gt??z},sr=Qe(Q,void 0,void 0,function(){var Wn,Jt,bn,Fn,pr,Wr,mr,oi,wr,Ui;return Se(this,function(ni){switch(ni.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(Wn=ni.sent())?[3,3]:[4,ot(on,{IdentityPoolId:vt,Logins:tt})];case 2:bn=ni.sent().IdentityId,Jt=bn,ni.label=3;case 3:return[4,kn(on,{IdentityId:Wn||Jt,Logins:tt})];case 4:return Fn=ni.sent(),Wr=(pr=Fn.Credentials).AccessKeyId,mr=pr.Expiration,oi=pr.SecretKey,wr=pr.SessionToken,this._identityId=Ui=Fn.IdentityId,Wn?(Re.debug("The guest identity ".concat(Wn," has been successfully linked to the logins")),Wn===Ui&&Re.debug("The guest identity ".concat(Wn," has become the primary identity")),[4,this._removeGuestIdentityId()]):[3,6];case 5:ni.sent(),ni.label=6;case 6:return[2,{accessKeyId:Wr,secretAccessKey:oi,sessionToken:wr,expiration:mr,identityId:Ui}]}})}).catch(function(Wn){return Qe(Q,void 0,void 0,function(){return Se(this,function(Jt){throw Wn})})});return this._loadCredentials(sr,"userPool",!0,null)},Je.prototype._loadCredentials=function($e,Q,qe,Ve){var z=this,ze=this;return new Promise(function(vt,Gt){$e.then(function(G){return Qe(z,void 0,void 0,function(){var tt,on,ir,sr,Wn;return Se(this,function(Jt){switch(Jt.label){case 0:if(Re.debug("Load credentials successfully",G),this._identityId&&!G.identityId&&(G.identityId=this._identityId),ze._credentials=G,ze._credentials.authenticated=qe,ze._credentials_source=Q,ze._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===Q){tt=Object.assign({id:this._credentials.identityId},Ve.user),on=Ve.provider,ir=Ve.token,sr=Ve.expires_at,Wn=Ve.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:on,token:ir,user:tt,expires_at:sr,identity_id:Wn}))}catch(bn){Re.debug("Failed to put federated info into auth storage",bn)}}return"guest"!==Q?[3,2]:[4,this._setGuestIdentityId(G.identityId)];case 1:Jt.sent(),Jt.label=2;case 2:return vt(ze._credentials),[2]}})})}).catch(function(G){if(G)return Re.debug("Failed to load credentials",$e),Re.debug("Error loading credentials",G),void Gt(G)})})},Je.prototype.set=function($e,Q){return"session"===Q?this._setCredentialsFromSession($e):"federation"===Q?this._setCredentialsFromFederation($e):"guest"===Q?this._setCredentialsForGuest():(Re.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},Je.prototype.clear=function(){return Qe(this,void 0,void 0,function(){return Se(this,function($e){return this._credentials=null,this._credentials_source=null,Re.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},Je.prototype._getGuestIdentityId=function(){return Qe(this,void 0,void 0,function(){var $e,Q;return Se(this,function(qe){switch(qe.label){case 0:$e=this._config.identityPoolId,qe.label=1;case 1:return qe.trys.push([1,3,,4]),[4,this._storageSync];case 2:return qe.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey($e))];case 3:return Q=qe.sent(),Re.debug("Failed to get the cached guest identityId",Q),[3,4];case 4:return[2]}})})},Je.prototype._setGuestIdentityId=function($e){return Qe(this,void 0,void 0,function(){var Q,qe;return Se(this,function(Ve){switch(Ve.label){case 0:Q=this._config.identityPoolId,Ve.label=1;case 1:return Ve.trys.push([1,3,,4]),[4,this._storageSync];case 2:return Ve.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(Q),$e),[3,4];case 3:return qe=Ve.sent(),Re.debug("Failed to cache guest identityId",qe),[3,4];case 4:return[2]}})})},Je.prototype._removeGuestIdentityId=function(){return Qe(this,void 0,void 0,function(){var $e;return Se(this,function(Q){return Re.debug("removing ".concat(this._getCognitoIdentityIdStorageKey($e=this._config.identityPoolId)," from storage")),this._storage.removeItem(this._getCognitoIdentityIdStorageKey($e)),[2]})})},Je.prototype.shear=function($e){return{accessKeyId:$e.accessKeyId,sessionToken:$e.sessionToken,secretAccessKey:$e.secretAccessKey,identityId:$e.identityId,authenticated:$e.authenticated}},Je}(),Ds=new Dr(null);xe.d.register(Ds)},281:(Mt,Ae,P)=>{"use strict";P.d(Ae,{X:()=>ae});var v=P(8624),H=function(){return H=Object.assign||function(X){for(var ne,ce=1,Me=arguments.length;ce<Me;ce++)for(var J in ne=arguments[ce])Object.prototype.hasOwnProperty.call(ne,J)&&(X[J]=ne[J]);return X},H.apply(this,arguments)},c=function(X,ne){var ce="function"==typeof Symbol&&X[Symbol.iterator];if(!ce)return X;var J,Ie,Me=ce.call(X),ee=[];try{for(;(void 0===ne||ne-- >0)&&!(J=Me.next()).done;)ee.push(J.value)}catch(xe){Ie={error:xe}}finally{try{J&&!J.done&&(ce=Me.return)&&ce.call(Me)}finally{if(Ie)throw Ie.error}}return ee},ue=function(X,ne,ce){if(ce||2===arguments.length)for(var ee,Me=0,J=ne.length;Me<J;Me++)(ee||!(Me in ne))&&(ee||(ee=Array.prototype.slice.call(ne,0,Me)),ee[Me]=ne[Me]);return X.concat(ee||Array.prototype.slice.call(ne))},de=new v.k("Hub"),re=typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",ae=new(function(){function X(ne){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=ne}return X.prototype._remove=function(ne,ce){if(ne instanceof RegExp){var Me=this.patterns.find(function(ee){return ee.pattern.source===ne.source});if(!Me)return void de.warn("No listeners for ".concat(ne));this.patterns=ue([],c(this.patterns.filter(function(ee){return ee!==Me})),!1)}else{var J=this.listeners[ne];if(!J)return void de.warn("No listeners for ".concat(ne));this.listeners[ne]=ue([],c(J.filter(function(ee){return ee.callback!==ce})),!1)}},X.prototype.remove=function(ne,ce){this._remove(ne,ce)},X.prototype.dispatch=function(ne,ce,Me,J){void 0===Me&&(Me=""),this.protectedChannels.indexOf(ne)>-1&&(J===re||de.warn("WARNING: ".concat(ne," is protected and dispatching on it can have unintended consequences")));var Ie={channel:ne,payload:H({},ce),source:Me,patternInfo:[]};try{this._toListeners(Ie)}catch(xe){de.error(xe)}},X.prototype.listen=function(ne,ce,Me){var ee,J=this;if(void 0===Me&&(Me="noname"),function se(X){return void 0!==X.onHubCapsule}(ce))de.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),ee=ce.onHubCapsule.bind(ce);else{if("function"!=typeof ce)throw new Error("No callback supplied to Hub");ee=ce}if(ne instanceof RegExp)this.patterns.push({pattern:ne,callback:ee});else{var Ie=this.listeners[ne];Ie||(this.listeners[ne]=Ie=[]),Ie.push({name:Me,callback:ee})}return function(){J._remove(ne,ee)}},X.prototype._toListeners=function(ne){var ce=ne.channel,Me=ne.payload,J=this.listeners[ce];if(J&&J.forEach(function(Ie){de.debug("Dispatching to ".concat(ce," with "),Me);try{Ie.callback(ne)}catch(xe){de.error(xe)}}),this.patterns.length>0){if(!Me.message)return void de.warn("Cannot perform pattern matching without a message key");var ee=Me.message;this.patterns.forEach(function(Ie){var xe=ee.match(Ie.pattern);if(xe){var Ke=c(xe).slice(1),He=H(H({},ne),{patternInfo:Ke});try{Ie.callback(He)}catch(Ye){de.error(Ye)}}})}},X}())("__default__")},7556:(Mt,Ae,P)=>{"use strict";P.d(Ae,{ML:()=>W,lC:()=>X,n2:()=>ae});var W=function(J){if(J.isResolved)return J;var ee=!0,Ie=!1,xe=!1,Fe=J.then(function(Ke){return xe=!0,ee=!1,Ke},function(Ke){throw Ie=!0,ee=!1,Ke});return Fe.isFullfilled=function(){return xe},Fe.isPending=function(){return ee},Fe.isRejected=function(){return Ie},Fe},ae=function(){if(typeof self>"u")return!1;var J=self;return typeof J.WorkerGlobalScope<"u"&&self instanceof J.WorkerGlobalScope},X=function(){return{isBrowser:typeof window<"u"&&typeof window.document<"u",isNode:typeof process<"u"&&null!=process.versions&&null!=process.versions.node}}},8624:(Mt,Ae,P)=>{"use strict";P.d(Ae,{k:()=>Me});var W=function(J){var ee="function"==typeof Symbol&&Symbol.iterator,Ie=ee&&J[ee],xe=0;if(Ie)return Ie.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&xe>=J.length&&(J=void 0),{value:J&&J[xe++],done:!J}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")},ae=function(J,ee){var Ie="function"==typeof Symbol&&J[Symbol.iterator];if(!Ie)return J;var Fe,He,xe=Ie.call(J),Ke=[];try{for(;(void 0===ee||ee-- >0)&&!(Fe=xe.next()).done;)Ke.push(Fe.value)}catch(Ye){He={error:Ye}}finally{try{Fe&&!Fe.done&&(Ie=xe.return)&&Ie.call(xe)}finally{if(He)throw He.error}}return Ke},X=function(J,ee,Ie){if(Ie||2===arguments.length)for(var Ke,xe=0,Fe=ee.length;xe<Fe;xe++)(Ke||!(xe in ee))&&(Ke||(Ke=Array.prototype.slice.call(ee,0,xe)),Ke[xe]=ee[xe]);return J.concat(Ke||Array.prototype.slice.call(ee))},ne={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},ce=(()=>{return(J=ce||(ce={})).DEBUG="DEBUG",J.ERROR="ERROR",J.INFO="INFO",J.WARN="WARN",J.VERBOSE="VERBOSE",ce;var J})(),Me=function(){function J(ee,Ie){void 0===Ie&&(Ie=ce.WARN),this.name=ee,this.level=Ie,this._pluggables=[]}return J.prototype._padding=function(ee){return ee<10?"0"+ee:""+ee},J.prototype._ts=function(){var ee=new Date;return[this._padding(ee.getMinutes()),this._padding(ee.getSeconds())].join(":")+"."+ee.getMilliseconds()},J.prototype.configure=function(ee){return ee?(this._config=ee,this._config):this._config},J.prototype._log=function(ee){for(var Ie,xe,Fe=[],Ke=1;Ke<arguments.length;Ke++)Fe[Ke-1]=arguments[Ke];var He=this.level;if(J.LOG_LEVEL&&(He=J.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(He=window.LOG_LEVEL),ne[ee]>=ne[He]){var mt=console.log.bind(console);ee===ce.ERROR&&console.error&&(mt=console.error.bind(console)),ee===ce.WARN&&console.warn&&(mt=console.warn.bind(console));var Ue="[".concat(ee,"] ").concat(this._ts()," ").concat(this.name),Be="";if(1===Fe.length&&"string"==typeof Fe[0])mt(Be="".concat(Ue," - ").concat(Fe[0]));else if(1===Fe.length)Be="".concat(Ue," ").concat(Fe[0]),mt(Ue,Fe[0]);else if("string"==typeof Fe[0]){var ge=Fe.slice(1);1===ge.length&&(ge=ge[0]),Be="".concat(Ue," - ").concat(Fe[0]," ").concat(ge),mt("".concat(Ue," - ").concat(Fe[0]),ge)}else Be="".concat(Ue," ").concat(Fe),mt(Ue,Fe);try{for(var et=W(this._pluggables),_t=et.next();!_t.done;_t=et.next()){var Et=_t.value,ft={message:Be,timestamp:Date.now()};Et.pushLogs([ft])}}catch(pt){Ie={error:pt}}finally{try{_t&&!_t.done&&(xe=et.return)&&xe.call(et)}finally{if(Ie)throw Ie.error}}}},J.prototype.log=function(){for(var ee=[],Ie=0;Ie<arguments.length;Ie++)ee[Ie]=arguments[Ie];this._log.apply(this,X([ce.INFO],ae(ee),!1))},J.prototype.info=function(){for(var ee=[],Ie=0;Ie<arguments.length;Ie++)ee[Ie]=arguments[Ie];this._log.apply(this,X([ce.INFO],ae(ee),!1))},J.prototype.warn=function(){for(var ee=[],Ie=0;Ie<arguments.length;Ie++)ee[Ie]=arguments[Ie];this._log.apply(this,X([ce.WARN],ae(ee),!1))},J.prototype.error=function(){for(var ee=[],Ie=0;Ie<arguments.length;Ie++)ee[Ie]=arguments[Ie];this._log.apply(this,X([ce.ERROR],ae(ee),!1))},J.prototype.debug=function(){for(var ee=[],Ie=0;Ie<arguments.length;Ie++)ee[Ie]=arguments[Ie];this._log.apply(this,X([ce.DEBUG],ae(ee),!1))},J.prototype.verbose=function(){for(var ee=[],Ie=0;Ie<arguments.length;Ie++)ee[Ie]=arguments[Ie];this._log.apply(this,X([ce.VERBOSE],ae(ee),!1))},J.prototype.addPluggable=function(ee){ee&&"Logging"===ee.getCategoryName()&&(this._pluggables.push(ee),ee.configure(this._config))},J.prototype.listPluggables=function(){return this._pluggables},J.LOG_LEVEL=null,J}()},1508:(Mt,Ae,P)=>{"use strict";P.d(Ae,{Cj:()=>pt,QW:()=>vn});var Be,v=P(8758),H=function(){return typeof global<"u"},ue=function(){return typeof window<"u"},de=function(){return typeof document<"u"},re=function(){return typeof process<"u"},se=function(Bt,ye){return!!Object.keys(Bt).find(function(_e){return _e.startsWith(ye)})},mt=[{platform:v.gQ.Expo,detectionMethod:function Ye(){return H()&&typeof global.expo<"u"}},{platform:v.gQ.ReactNative,detectionMethod:function He(){return typeof navigator<"u"&&typeof navigator.product<"u"&&"ReactNative"===navigator.product}},{platform:v.gQ.NextJs,detectionMethod:function J(){return ue()&&window.next&&"object"==typeof window.next}},{platform:v.gQ.Nuxt,detectionMethod:function Ie(){return ue()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:v.gQ.Angular,detectionMethod:function Fe(){var Bt=Boolean(de()&&document.querySelector("[ng-version]")),ye=Boolean(ue()&&typeof window.ng<"u");return Bt||ye}},{platform:v.gQ.React,detectionMethod:function W(){var Bt=function(De){return De.startsWith("_react")||De.startsWith("__react")};return de()&&Array.from(document.querySelectorAll("[id]")).some(function(De){return Object.keys(De).find(Bt)})}},{platform:v.gQ.VueJs,detectionMethod:function X(){return ue()&&se(window,"__VUE")}},{platform:v.gQ.Svelte,detectionMethod:function ce(){return ue()&&se(window,"__SVELTE")}},{platform:v.gQ.WebUnknown,detectionMethod:function Le(){return ue()}},{platform:v.gQ.NextJsSSR,detectionMethod:function ee(){return H()&&(se(global,"__next")||se(global,"__NEXT"))}},{platform:v.gQ.NuxtSSR,detectionMethod:function xe(){return H()&&typeof global.__NUXT_PATHS__<"u"}},{platform:v.gQ.ReactSSR,detectionMethod:function ae(){return re()&&typeof process.env<"u"&&!!Object.keys(process.env).find(function(Bt){return Bt.includes("react")})}},{platform:v.gQ.VueJsSSR,detectionMethod:function ne(){return H()&&se(global,"__VUE")}},{platform:v.gQ.AngularSSR,detectionMethod:function Ke(){var Bt;return re()&&"object"==typeof process.env&&(null===(Bt=process.env.npm_lifecycle_script)||void 0===Bt?void 0:Bt.startsWith("ng "))||!1}},{platform:v.gQ.SvelteSSR,detectionMethod:function Me(){return re()&&typeof process.env<"u"&&!!Object.keys(process.env).find(function(Bt){return Bt.includes("svelte")})}}],ge=[],et=!1,ft=1e3,pt=function(){if(!Be){if(Be=function Ue(){var Bt;return(null===(Bt=mt.find(function(ye){return ye.detectionMethod()}))||void 0===Bt?void 0:Bt.platform)||v.gQ.ServerSideUnknown}(),et)for(;ge.length;)ge.pop()();else ge.forEach(function(Bt){return Bt()});an(v.gQ.ServerSideUnknown,10),an(v.gQ.WebUnknown,10)}return Be},vn=function(Bt){et||ge.push(Bt)};function an(Bt,ye){Be===Bt&&!et&&setTimeout(function(){(function An(){Be=void 0})(),et=!0,setTimeout(pt,ft)},ye)}},6173:(Mt,Ae,P)=>{"use strict";P.d(Ae,{t4:()=>se,Zm:()=>ae});var v=P(8758),H="5.3.18",c=P(1508),de="aws-amplify",se=new(function(){function X(){this.userAgent="".concat(de,"/").concat(H)}return Object.defineProperty(X.prototype,"framework",{get:function(){return(0,c.Cj)()},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"isReactNative",{get:function(){return this.framework===v.gQ.ReactNative||this.framework===v.gQ.Expo},enumerable:!1,configurable:!0}),X.prototype.observeFrameworkChanges=function(ne){(0,c.QW)(ne)},X}()),ae=function(X){var ne=function(X){var ne=void 0===X?{}:X,ce=ne.category,ee=[[de,H]];return ce&&ee.push([ce,ne.action]),ee.push(["framework",(0,c.Cj)()]),ee}(X),ce=ne.map(function(Me){var J=function(X,ne){var ce="function"==typeof Symbol&&X[Symbol.iterator];if(!ce)return X;var J,Ie,Me=ce.call(X),ee=[];try{for(;(void 0===ne||ne-- >0)&&!(J=Me.next()).done;)ee.push(J.value)}catch(xe){Ie={error:xe}}finally{try{J&&!J.done&&(ce=Me.return)&&ce.call(Me)}finally{if(Ie)throw Ie.error}}return ee}(Me,2),Ie=J[1];return"".concat(J[0],"/").concat(Ie)}).join(" ");return ce}},8758:(Mt,Ae,P)=>{"use strict";P.d(Ae,{WD:()=>H,bB:()=>ne,g4:()=>de,gQ:()=>v});var v=(()=>{return(J=v||(v={})).WebUnknown="0",J.React="1",J.NextJs="2",J.Angular="3",J.VueJs="4",J.Nuxt="5",J.Svelte="6",J.ServerSideUnknown="100",J.ReactSSR="101",J.NextJsSSR="102",J.AngularSSR="103",J.VueJsSSR="104",J.NuxtSSR="105",J.SvelteSSR="106",J.ReactNative="201",J.Expo="202",v;var J})(),H=(()=>{return(J=H||(H={})).API="api",J.Auth="auth",J.Analytics="analytics",J.DataStore="datastore",J.Geo="geo",J.InAppMessaging="inappmessaging",J.Interactions="interactions",J.Predictions="predictions",J.PubSub="pubsub",J.PushNotification="pushnotification",J.Storage="storage",H;var J})(),de=(()=>((de||(de={})).FederatedSignIn="30",de))(),ne=(()=>((ne||(ne={})).Subscribe="1",ne))()},547:(Mt,Ae,P)=>{"use strict";P.d(Ae,{c:()=>c});var v={},H=function(){function ue(){}return ue.setItem=function(de,re){return v[de]=re,v[de]},ue.getItem=function(de){return Object.prototype.hasOwnProperty.call(v,de)?v[de]:void 0},ue.removeItem=function(de){return delete v[de]},ue.clear=function(){return v={}},ue}(),c=function(){function ue(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch{this.storageWindow=H}}return ue.prototype.getStorage=function(){return this.storageWindow},ue}()},9864:(Mt,Ae,P)=>{"use strict";P.d(Ae,{V2:()=>W,Xm:()=>Me,kD:()=>ce,m0:()=>ae});var J,v=P(8624),H=(J=function(ee,Ie){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xe,Fe){xe.__proto__=Fe}||function(xe,Fe){for(var Ke in Fe)Object.prototype.hasOwnProperty.call(Fe,Ke)&&(xe[Ke]=Fe[Ke])})(ee,Ie)},function(ee,Ie){if("function"!=typeof Ie&&null!==Ie)throw new TypeError("Class extends value "+String(Ie)+" is not a constructor or null");function xe(){this.constructor=ee}J(ee,Ie),ee.prototype=null===Ie?Object.create(Ie):(xe.prototype=Ie.prototype,new xe)}),c=function(J,ee,Ie,xe){return new(Ie||(Ie=Promise))(function(Ke,He){function Ye(Ue){try{mt(xe.next(Ue))}catch(Be){He(Be)}}function Le(Ue){try{mt(xe.throw(Ue))}catch(Be){He(Be)}}function mt(Ue){Ue.done?Ke(Ue.value):function Fe(Ke){return Ke instanceof Ie?Ke:new Ie(function(He){He(Ke)})}(Ue.value).then(Ye,Le)}mt((xe=xe.apply(J,ee||[])).next())})},ue=function(J,ee){var xe,Fe,Ke,He,Ie={label:0,sent:function(){if(1&Ke[0])throw Ke[1];return Ke[1]},trys:[],ops:[]};return He={next:Ye(0),throw:Ye(1),return:Ye(2)},"function"==typeof Symbol&&(He[Symbol.iterator]=function(){return this}),He;function Ye(mt){return function(Ue){return function Le(mt){if(xe)throw new TypeError("Generator is already executing.");for(;He&&(He=0,mt[0]&&(Ie=0)),Ie;)try{if(xe=1,Fe&&(Ke=2&mt[0]?Fe.return:mt[0]?Fe.throw||((Ke=Fe.return)&&Ke.call(Fe),0):Fe.next)&&!(Ke=Ke.call(Fe,mt[1])).done)return Ke;switch(Fe=0,Ke&&(mt=[2&mt[0],Ke.value]),mt[0]){case 0:case 1:Ke=mt;break;case 4:return Ie.label++,{value:mt[1],done:!1};case 5:Ie.label++,Fe=mt[1],mt=[0];continue;case 7:mt=Ie.ops.pop(),Ie.trys.pop();continue;default:if(!(Ke=(Ke=Ie.trys).length>0&&Ke[Ke.length-1])&&(6===mt[0]||2===mt[0])){Ie=0;continue}if(3===mt[0]&&(!Ke||mt[1]>Ke[0]&&mt[1]<Ke[3])){Ie.label=mt[1];break}if(6===mt[0]&&Ie.label<Ke[1]){Ie.label=Ke[1],Ke=mt;break}if(Ke&&Ie.label<Ke[2]){Ie.label=Ke[2],Ie.ops.push(mt);break}Ke[2]&&Ie.ops.pop(),Ie.trys.pop();continue}mt=ee.call(J,Ie)}catch(Ue){mt=[6,Ue],Fe=0}finally{xe=Ke=0}if(5&mt[0])throw mt[1];return{value:mt[0]?mt[1]:void 0,done:!0}}([mt,Ue])}}},de=function(J,ee){var Ie="function"==typeof Symbol&&J[Symbol.iterator];if(!Ie)return J;var Fe,He,xe=Ie.call(J),Ke=[];try{for(;(void 0===ee||ee-- >0)&&!(Fe=xe.next()).done;)Ke.push(Fe.value)}catch(Ye){He={error:Ye}}finally{try{Fe&&!Fe.done&&(Ie=xe.return)&&Ie.call(xe)}finally{if(He)throw He.error}}return Ke},re=function(J,ee,Ie){if(Ie||2===arguments.length)for(var Ke,xe=0,Fe=ee.length;xe<Fe;xe++)(Ke||!(xe in ee))&&(Ke||(Ke=Array.prototype.slice.call(ee,0,xe)),Ke[xe]=ee[xe]);return J.concat(Ke||Array.prototype.slice.call(ee))},se=new v.k("Util"),W=function(J){function ee(Ie){var xe=J.call(this,Ie)||this;return xe.nonRetryable=!0,xe}return H(ee,J),ee}(Error),ae=function(J){return J&&J.nonRetryable},ne=3e5;function ce(J){return void 0===J&&(J=ne),function(xe){var Fe=100*Math.pow(2,xe)+100*Math.random();return!(Fe>J)&&Fe}}var Me=function(J,ee,Ie,xe){return void 0===Ie&&(Ie=ne),function X(J,ee,Ie,xe){return c(this,void 0,void 0,function(){var Fe=this;return ue(this,function(Ke){if("function"!=typeof J)throw Error("functionToRetry must be a function");return[2,new Promise(function(He,Ye){return c(Fe,void 0,void 0,function(){var Le,mt,Ue,Be,ge,et,_t;return ue(this,function(Et){switch(Et.label){case 0:Le=0,mt=!1,Be=function(){},xe&&xe.then(function(){mt=!0,clearTimeout(Ue),Be()}),et=function(){var ft,pt,vn,An;return ue(this,function(an){switch(an.label){case 0:Le++,se.debug("".concat(J.name," attempt #").concat(Le," with this vars: ").concat(JSON.stringify(ee))),an.label=1;case 1:return an.trys.push([1,3,,7]),ft={},pt=He,[4,J.apply(void 0,re([],de(ee),!1))];case 2:return[2,(ft.value=pt.apply(void 0,[an.sent()]),ft)];case 3:return vn=an.sent(),ge=vn,se.debug("error on ".concat(J.name),vn),ae(vn)?(se.debug("".concat(J.name," non retryable error"),vn),[2,{value:Ye(vn)}]):(An=Ie(Le,ee,vn),se.debug("".concat(J.name," retrying in ").concat(An," ms")),!1===An||mt?[2,{value:Ye(vn)}]:[3,4]);case 4:return[4,new Promise(function(Bt){Be=Bt,Ue=setTimeout(Be,An)})];case 5:an.sent(),an.label=6;case 6:return[3,7];case 7:return[2]}})},Et.label=1;case 1:return mt?[3,3]:[5,et()];case 2:return"object"==typeof(_t=Et.sent())?[2,_t.value]:[3,1];case 3:return Ye(ge),[2]}})})})]})})}(J,ee,ce(Ie),xe)}},2087:(Mt,Ae,P)=>{"use strict";P.d(Ae,{M:()=>c,o:()=>H});var H=typeof Symbol<"u"&&"function"==typeof Symbol.for?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",c="x-amz-user-agent"},7694:(Mt,Ae,P)=>{"use strict";P.d(Ae,{h:()=>ue});var v=P(8624),H=function(){return H=Object.assign||function(de){for(var re,se=1,W=arguments.length;se<W;se++)for(var ae in re=arguments[se])Object.prototype.hasOwnProperty.call(re,ae)&&(de[ae]=re[ae]);return de},H.apply(this,arguments)},c=new v.k("Parser"),ue=function(de){var W,re={};return de.aws_mobile_analytics_app_id&&(re.Analytics={AWSPinpoint:{appId:de.aws_mobile_analytics_app_id,region:de.aws_mobile_analytics_app_region}}),(de.aws_cognito_identity_pool_id||de.aws_user_pools_id)&&(re.Auth={userPoolId:de.aws_user_pools_id,userPoolWebClientId:de.aws_user_pools_web_client_id,region:de.aws_cognito_region,identityPoolId:de.aws_cognito_identity_pool_id,identityPoolRegion:de.aws_cognito_region,mandatorySignIn:"enable"===de.aws_mandatory_sign_in,signUpVerificationMethod:de.aws_cognito_sign_up_verification_method||"code"}),W=de.aws_user_files_s3_bucket?{AWSS3:{bucket:de.aws_user_files_s3_bucket,region:de.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:de.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:de?de.Storage||de:{},de.Logging&&(re.Logging=H(H({},de.Logging),{region:de.aws_project_region})),de.geo&&(re.Geo=Object.assign({},de.geo),de.geo.amazon_location_service&&(re.Geo={AmazonLocationService:de.geo.amazon_location_service})),re.Analytics=Object.assign({},re.Analytics,de.Analytics),re.Auth=Object.assign({},re.Auth,de.Auth),re.Storage=Object.assign({},W),re.Logging=Object.assign({},re.Logging,de.Logging),c.debug("parse config",de,"to amplifyconfig",re),re}},6516:(Mt,Ae,P)=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.RawSha256=void 0;var v=P(4022),H=function(){function c(){this.state=Int32Array.from(v.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return c.prototype.update=function(ue){if(this.finished)throw new Error("Attempted to update an already finished hash.");var de=0,re=ue.byteLength;if(this.bytesHashed+=re,8*this.bytesHashed>v.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;re>0;)this.buffer[this.bufferLength++]=ue[de++],re--,this.bufferLength===v.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},c.prototype.digest=function(){if(!this.finished){var ue=8*this.bytesHashed,de=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),re=this.bufferLength;if(de.setUint8(this.bufferLength++,128),re%v.BLOCK_SIZE>=v.BLOCK_SIZE-8){for(var se=this.bufferLength;se<v.BLOCK_SIZE;se++)de.setUint8(se,0);this.hashBuffer(),this.bufferLength=0}for(se=this.bufferLength;se<v.BLOCK_SIZE-8;se++)de.setUint8(se,0);de.setUint32(v.BLOCK_SIZE-8,Math.floor(ue/4294967296),!0),de.setUint32(v.BLOCK_SIZE-4,ue),this.hashBuffer(),this.finished=!0}var W=new Uint8Array(v.DIGEST_LENGTH);for(se=0;se<8;se++)W[4*se]=this.state[se]>>>24&255,W[4*se+1]=this.state[se]>>>16&255,W[4*se+2]=this.state[se]>>>8&255,W[4*se+3]=this.state[se]>>>0&255;return W},c.prototype.hashBuffer=function(){for(var de=this.buffer,re=this.state,se=re[0],W=re[1],ae=re[2],X=re[3],ne=re[4],ce=re[5],Me=re[6],J=re[7],ee=0;ee<v.BLOCK_SIZE;ee++){if(ee<16)this.temp[ee]=(255&de[4*ee])<<24|(255&de[4*ee+1])<<16|(255&de[4*ee+2])<<8|255&de[4*ee+3];else{var Ie=this.temp[ee-2];this.temp[ee]=(((Ie>>>17|Ie<<15)^(Ie>>>19|Ie<<13)^Ie>>>10)+this.temp[ee-7]|0)+((((Ie=this.temp[ee-15])>>>7|Ie<<25)^(Ie>>>18|Ie<<14)^Ie>>>3)+this.temp[ee-16]|0)}var Ke=(((ne>>>6|ne<<26)^(ne>>>11|ne<<21)^(ne>>>25|ne<<7))+(ne&ce^~ne&Me)|0)+(J+(v.KEY[ee]+this.temp[ee]|0)|0)|0,He=((se>>>2|se<<30)^(se>>>13|se<<19)^(se>>>22|se<<10))+(se&W^se&ae^W&ae)|0;J=Me,Me=ce,ce=ne,ne=X+Ke|0,X=ae,ae=W,W=se,se=Ke+He|0}re[0]+=se,re[1]+=W,re[2]+=ae,re[3]+=X,re[4]+=ne,re[5]+=ce,re[6]+=Me,re[7]+=J},c}();Ae.RawSha256=H},4022:(Mt,Ae)=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.MAX_HASHABLE_LENGTH=Ae.INIT=Ae.KEY=Ae.DIGEST_LENGTH=Ae.BLOCK_SIZE=void 0,Ae.BLOCK_SIZE=64,Ae.DIGEST_LENGTH=32,Ae.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ae.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Ae.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},4578:(Mt,Ae,P)=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0}),(0,P(3541).__exportStar)(P(3039),Ae)},3039:(Mt,Ae,P)=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.Sha256=void 0;var v=P(3541),H=P(4022),c=P(6516),ue=P(7736),de=function(){function se(W){if(this.hash=new c.RawSha256,W){this.outer=new c.RawSha256;var ae=function re(se){var W=(0,ue.convertToBuffer)(se);if(W.byteLength>H.BLOCK_SIZE){var ae=new c.RawSha256;ae.update(W),W=ae.digest()}var X=new Uint8Array(H.BLOCK_SIZE);return X.set(W),X}(W),X=new Uint8Array(H.BLOCK_SIZE);X.set(ae);for(var ne=0;ne<H.BLOCK_SIZE;ne++)ae[ne]^=54,X[ne]^=92;for(this.hash.update(ae),this.outer.update(X),ne=0;ne<ae.byteLength;ne++)ae[ne]=0}}return se.prototype.update=function(W){if(!(0,ue.isEmptyData)(W)&&!this.error)try{this.hash.update((0,ue.convertToBuffer)(W))}catch(ae){this.error=ae}},se.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},se.prototype.digest=function(){return(0,v.__awaiter)(this,void 0,void 0,function(){return(0,v.__generator)(this,function(W){return[2,this.digestSync()]})})},se}();Ae.Sha256=de},2862:(Mt,Ae,P)=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.convertToBuffer=void 0;var v=P(8995),H=typeof Buffer<"u"&&Buffer.from?function(ue){return Buffer.from(ue,"utf8")}:v.fromUtf8;Ae.convertToBuffer=function c(ue){return ue instanceof Uint8Array?ue:"string"==typeof ue?H(ue):ArrayBuffer.isView(ue)?new Uint8Array(ue.buffer,ue.byteOffset,ue.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(ue)}},7736:(Mt,Ae,P)=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.uint32ArrayFrom=Ae.numToUint8=Ae.isEmptyData=Ae.convertToBuffer=void 0;var v=P(2862);Object.defineProperty(Ae,"convertToBuffer",{enumerable:!0,get:function(){return v.convertToBuffer}});var H=P(5516);Object.defineProperty(Ae,"isEmptyData",{enumerable:!0,get:function(){return H.isEmptyData}});var c=P(5183);Object.defineProperty(Ae,"numToUint8",{enumerable:!0,get:function(){return c.numToUint8}});var ue=P(6777);Object.defineProperty(Ae,"uint32ArrayFrom",{enumerable:!0,get:function(){return ue.uint32ArrayFrom}})},5516:(Mt,Ae)=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.isEmptyData=void 0,Ae.isEmptyData=function P(v){return"string"==typeof v?0===v.length:0===v.byteLength}},5183:(Mt,Ae)=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.numToUint8=void 0,Ae.numToUint8=function P(v){return new Uint8Array([(4278190080&v)>>24,(16711680&v)>>16,(65280&v)>>8,255&v])}},6777:(Mt,Ae)=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.uint32ArrayFrom=void 0,Ae.uint32ArrayFrom=function P(v){if(!Array.from){for(var H=new Uint32Array(v.length);0<v.length;)H[0]=v[0];return H}return Uint32Array.from(v)}},8995:(Mt,Ae,P)=>{"use strict";P.r(Ae),P.d(Ae,{fromUtf8:()=>de,toUtf8:()=>re});const de=se=>"function"==typeof TextEncoder?function c(se){return(new TextEncoder).encode(se)}(se):(se=>{const W=[];for(let ae=0,X=se.length;ae<X;ae++){const ne=se.charCodeAt(ae);if(ne<128)W.push(ne);else if(ne<2048)W.push(ne>>6|192,63&ne|128);else if(ae+1<se.length&&55296==(64512&ne)&&56320==(64512&se.charCodeAt(ae+1))){const ce=65536+((1023&ne)<<10)+(1023&se.charCodeAt(++ae));W.push(ce>>18|240,ce>>12&63|128,ce>>6&63|128,63&ce|128)}else W.push(ne>>12|224,ne>>6&63|128,63&ne|128)}return Uint8Array.from(W)})(se),re=se=>"function"==typeof TextDecoder?function ue(se){return new TextDecoder("utf-8").decode(se)}(se):(se=>{let W="";for(let ae=0,X=se.length;ae<X;ae++){const ne=se[ae];if(ne<128)W+=String.fromCharCode(ne);else if(192<=ne&&ne<224){const ce=se[++ae];W+=String.fromCharCode((31&ne)<<6|63&ce)}else if(240<=ne&&ne<365){const Me="%"+[ne,se[++ae],se[++ae],se[++ae]].map(J=>J.toString(16)).join("%");W+=decodeURIComponent(Me)}else W+=String.fromCharCode((15&ne)<<12|(63&se[++ae])<<6|63&se[++ae])}return W})(se)},5343:(Mt,Ae)=>{"use strict";Ae.byteLength=function se(Me){var J=re(Me),Ie=J[1];return 3*(J[0]+Ie)/4-Ie},Ae.toByteArray=function ae(Me){var J,Ye,ee=re(Me),Ie=ee[0],xe=ee[1],Fe=new H(function W(Me,J,ee){return 3*(J+ee)/4-ee}(0,Ie,xe)),Ke=0,He=xe>0?Ie-4:Ie;for(Ye=0;Ye<He;Ye+=4)J=v[Me.charCodeAt(Ye)]<<18|v[Me.charCodeAt(Ye+1)]<<12|v[Me.charCodeAt(Ye+2)]<<6|v[Me.charCodeAt(Ye+3)],Fe[Ke++]=J>>16&255,Fe[Ke++]=J>>8&255,Fe[Ke++]=255&J;return 2===xe&&(J=v[Me.charCodeAt(Ye)]<<2|v[Me.charCodeAt(Ye+1)]>>4,Fe[Ke++]=255&J),1===xe&&(J=v[Me.charCodeAt(Ye)]<<10|v[Me.charCodeAt(Ye+1)]<<4|v[Me.charCodeAt(Ye+2)]>>2,Fe[Ke++]=J>>8&255,Fe[Ke++]=255&J),Fe},Ae.fromByteArray=function ce(Me){for(var J,ee=Me.length,Ie=ee%3,xe=[],Ke=0,He=ee-Ie;Ke<He;Ke+=16383)xe.push(ne(Me,Ke,Ke+16383>He?He:Ke+16383));return 1===Ie?xe.push(P[(J=Me[ee-1])>>2]+P[J<<4&63]+"=="):2===Ie&&xe.push(P[(J=(Me[ee-2]<<8)+Me[ee-1])>>10]+P[J>>4&63]+P[J<<2&63]+"="),xe.join("")};for(var P=[],v=[],H=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ue=0,de=c.length;ue<de;++ue)P[ue]=c[ue],v[c.charCodeAt(ue)]=ue;function re(Me){var J=Me.length;if(J%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ee=Me.indexOf("=");return-1===ee&&(ee=J),[ee,ee===J?0:4-ee%4]}function X(Me){return P[Me>>18&63]+P[Me>>12&63]+P[Me>>6&63]+P[63&Me]}function ne(Me,J,ee){for(var xe=[],Fe=J;Fe<ee;Fe+=3)xe.push(X((Me[Fe]<<16&16711680)+(Me[Fe+1]<<8&65280)+(255&Me[Fe+2])));return xe.join("")}v["-".charCodeAt(0)]=62,v["_".charCodeAt(0)]=63},3172:(Mt,Ae,P)=>{"use strict";var H=P(5343),c=P(8461),ue=P(6425);function re(){return W.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function se(ve,T){if(re()<T)throw new RangeError("Invalid typed array length");return W.TYPED_ARRAY_SUPPORT?(ve=new Uint8Array(T)).__proto__=W.prototype:(null===ve&&(ve=new W(T)),ve.length=T),ve}function W(ve,T,F){if(!(W.TYPED_ARRAY_SUPPORT||this instanceof W))return new W(ve,T,F);if("number"==typeof ve){if("string"==typeof T)throw new Error("If encoding is specified then the first argument must be a string");return ce(this,ve)}return ae(this,ve,T,F)}function ae(ve,T,F,te){if("number"==typeof T)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&T instanceof ArrayBuffer?function ee(ve,T,F,te){if(F<0||T.byteLength<F)throw new RangeError("'offset' is out of bounds");if(T.byteLength<F+(te||0))throw new RangeError("'length' is out of bounds");return T=void 0===F&&void 0===te?new Uint8Array(T):void 0===te?new Uint8Array(T,F):new Uint8Array(T,F,te),W.TYPED_ARRAY_SUPPORT?(ve=T).__proto__=W.prototype:ve=J(ve,T),ve}(ve,T,F,te):"string"==typeof T?function Me(ve,T,F){if(("string"!=typeof F||""===F)&&(F="utf8"),!W.isEncoding(F))throw new TypeError('"encoding" must be a valid string encoding');var te=0|Ke(T,F),Ce=(ve=se(ve,te)).write(T,F);return Ce!==te&&(ve=ve.slice(0,Ce)),ve}(ve,T,F):function Ie(ve,T){if(W.isBuffer(T)){var F=0|xe(T.length);return 0===(ve=se(ve,F)).length||T.copy(ve,0,0,F),ve}if(T){if(typeof ArrayBuffer<"u"&&T.buffer instanceof ArrayBuffer||"length"in T)return"number"!=typeof T.length||function tr(ve){return ve!=ve}(T.length)?se(ve,0):J(ve,T);if("Buffer"===T.type&&ue(T.data))return J(ve,T.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(ve,T)}function X(ve){if("number"!=typeof ve)throw new TypeError('"size" argument must be a number');if(ve<0)throw new RangeError('"size" argument must not be negative')}function ce(ve,T){if(X(T),ve=se(ve,T<0?0:0|xe(T)),!W.TYPED_ARRAY_SUPPORT)for(var F=0;F<T;++F)ve[F]=0;return ve}function J(ve,T){var F=T.length<0?0:0|xe(T.length);ve=se(ve,F);for(var te=0;te<F;te+=1)ve[te]=255&T[te];return ve}function xe(ve){if(ve>=re())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+re().toString(16)+" bytes");return 0|ve}function Ke(ve,T){if(W.isBuffer(ve))return ve.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(ve)||ve instanceof ArrayBuffer))return ve.byteLength;"string"!=typeof ve&&(ve=""+ve);var F=ve.length;if(0===F)return 0;for(var te=!1;;)switch(T){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":case void 0:return lt(ve).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*F;case"hex":return F>>>1;case"base64":return jt(ve).length;default:if(te)return lt(ve).length;T=(""+T).toLowerCase(),te=!0}}function He(ve,T,F){var te=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===F||F>this.length)&&(F=this.length),F<=0)||(F>>>=0)<=(T>>>=0))return"";for(ve||(ve="utf8");;)switch(ve){case"hex":return ye(this,T,F);case"utf8":case"utf-8":return pt(this,T,F);case"ascii":return an(this,T,F);case"latin1":case"binary":return Bt(this,T,F);case"base64":return ft(this,T,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,T,F);default:if(te)throw new TypeError("Unknown encoding: "+ve);ve=(ve+"").toLowerCase(),te=!0}}function Ye(ve,T,F){var te=ve[T];ve[T]=ve[F],ve[F]=te}function Le(ve,T,F,te,Ce){if(0===ve.length)return-1;if("string"==typeof F?(te=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,isNaN(F)&&(F=Ce?0:ve.length-1),F<0&&(F=ve.length+F),F>=ve.length){if(Ce)return-1;F=ve.length-1}else if(F<0){if(!Ce)return-1;F=0}if("string"==typeof T&&(T=W.from(T,te)),W.isBuffer(T))return 0===T.length?-1:mt(ve,T,F,te,Ce);if("number"==typeof T)return T&=255,W.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?Ce?Uint8Array.prototype.indexOf.call(ve,T,F):Uint8Array.prototype.lastIndexOf.call(ve,T,F):mt(ve,[T],F,te,Ce);throw new TypeError("val must be string, number or Buffer")}function mt(ve,T,F,te,Ce){var yt,rt=1,nt=ve.length,Pt=T.length;if(void 0!==te&&("ucs2"===(te=String(te).toLowerCase())||"ucs-2"===te||"utf16le"===te||"utf-16le"===te)){if(ve.length<2||T.length<2)return-1;rt=2,nt/=2,Pt/=2,F/=2}function Tt(Yn,Qn){return 1===rt?Yn[Qn]:Yn.readUInt16BE(Qn*rt)}if(Ce){var Rt=-1;for(yt=F;yt<nt;yt++)if(Tt(ve,yt)===Tt(T,-1===Rt?0:yt-Rt)){if(-1===Rt&&(Rt=yt),yt-Rt+1===Pt)return Rt*rt}else-1!==Rt&&(yt-=yt-Rt),Rt=-1}else for(F+Pt>nt&&(F=nt-Pt),yt=F;yt>=0;yt--){for(var kt=!0,Dn=0;Dn<Pt;Dn++)if(Tt(ve,yt+Dn)!==Tt(T,Dn)){kt=!1;break}if(kt)return yt}return-1}function Ue(ve,T,F,te){F=Number(F)||0;var Ce=ve.length-F;te?(te=Number(te))>Ce&&(te=Ce):te=Ce;var rt=T.length;if(rt%2!=0)throw new TypeError("Invalid hex string");te>rt/2&&(te=rt/2);for(var nt=0;nt<te;++nt){var Pt=parseInt(T.substr(2*nt,2),16);if(isNaN(Pt))return nt;ve[F+nt]=Pt}return nt}function Be(ve,T,F,te){return yn(lt(T,ve.length-F),ve,F,te)}function ge(ve,T,F,te){return yn(function Oe(ve){for(var T=[],F=0;F<ve.length;++F)T.push(255&ve.charCodeAt(F));return T}(T),ve,F,te)}function et(ve,T,F,te){return ge(ve,T,F,te)}function _t(ve,T,F,te){return yn(jt(T),ve,F,te)}function Et(ve,T,F,te){return yn(function At(ve,T){for(var F,te,rt=[],nt=0;nt<ve.length&&!((T-=2)<0);++nt)te=(F=ve.charCodeAt(nt))>>8,rt.push(F%256),rt.push(te);return rt}(T,ve.length-F),ve,F,te)}function ft(ve,T,F){return H.fromByteArray(0===T&&F===ve.length?ve:ve.slice(T,F))}function pt(ve,T,F){F=Math.min(ve.length,F);for(var te=[],Ce=T;Ce<F;){var Tt,yt,Rt,kt,rt=ve[Ce],nt=null,Pt=rt>239?4:rt>223?3:rt>191?2:1;if(Ce+Pt<=F)switch(Pt){case 1:rt<128&&(nt=rt);break;case 2:128==(192&(Tt=ve[Ce+1]))&&(kt=(31&rt)<<6|63&Tt)>127&&(nt=kt);break;case 3:yt=ve[Ce+2],128==(192&(Tt=ve[Ce+1]))&&128==(192&yt)&&(kt=(15&rt)<<12|(63&Tt)<<6|63&yt)>2047&&(kt<55296||kt>57343)&&(nt=kt);break;case 4:yt=ve[Ce+2],Rt=ve[Ce+3],128==(192&(Tt=ve[Ce+1]))&&128==(192&yt)&&128==(192&Rt)&&(kt=(15&rt)<<18|(63&Tt)<<12|(63&yt)<<6|63&Rt)>65535&&kt<1114112&&(nt=kt)}null===nt?(nt=65533,Pt=1):nt>65535&&(te.push((nt-=65536)>>>10&1023|55296),nt=56320|1023&nt),te.push(nt),Ce+=Pt}return function An(ve){var T=ve.length;if(T<=vn)return String.fromCharCode.apply(String,ve);for(var F="",te=0;te<T;)F+=String.fromCharCode.apply(String,ve.slice(te,te+=vn));return F}(te)}Ae.lW=W,Ae.h2=50,W.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function de(){try{var ve=new Uint8Array(1);return ve.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===ve.foo()&&"function"==typeof ve.subarray&&0===ve.subarray(1,1).byteLength}catch{return!1}}(),re(),W.poolSize=8192,W._augment=function(ve){return ve.__proto__=W.prototype,ve},W.from=function(ve,T,F){return ae(null,ve,T,F)},W.TYPED_ARRAY_SUPPORT&&(W.prototype.__proto__=Uint8Array.prototype,W.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&W[Symbol.species]===W&&Object.defineProperty(W,Symbol.species,{value:null,configurable:!0})),W.alloc=function(ve,T,F){return function ne(ve,T,F,te){return X(T),T<=0?se(ve,T):void 0!==F?"string"==typeof te?se(ve,T).fill(F,te):se(ve,T).fill(F):se(ve,T)}(null,ve,T,F)},W.allocUnsafe=function(ve){return ce(null,ve)},W.allocUnsafeSlow=function(ve){return ce(null,ve)},W.isBuffer=function(T){return!(null==T||!T._isBuffer)},W.compare=function(T,F){if(!W.isBuffer(T)||!W.isBuffer(F))throw new TypeError("Arguments must be Buffers");if(T===F)return 0;for(var te=T.length,Ce=F.length,rt=0,nt=Math.min(te,Ce);rt<nt;++rt)if(T[rt]!==F[rt]){te=T[rt],Ce=F[rt];break}return te<Ce?-1:Ce<te?1:0},W.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},W.concat=function(T,F){if(!ue(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return W.alloc(0);var te;if(void 0===F)for(F=0,te=0;te<T.length;++te)F+=T[te].length;var Ce=W.allocUnsafe(F),rt=0;for(te=0;te<T.length;++te){var nt=T[te];if(!W.isBuffer(nt))throw new TypeError('"list" argument must be an Array of Buffers');nt.copy(Ce,rt),rt+=nt.length}return Ce},W.byteLength=Ke,W.prototype._isBuffer=!0,W.prototype.swap16=function(){var T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;F<T;F+=2)Ye(this,F,F+1);return this},W.prototype.swap32=function(){var T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;F<T;F+=4)Ye(this,F,F+3),Ye(this,F+1,F+2);return this},W.prototype.swap64=function(){var T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var F=0;F<T;F+=8)Ye(this,F,F+7),Ye(this,F+1,F+6),Ye(this,F+2,F+5),Ye(this,F+3,F+4);return this},W.prototype.toString=function(){var T=0|this.length;return 0===T?"":0===arguments.length?pt(this,0,T):He.apply(this,arguments)},W.prototype.equals=function(T){if(!W.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===W.compare(this,T)},W.prototype.inspect=function(){var T="",F=Ae.h2;return this.length>0&&(T=this.toString("hex",0,F).match(/.{2}/g).join(" "),this.length>F&&(T+=" ... ")),"<Buffer "+T+">"},W.prototype.compare=function(T,F,te,Ce,rt){if(!W.isBuffer(T))throw new TypeError("Argument must be a Buffer");if(void 0===F&&(F=0),void 0===te&&(te=T?T.length:0),void 0===Ce&&(Ce=0),void 0===rt&&(rt=this.length),F<0||te>T.length||Ce<0||rt>this.length)throw new RangeError("out of range index");if(Ce>=rt&&F>=te)return 0;if(Ce>=rt)return-1;if(F>=te)return 1;if(this===T)return 0;for(var nt=(rt>>>=0)-(Ce>>>=0),Pt=(te>>>=0)-(F>>>=0),Tt=Math.min(nt,Pt),yt=this.slice(Ce,rt),Rt=T.slice(F,te),kt=0;kt<Tt;++kt)if(yt[kt]!==Rt[kt]){nt=yt[kt],Pt=Rt[kt];break}return nt<Pt?-1:Pt<nt?1:0},W.prototype.includes=function(T,F,te){return-1!==this.indexOf(T,F,te)},W.prototype.indexOf=function(T,F,te){return Le(this,T,F,te,!0)},W.prototype.lastIndexOf=function(T,F,te){return Le(this,T,F,te,!1)},W.prototype.write=function(T,F,te,Ce){if(void 0===F)Ce="utf8",te=this.length,F=0;else if(void 0===te&&"string"==typeof F)Ce=F,te=this.length,F=0;else{if(!isFinite(F))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");F|=0,isFinite(te)?(te|=0,void 0===Ce&&(Ce="utf8")):(Ce=te,te=void 0)}var rt=this.length-F;if((void 0===te||te>rt)&&(te=rt),T.length>0&&(te<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ce||(Ce="utf8");for(var nt=!1;;)switch(Ce){case"hex":return Ue(this,T,F,te);case"utf8":case"utf-8":return Be(this,T,F,te);case"ascii":return ge(this,T,F,te);case"latin1":case"binary":return et(this,T,F,te);case"base64":return _t(this,T,F,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Et(this,T,F,te);default:if(nt)throw new TypeError("Unknown encoding: "+Ce);Ce=(""+Ce).toLowerCase(),nt=!0}},W.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var vn=4096;function an(ve,T,F){var te="";F=Math.min(ve.length,F);for(var Ce=T;Ce<F;++Ce)te+=String.fromCharCode(127&ve[Ce]);return te}function Bt(ve,T,F){var te="";F=Math.min(ve.length,F);for(var Ce=T;Ce<F;++Ce)te+=String.fromCharCode(ve[Ce]);return te}function ye(ve,T,F){var te=ve.length;(!T||T<0)&&(T=0),(!F||F<0||F>te)&&(F=te);for(var Ce="",rt=T;rt<F;++rt)Ce+=dt(ve[rt]);return Ce}function _e(ve,T,F){for(var te=ve.slice(T,F),Ce="",rt=0;rt<te.length;rt+=2)Ce+=String.fromCharCode(te[rt]+256*te[rt+1]);return Ce}function De(ve,T,F){if(ve%1!=0||ve<0)throw new RangeError("offset is not uint");if(ve+T>F)throw new RangeError("Trying to access beyond buffer length")}function Te(ve,T,F,te,Ce,rt){if(!W.isBuffer(ve))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>Ce||T<rt)throw new RangeError('"value" argument is out of bounds');if(F+te>ve.length)throw new RangeError("Index out of range")}function Ze(ve,T,F,te){T<0&&(T=65535+T+1);for(var Ce=0,rt=Math.min(ve.length-F,2);Ce<rt;++Ce)ve[F+Ce]=(T&255<<8*(te?Ce:1-Ce))>>>8*(te?Ce:1-Ce)}function pe(ve,T,F,te){T<0&&(T=4294967295+T+1);for(var Ce=0,rt=Math.min(ve.length-F,4);Ce<rt;++Ce)ve[F+Ce]=T>>>8*(te?Ce:3-Ce)&255}function Ne(ve,T,F,te,Ce,rt){if(F+te>ve.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function gt(ve,T,F,te,Ce){return Ce||Ne(ve,0,F,4),c.write(ve,T,F,te,23,4),F+4}function Yt(ve,T,F,te,Ce){return Ce||Ne(ve,0,F,8),c.write(ve,T,F,te,52,8),F+8}W.prototype.slice=function(T,F){var Ce,te=this.length;if((T=~~T)<0?(T+=te)<0&&(T=0):T>te&&(T=te),(F=void 0===F?te:~~F)<0?(F+=te)<0&&(F=0):F>te&&(F=te),F<T&&(F=T),W.TYPED_ARRAY_SUPPORT)(Ce=this.subarray(T,F)).__proto__=W.prototype;else{var rt=F-T;Ce=new W(rt,void 0);for(var nt=0;nt<rt;++nt)Ce[nt]=this[nt+T]}return Ce},W.prototype.readUIntLE=function(T,F,te){T|=0,F|=0,te||De(T,F,this.length);for(var Ce=this[T],rt=1,nt=0;++nt<F&&(rt*=256);)Ce+=this[T+nt]*rt;return Ce},W.prototype.readUIntBE=function(T,F,te){T|=0,F|=0,te||De(T,F,this.length);for(var Ce=this[T+--F],rt=1;F>0&&(rt*=256);)Ce+=this[T+--F]*rt;return Ce},W.prototype.readUInt8=function(T,F){return F||De(T,1,this.length),this[T]},W.prototype.readUInt16LE=function(T,F){return F||De(T,2,this.length),this[T]|this[T+1]<<8},W.prototype.readUInt16BE=function(T,F){return F||De(T,2,this.length),this[T]<<8|this[T+1]},W.prototype.readUInt32LE=function(T,F){return F||De(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},W.prototype.readUInt32BE=function(T,F){return F||De(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},W.prototype.readIntLE=function(T,F,te){T|=0,F|=0,te||De(T,F,this.length);for(var Ce=this[T],rt=1,nt=0;++nt<F&&(rt*=256);)Ce+=this[T+nt]*rt;return Ce>=(rt*=128)&&(Ce-=Math.pow(2,8*F)),Ce},W.prototype.readIntBE=function(T,F,te){T|=0,F|=0,te||De(T,F,this.length);for(var Ce=F,rt=1,nt=this[T+--Ce];Ce>0&&(rt*=256);)nt+=this[T+--Ce]*rt;return nt>=(rt*=128)&&(nt-=Math.pow(2,8*F)),nt},W.prototype.readInt8=function(T,F){return F||De(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},W.prototype.readInt16LE=function(T,F){F||De(T,2,this.length);var te=this[T]|this[T+1]<<8;return 32768&te?4294901760|te:te},W.prototype.readInt16BE=function(T,F){F||De(T,2,this.length);var te=this[T+1]|this[T]<<8;return 32768&te?4294901760|te:te},W.prototype.readInt32LE=function(T,F){return F||De(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},W.prototype.readInt32BE=function(T,F){return F||De(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},W.prototype.readFloatLE=function(T,F){return F||De(T,4,this.length),c.read(this,T,!0,23,4)},W.prototype.readFloatBE=function(T,F){return F||De(T,4,this.length),c.read(this,T,!1,23,4)},W.prototype.readDoubleLE=function(T,F){return F||De(T,8,this.length),c.read(this,T,!0,52,8)},W.prototype.readDoubleBE=function(T,F){return F||De(T,8,this.length),c.read(this,T,!1,52,8)},W.prototype.writeUIntLE=function(T,F,te,Ce){T=+T,F|=0,te|=0,Ce||Te(this,T,F,te,Math.pow(2,8*te)-1,0);var nt=1,Pt=0;for(this[F]=255&T;++Pt<te&&(nt*=256);)this[F+Pt]=T/nt&255;return F+te},W.prototype.writeUIntBE=function(T,F,te,Ce){T=+T,F|=0,te|=0,Ce||Te(this,T,F,te,Math.pow(2,8*te)-1,0);var nt=te-1,Pt=1;for(this[F+nt]=255&T;--nt>=0&&(Pt*=256);)this[F+nt]=T/Pt&255;return F+te},W.prototype.writeUInt8=function(T,F,te){return T=+T,F|=0,te||Te(this,T,F,1,255,0),W.TYPED_ARRAY_SUPPORT||(T=Math.floor(T)),this[F]=255&T,F+1},W.prototype.writeUInt16LE=function(T,F,te){return T=+T,F|=0,te||Te(this,T,F,2,65535,0),W.TYPED_ARRAY_SUPPORT?(this[F]=255&T,this[F+1]=T>>>8):Ze(this,T,F,!0),F+2},W.prototype.writeUInt16BE=function(T,F,te){return T=+T,F|=0,te||Te(this,T,F,2,65535,0),W.TYPED_ARRAY_SUPPORT?(this[F]=T>>>8,this[F+1]=255&T):Ze(this,T,F,!1),F+2},W.prototype.writeUInt32LE=function(T,F,te){return T=+T,F|=0,te||Te(this,T,F,4,4294967295,0),W.TYPED_ARRAY_SUPPORT?(this[F+3]=T>>>24,this[F+2]=T>>>16,this[F+1]=T>>>8,this[F]=255&T):pe(this,T,F,!0),F+4},W.prototype.writeUInt32BE=function(T,F,te){return T=+T,F|=0,te||Te(this,T,F,4,4294967295,0),W.TYPED_ARRAY_SUPPORT?(this[F]=T>>>24,this[F+1]=T>>>16,this[F+2]=T>>>8,this[F+3]=255&T):pe(this,T,F,!1),F+4},W.prototype.writeIntLE=function(T,F,te,Ce){if(T=+T,F|=0,!Ce){var rt=Math.pow(2,8*te-1);Te(this,T,F,te,rt-1,-rt)}var nt=0,Pt=1,Tt=0;for(this[F]=255&T;++nt<te&&(Pt*=256);)T<0&&0===Tt&&0!==this[F+nt-1]&&(Tt=1),this[F+nt]=(T/Pt>>0)-Tt&255;return F+te},W.prototype.writeIntBE=function(T,F,te,Ce){if(T=+T,F|=0,!Ce){var rt=Math.pow(2,8*te-1);Te(this,T,F,te,rt-1,-rt)}var nt=te-1,Pt=1,Tt=0;for(this[F+nt]=255&T;--nt>=0&&(Pt*=256);)T<0&&0===Tt&&0!==this[F+nt+1]&&(Tt=1),this[F+nt]=(T/Pt>>0)-Tt&255;return F+te},W.prototype.writeInt8=function(T,F,te){return T=+T,F|=0,te||Te(this,T,F,1,127,-128),W.TYPED_ARRAY_SUPPORT||(T=Math.floor(T)),T<0&&(T=255+T+1),this[F]=255&T,F+1},W.prototype.writeInt16LE=function(T,F,te){return T=+T,F|=0,te||Te(this,T,F,2,32767,-32768),W.TYPED_ARRAY_SUPPORT?(this[F]=255&T,this[F+1]=T>>>8):Ze(this,T,F,!0),F+2},W.prototype.writeInt16BE=function(T,F,te){return T=+T,F|=0,te||Te(this,T,F,2,32767,-32768),W.TYPED_ARRAY_SUPPORT?(this[F]=T>>>8,this[F+1]=255&T):Ze(this,T,F,!1),F+2},W.prototype.writeInt32LE=function(T,F,te){return T=+T,F|=0,te||Te(this,T,F,4,2147483647,-2147483648),W.TYPED_ARRAY_SUPPORT?(this[F]=255&T,this[F+1]=T>>>8,this[F+2]=T>>>16,this[F+3]=T>>>24):pe(this,T,F,!0),F+4},W.prototype.writeInt32BE=function(T,F,te){return T=+T,F|=0,te||Te(this,T,F,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),W.TYPED_ARRAY_SUPPORT?(this[F]=T>>>24,this[F+1]=T>>>16,this[F+2]=T>>>8,this[F+3]=255&T):pe(this,T,F,!1),F+4},W.prototype.writeFloatLE=function(T,F,te){return gt(this,T,F,!0,te)},W.prototype.writeFloatBE=function(T,F,te){return gt(this,T,F,!1,te)},W.prototype.writeDoubleLE=function(T,F,te){return Yt(this,T,F,!0,te)},W.prototype.writeDoubleBE=function(T,F,te){return Yt(this,T,F,!1,te)},W.prototype.copy=function(T,F,te,Ce){if(te||(te=0),!Ce&&0!==Ce&&(Ce=this.length),F>=T.length&&(F=T.length),F||(F=0),Ce>0&&Ce<te&&(Ce=te),Ce===te||0===T.length||0===this.length)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(te<0||te>=this.length)throw new RangeError("sourceStart out of bounds");if(Ce<0)throw new RangeError("sourceEnd out of bounds");Ce>this.length&&(Ce=this.length),T.length-F<Ce-te&&(Ce=T.length-F+te);var nt,rt=Ce-te;if(this===T&&te<F&&F<Ce)for(nt=rt-1;nt>=0;--nt)T[nt+F]=this[nt+te];else if(rt<1e3||!W.TYPED_ARRAY_SUPPORT)for(nt=0;nt<rt;++nt)T[nt+F]=this[nt+te];else Uint8Array.prototype.set.call(T,this.subarray(te,te+rt),F);return rt},W.prototype.fill=function(T,F,te,Ce){if("string"==typeof T){if("string"==typeof F?(Ce=F,F=0,te=this.length):"string"==typeof te&&(Ce=te,te=this.length),1===T.length){var rt=T.charCodeAt(0);rt<256&&(T=rt)}if(void 0!==Ce&&"string"!=typeof Ce)throw new TypeError("encoding must be a string");if("string"==typeof Ce&&!W.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce)}else"number"==typeof T&&(T&=255);if(F<0||this.length<F||this.length<te)throw new RangeError("Out of range index");if(te<=F)return this;var nt;if(F>>>=0,te=void 0===te?this.length:te>>>0,T||(T=0),"number"==typeof T)for(nt=F;nt<te;++nt)this[nt]=T;else{var Pt=W.isBuffer(T)?T:lt(new W(T,Ce).toString()),Tt=Pt.length;for(nt=0;nt<te-F;++nt)this[nt+F]=Pt[nt%Tt]}return this};var Wt=/[^+\/0-9A-Za-z-_]/g;function dt(ve){return ve<16?"0"+ve.toString(16):ve.toString(16)}function lt(ve,T){T=T||1/0;for(var F,te=ve.length,Ce=null,rt=[],nt=0;nt<te;++nt){if((F=ve.charCodeAt(nt))>55295&&F<57344){if(!Ce){if(F>56319){(T-=3)>-1&&rt.push(239,191,189);continue}if(nt+1===te){(T-=3)>-1&&rt.push(239,191,189);continue}Ce=F;continue}if(F<56320){(T-=3)>-1&&rt.push(239,191,189),Ce=F;continue}F=65536+(Ce-55296<<10|F-56320)}else Ce&&(T-=3)>-1&&rt.push(239,191,189);if(Ce=null,F<128){if((T-=1)<0)break;rt.push(F)}else if(F<2048){if((T-=2)<0)break;rt.push(F>>6|192,63&F|128)}else if(F<65536){if((T-=3)<0)break;rt.push(F>>12|224,F>>6&63|128,63&F|128)}else{if(!(F<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;rt.push(F>>18|240,F>>12&63|128,F>>6&63|128,63&F|128)}}return rt}function jt(ve){return H.toByteArray(function Tn(ve){if((ve=function gn(ve){return ve.trim?ve.trim():ve.replace(/^\s+|\s+$/g,"")}(ve).replace(Wt,"")).length<2)return"";for(;ve.length%4!=0;)ve+="=";return ve}(ve))}function yn(ve,T,F,te){for(var Ce=0;Ce<te&&!(Ce+F>=T.length||Ce>=ve.length);++Ce)T[Ce+F]=ve[Ce];return Ce}},3555:(Mt,Ae)=>{"use strict";Ae.Q=function c(re,se){if("string"!=typeof re)throw new TypeError("argument str must be a string");for(var W={},ae=se||{},X=re.split(";"),ne=ae.decode||P,ce=0;ce<X.length;ce++){var Me=X[ce],J=Me.indexOf("=");if(!(J<0)){var ee=Me.substring(0,J).trim();if(null==W[ee]){var Ie=Me.substring(J+1,Me.length).trim();'"'===Ie[0]&&(Ie=Ie.slice(1,-1)),W[ee]=de(Ie,ne)}}}return W},Ae.q=function ue(re,se,W){var ae=W||{},X=ae.encode||v;if("function"!=typeof X)throw new TypeError("option encode is invalid");if(!H.test(re))throw new TypeError("argument name is invalid");var ne=X(se);if(ne&&!H.test(ne))throw new TypeError("argument val is invalid");var ce=re+"="+ne;if(null!=ae.maxAge){var Me=ae.maxAge-0;if(isNaN(Me)||!isFinite(Me))throw new TypeError("option maxAge is invalid");ce+="; Max-Age="+Math.floor(Me)}if(ae.domain){if(!H.test(ae.domain))throw new TypeError("option domain is invalid");ce+="; Domain="+ae.domain}if(ae.path){if(!H.test(ae.path))throw new TypeError("option path is invalid");ce+="; Path="+ae.path}if(ae.expires){if("function"!=typeof ae.expires.toUTCString)throw new TypeError("option expires is invalid");ce+="; Expires="+ae.expires.toUTCString()}if(ae.httpOnly&&(ce+="; HttpOnly"),ae.secure&&(ce+="; Secure"),ae.sameSite)switch("string"==typeof ae.sameSite?ae.sameSite.toLowerCase():ae.sameSite){case!0:ce+="; SameSite=Strict";break;case"lax":ce+="; SameSite=Lax";break;case"strict":ce+="; SameSite=Strict";break;case"none":ce+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return ce};var P=decodeURIComponent,v=encodeURIComponent,H=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function de(re,se){try{return se(re)}catch{return re}}},8461:(Mt,Ae)=>{Ae.read=function(P,v,H,c,ue){var de,re,se=8*ue-c-1,W=(1<<se)-1,ae=W>>1,X=-7,ne=H?ue-1:0,ce=H?-1:1,Me=P[v+ne];for(ne+=ce,de=Me&(1<<-X)-1,Me>>=-X,X+=se;X>0;de=256*de+P[v+ne],ne+=ce,X-=8);for(re=de&(1<<-X)-1,de>>=-X,X+=c;X>0;re=256*re+P[v+ne],ne+=ce,X-=8);if(0===de)de=1-ae;else{if(de===W)return re?NaN:1/0*(Me?-1:1);re+=Math.pow(2,c),de-=ae}return(Me?-1:1)*re*Math.pow(2,de-c)},Ae.write=function(P,v,H,c,ue,de){var re,se,W,ae=8*de-ue-1,X=(1<<ae)-1,ne=X>>1,ce=23===ue?Math.pow(2,-24)-Math.pow(2,-77):0,Me=c?0:de-1,J=c?1:-1,ee=v<0||0===v&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(se=isNaN(v)?1:0,re=X):(re=Math.floor(Math.log(v)/Math.LN2),v*(W=Math.pow(2,-re))<1&&(re--,W*=2),(v+=re+ne>=1?ce/W:ce*Math.pow(2,1-ne))*W>=2&&(re++,W/=2),re+ne>=X?(se=0,re=X):re+ne>=1?(se=(v*W-1)*Math.pow(2,ue),re+=ne):(se=v*Math.pow(2,ne-1)*Math.pow(2,ue),re=0));ue>=8;P[H+Me]=255&se,Me+=J,se/=256,ue-=8);for(re=re<<ue|se,ae+=ue;ae>0;P[H+Me]=255&re,Me+=J,re/=256,ae-=8);P[H+Me-J]|=128*ee}},6425:Mt=>{var Ae={}.toString;Mt.exports=Array.isArray||function(P){return"[object Array]"==Ae.call(P)}},3024:(Mt,Ae,P)=>{Mt.exports=self.fetch||(self.fetch=P(5557).default||P(5557))},7355:(Mt,Ae,P)=>{var v,H,c;void 0!==(H="function"==typeof(v=c=function(){function c(){for(var re=0,se={};re<arguments.length;re++){var W=arguments[re];for(var ae in W)se[ae]=W[ae]}return se}function ue(re){return re.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function de(re){function se(){}function W(X,ne,ce){if(!(typeof document>"u")){"number"==typeof(ce=c({path:"/"},se.defaults,ce)).expires&&(ce.expires=new Date(1*new Date+864e5*ce.expires)),ce.expires=ce.expires?ce.expires.toUTCString():"";try{var Me=JSON.stringify(ne);/^[\{\[]/.test(Me)&&(ne=Me)}catch{}ne=re.write?re.write(ne,X):encodeURIComponent(String(ne)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),X=encodeURIComponent(String(X)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var J="";for(var ee in ce)ce[ee]&&(J+="; "+ee,!0!==ce[ee]&&(J+="="+ce[ee].split(";")[0]));return document.cookie=X+"="+ne+J}}function ae(X,ne){if(!(typeof document>"u")){for(var ce={},Me=document.cookie?document.cookie.split("; "):[],J=0;J<Me.length;J++){var ee=Me[J].split("="),Ie=ee.slice(1).join("=");!ne&&'"'===Ie.charAt(0)&&(Ie=Ie.slice(1,-1));try{var xe=ue(ee[0]);if(Ie=(re.read||re)(Ie,xe)||ue(Ie),ne)try{Ie=JSON.parse(Ie)}catch{}if(ce[xe]=Ie,X===xe)break}catch{}}return X?ce[X]:ce}}return se.set=W,se.get=function(X){return ae(X,!1)},se.getJSON=function(X){return ae(X,!0)},se.remove=function(X,ne){W(X,"",c(ne,{expires:-1}))},se.defaults={},se.withConverter=de,se}(function(){})})?v.call(Ae,P,Ae,Mt):v)&&(Mt.exports=H),Mt.exports=c()},3438:(Mt,Ae,P)=>{"use strict";P.d(Ae,{RV:()=>J});var v=P(4650),H=P(7340),c=P(6895);(0,H.X$)("slide",[(0,H.eR)("void => left",[(0,H.oB)({opacity:.6,transform:"translate3d(-100%,0,0)"}),(0,H.jt)(".2s cubic-bezier(0.215, 0.610, 0.355, 1)",(0,H.oB)({opacity:1,transform:"translateZ(0)"}))]),(0,H.eR)("void => right",[(0,H.oB)({opacity:.6,transform:"translate3d(100%,0,0)"}),(0,H.jt)(".2s cubic-bezier(0.215, 0.610, 0.355, 1)",(0,H.oB)({opacity:1,transform:"translateZ(0)"}))]),(0,H.eR)("left => void",[(0,H.jt)(".2s cubic-bezier(0.165, 0.84, 0.44, 1)",(0,H.oB)({opacity:0,transform:"translate3d(-50%,0,0)"}))]),(0,H.eR)("right => void",[(0,H.jt)(".2s cubic-bezier(0.165, 0.84, 0.44, 1)",(0,H.oB)({opacity:0,transform:"translate3d(50%,0,0)"}))])]);let J=(()=>{class ee{static forRoot(){return{ngModule:ee,providers:[]}}}return ee.\u0275fac=function(xe){return new(xe||ee)},ee.\u0275mod=v.oAB({type:ee}),ee.\u0275inj=v.cJS({imports:[c.ez]}),ee})()},516:Mt=>{"use strict";function Ae(P,v){return Object.prototype.hasOwnProperty.call(P,v)}Mt.exports=function(P,v,H,c){H=H||"=";var ue={};if("string"!=typeof P||0===P.length)return ue;var de=/\+/g;P=P.split(v=v||"&");var re=1e3;c&&"number"==typeof c.maxKeys&&(re=c.maxKeys);var se=P.length;re>0&&se>re&&(se=re);for(var W=0;W<se;++W){var ne,ce,Me,J,ae=P[W].replace(de,"%20"),X=ae.indexOf(H);X>=0?(ne=ae.substr(0,X),ce=ae.substr(X+1)):(ne=ae,ce=""),Me=decodeURIComponent(ne),J=decodeURIComponent(ce),Ae(ue,Me)?Array.isArray(ue[Me])?ue[Me].push(J):ue[Me]=[ue[Me],J]:ue[Me]=J}return ue}},5776:Mt=>{"use strict";var Ae=function(P){switch(typeof P){case"string":return P;case"boolean":return P?"true":"false";case"number":return isFinite(P)?P:"";default:return""}};Mt.exports=function(P,v,H,c){return v=v||"&",H=H||"=",null===P&&(P=void 0),"object"==typeof P?Object.keys(P).map(function(ue){var de=encodeURIComponent(Ae(ue))+H;return Array.isArray(P[ue])?P[ue].map(function(re){return de+encodeURIComponent(Ae(re))}).join(v):de+encodeURIComponent(Ae(P[ue]))}).join(v):c?encodeURIComponent(Ae(c))+H+encodeURIComponent(Ae(P)):""}},7137:(Mt,Ae,P)=>{"use strict";Ae.decode=Ae.parse=P(516),Ae.encode=Ae.stringify=P(5776)},1135:(Mt,Ae,P)=>{"use strict";P.d(Ae,{X:()=>H});var v=P(7579);class H extends v.x{constructor(ue){super(),this._value=ue}get value(){return this.getValue()}_subscribe(ue){const de=super._subscribe(ue);return!de.closed&&ue.next(this._value),de}getValue(){const{hasError:ue,thrownError:de,_value:re}=this;if(ue)throw de;return this._throwIfClosed(),re}next(ue){super.next(this._value=ue)}}},9751:(Mt,Ae,P)=>{"use strict";P.d(Ae,{y:()=>W});var v=P(930),H=P(727),c=P(8822),ue=P(9635),de=P(2416),re=P(576),se=P(2806);let W=(()=>{class ce{constructor(J){J&&(this._subscribe=J)}lift(J){const ee=new ce;return ee.source=this,ee.operator=J,ee}subscribe(J,ee,Ie){const xe=function ne(ce){return ce&&ce instanceof v.Lv||function X(ce){return ce&&(0,re.m)(ce.next)&&(0,re.m)(ce.error)&&(0,re.m)(ce.complete)}(ce)&&(0,H.Nn)(ce)}(J)?J:new v.Hp(J,ee,Ie);return(0,se.x)(()=>{const{operator:Fe,source:Ke}=this;xe.add(Fe?Fe.call(xe,Ke):Ke?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(J){try{return this._subscribe(J)}catch(ee){J.error(ee)}}forEach(J,ee){return new(ee=ae(ee))((Ie,xe)=>{const Fe=new v.Hp({next:Ke=>{try{J(Ke)}catch(He){xe(He),Fe.unsubscribe()}},error:xe,complete:Ie});this.subscribe(Fe)})}_subscribe(J){var ee;return null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(J)}[c.L](){return this}pipe(...J){return(0,ue.U)(J)(this)}toPromise(J){return new(J=ae(J))((ee,Ie)=>{let xe;this.subscribe(Fe=>xe=Fe,Fe=>Ie(Fe),()=>ee(xe))})}}return ce.create=Me=>new ce(Me),ce})();function ae(ce){var Me;return null!==(Me=ce??de.v.Promise)&&void 0!==Me?Me:Promise}},4707:(Mt,Ae,P)=>{"use strict";P.d(Ae,{t:()=>c});var v=P(7579),H=P(6063);class c extends v.x{constructor(de=1/0,re=1/0,se=H.l){super(),this._bufferSize=de,this._windowTime=re,this._timestampProvider=se,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=re===1/0,this._bufferSize=Math.max(1,de),this._windowTime=Math.max(1,re)}next(de){const{isStopped:re,_buffer:se,_infiniteTimeWindow:W,_timestampProvider:ae,_windowTime:X}=this;re||(se.push(de),!W&&se.push(ae.now()+X)),this._trimBuffer(),super.next(de)}_subscribe(de){this._throwIfClosed(),this._trimBuffer();const re=this._innerSubscribe(de),{_infiniteTimeWindow:se,_buffer:W}=this,ae=W.slice();for(let X=0;X<ae.length&&!de.closed;X+=se?1:2)de.next(ae[X]);return this._checkFinalizedStatuses(de),re}_trimBuffer(){const{_bufferSize:de,_timestampProvider:re,_buffer:se,_infiniteTimeWindow:W}=this,ae=(W?1:2)*de;if(de<1/0&&ae<se.length&&se.splice(0,se.length-ae),!W){const X=re.now();let ne=0;for(let ce=1;ce<se.length&&se[ce]<=X;ce+=2)ne=ce;ne&&se.splice(0,ne+1)}}}},7579:(Mt,Ae,P)=>{"use strict";P.d(Ae,{x:()=>se});var v=P(9751),H=P(727);const ue=(0,P(3888).d)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=P(8737),re=P(2806);let se=(()=>{class ae extends v.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const ce=new W(this,this);return ce.operator=ne,ce}_throwIfClosed(){if(this.closed)throw new ue}next(ne){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(ne)}})}error(ne){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:ce}=this;for(;ce.length;)ce.shift().error(ne)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:ce,isStopped:Me,observers:J}=this;return ce||Me?H.Lc:(this.currentObservers=null,J.push(ne),new H.w0(()=>{this.currentObservers=null,(0,de.P)(J,ne)}))}_checkFinalizedStatuses(ne){const{hasError:ce,thrownError:Me,isStopped:J}=this;ce?ne.error(Me):J&&ne.complete()}asObservable(){const ne=new v.y;return ne.source=this,ne}}return ae.create=(X,ne)=>new W(X,ne),ae})();class W extends se{constructor(X,ne){super(),this.destination=X,this.source=ne}next(X){var ne,ce;null===(ce=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===ce||ce.call(ne,X)}error(X){var ne,ce;null===(ce=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===ce||ce.call(ne,X)}complete(){var X,ne;null===(ne=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===ne||ne.call(X)}_subscribe(X){var ne,ce;return null!==(ce=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(X))&&void 0!==ce?ce:H.Lc}}},930:(Mt,Ae,P)=>{"use strict";P.d(Ae,{Hp:()=>Ie,Lv:()=>ce});var v=P(576),H=P(727),c=P(2416),ue=P(7849),de=P(5032);const re=ae("C",void 0,void 0);function ae(Ye,Le,mt){return{kind:Ye,value:Le,error:mt}}var X=P(3410),ne=P(2806);class ce extends H.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,H.Nn)(Le)&&Le.add(this)):this.destination=He}static create(Le,mt,Ue){return new Ie(Le,mt,Ue)}next(Le){this.isStopped?Ke(function W(Ye){return ae("N",Ye,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?Ke(function se(Ye){return ae("E",void 0,Ye)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?Ke(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Me=Function.prototype.bind;function J(Ye,Le){return Me.call(Ye,Le)}class ee{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:mt}=this;if(mt.next)try{mt.next(Le)}catch(Ue){xe(Ue)}}error(Le){const{partialObserver:mt}=this;if(mt.error)try{mt.error(Le)}catch(Ue){xe(Ue)}else xe(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(mt){xe(mt)}}}class Ie extends ce{constructor(Le,mt,Ue){let Be;if(super(),(0,v.m)(Le)||!Le)Be={next:Le??void 0,error:mt??void 0,complete:Ue??void 0};else{let ge;this&&c.v.useDeprecatedNextContext?(ge=Object.create(Le),ge.unsubscribe=()=>this.unsubscribe(),Be={next:Le.next&&J(Le.next,ge),error:Le.error&&J(Le.error,ge),complete:Le.complete&&J(Le.complete,ge)}):Be=Le}this.destination=new ee(Be)}}function xe(Ye){c.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(Ye):(0,ue.h)(Ye)}function Ke(Ye,Le){const{onStoppedNotification:mt}=c.v;mt&&X.z.setTimeout(()=>mt(Ye,Le))}const He={closed:!0,next:de.Z,error:function Fe(Ye){throw Ye},complete:de.Z}},727:(Mt,Ae,P)=>{"use strict";P.d(Ae,{Lc:()=>re,w0:()=>de,Nn:()=>se});var v=P(576);const c=(0,P(3888).d)(ae=>function(ne){ae(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((ce,Me)=>`${Me+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var ue=P(8737);class de{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const J of ne)J.remove(this);else ne.remove(this);const{initialTeardown:ce}=this;if((0,v.m)(ce))try{ce()}catch(J){X=J instanceof c?J.errors:[J]}const{_finalizers:Me}=this;if(Me){this._finalizers=null;for(const J of Me)try{W(J)}catch(ee){X=X??[],ee instanceof c?X=[...X,...ee.errors]:X.push(ee)}}if(X)throw new c(X)}}add(X){var ne;if(X&&X!==this)if(this.closed)W(X);else{if(X instanceof de){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(X)}}_hasParent(X){const{_parentage:ne}=this;return ne===X||Array.isArray(ne)&&ne.includes(X)}_addParent(X){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(X),ne):ne?[ne,X]:X}_removeParent(X){const{_parentage:ne}=this;ne===X?this._parentage=null:Array.isArray(ne)&&(0,ue.P)(ne,X)}remove(X){const{_finalizers:ne}=this;ne&&(0,ue.P)(ne,X),X instanceof de&&X._removeParent(this)}}de.EMPTY=(()=>{const ae=new de;return ae.closed=!0,ae})();const re=de.EMPTY;function se(ae){return ae instanceof de||ae&&"closed"in ae&&(0,v.m)(ae.remove)&&(0,v.m)(ae.add)&&(0,v.m)(ae.unsubscribe)}function W(ae){(0,v.m)(ae)?ae():ae.unsubscribe()}},2416:(Mt,Ae,P)=>{"use strict";P.d(Ae,{v:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Mt,Ae,P)=>{"use strict";P.d(Ae,{a:()=>X});var v=P(9751),H=P(4742),c=P(457),ue=P(4671),de=P(3268),re=P(3269),se=P(1810),W=P(5403),ae=P(9672);function X(...Me){const J=(0,re.yG)(Me),ee=(0,re.jO)(Me),{args:Ie,keys:xe}=(0,H.D)(Me);if(0===Ie.length)return(0,c.D)([],J);const Fe=new v.y(function ne(Me,J,ee=ue.y){return Ie=>{ce(J,()=>{const{length:xe}=Me,Fe=new Array(xe);let Ke=xe,He=xe;for(let Ye=0;Ye<xe;Ye++)ce(J,()=>{const Le=(0,c.D)(Me[Ye],J);let mt=!1;Le.subscribe((0,W.x)(Ie,Ue=>{Fe[Ye]=Ue,mt||(mt=!0,He--),He||Ie.next(ee(Fe.slice()))},()=>{--Ke||Ie.complete()}))},Ie)},Ie)}}(Ie,J,xe?Ke=>(0,se.n)(xe,Ke):ue.y));return ee?Fe.pipe((0,de.Z)(ee)):Fe}function ce(Me,J,ee){Me?(0,ae.f)(ee,Me,J):J()}},7272:(Mt,Ae,P)=>{"use strict";P.d(Ae,{z:()=>de});var v=P(8189),c=P(3269),ue=P(457);function de(...re){return function H(){return(0,v.J)(1)}()((0,ue.D)(re,(0,c.yG)(re)))}},9770:(Mt,Ae,P)=>{"use strict";P.d(Ae,{P:()=>c});var v=P(9751),H=P(8421);function c(ue){return new v.y(de=>{(0,H.Xf)(ue()).subscribe(de)})}},515:(Mt,Ae,P)=>{"use strict";P.d(Ae,{E:()=>H});const H=new(P(9751).y)(de=>de.complete())},4128:(Mt,Ae,P)=>{"use strict";P.d(Ae,{D:()=>W});var v=P(9751),H=P(4742),c=P(8421),ue=P(3269),de=P(5403),re=P(3268),se=P(1810);function W(...ae){const X=(0,ue.jO)(ae),{args:ne,keys:ce}=(0,H.D)(ae),Me=new v.y(J=>{const{length:ee}=ne;if(!ee)return void J.complete();const Ie=new Array(ee);let xe=ee,Fe=ee;for(let Ke=0;Ke<ee;Ke++){let He=!1;(0,c.Xf)(ne[Ke]).subscribe((0,de.x)(J,Ye=>{He||(He=!0,Fe--),Ie[Ke]=Ye},()=>xe--,void 0,()=>{(!xe||!He)&&(Fe||J.next(ce?(0,se.n)(ce,Ie):Ie),J.complete())}))}});return X?Me.pipe((0,re.Z)(X)):Me}},457:(Mt,Ae,P)=>{"use strict";P.d(Ae,{D:()=>mt});var v=P(8421),H=P(5363),c=P(4482);function ue(Ue,Be=0){return(0,c.e)((ge,et)=>{et.add(Ue.schedule(()=>ge.subscribe(et),Be))})}var se=P(9751),ae=P(2202),X=P(576),ne=P(9672);function Me(Ue,Be){if(!Ue)throw new Error("Iterable cannot be null");return new se.y(ge=>{(0,ne.f)(ge,Be,()=>{const et=Ue[Symbol.asyncIterator]();(0,ne.f)(ge,Be,()=>{et.next().then(_t=>{_t.done?ge.complete():ge.next(_t.value)})},0,!0)})})}var J=P(3670),ee=P(8239),Ie=P(1144),xe=P(6495),Fe=P(2206),Ke=P(4532),He=P(3260);function mt(Ue,Be){return Be?function Le(Ue,Be){if(null!=Ue){if((0,J.c)(Ue))return function de(Ue,Be){return(0,v.Xf)(Ue).pipe(ue(Be),(0,H.Q)(Be))}(Ue,Be);if((0,Ie.z)(Ue))return function W(Ue,Be){return new se.y(ge=>{let et=0;return Be.schedule(function(){et===Ue.length?ge.complete():(ge.next(Ue[et++]),ge.closed||this.schedule())})})}(Ue,Be);if((0,ee.t)(Ue))return function re(Ue,Be){return(0,v.Xf)(Ue).pipe(ue(Be),(0,H.Q)(Be))}(Ue,Be);if((0,Fe.D)(Ue))return Me(Ue,Be);if((0,xe.T)(Ue))return function ce(Ue,Be){return new se.y(ge=>{let et;return(0,ne.f)(ge,Be,()=>{et=Ue[ae.h](),(0,ne.f)(ge,Be,()=>{let _t,Et;try{({value:_t,done:Et}=et.next())}catch(ft){return void ge.error(ft)}Et?ge.complete():ge.next(_t)},0,!0)}),()=>(0,X.m)(et?.return)&&et.return()})}(Ue,Be);if((0,He.L)(Ue))return function Ye(Ue,Be){return Me((0,He.Q)(Ue),Be)}(Ue,Be)}throw(0,Ke.z)(Ue)}(Ue,Be):(0,v.Xf)(Ue)}},4968:(Mt,Ae,P)=>{"use strict";P.d(Ae,{R:()=>X});var v=P(8421),H=P(9751),c=P(5577),ue=P(1144),de=P(576),re=P(3268);const se=["addListener","removeListener"],W=["addEventListener","removeEventListener"],ae=["on","off"];function X(ee,Ie,xe,Fe){if((0,de.m)(xe)&&(Fe=xe,xe=void 0),Fe)return X(ee,Ie,xe).pipe((0,re.Z)(Fe));const[Ke,He]=function J(ee){return(0,de.m)(ee.addEventListener)&&(0,de.m)(ee.removeEventListener)}(ee)?W.map(Ye=>Le=>ee[Ye](Ie,Le,xe)):function ce(ee){return(0,de.m)(ee.addListener)&&(0,de.m)(ee.removeListener)}(ee)?se.map(ne(ee,Ie)):function Me(ee){return(0,de.m)(ee.on)&&(0,de.m)(ee.off)}(ee)?ae.map(ne(ee,Ie)):[];if(!Ke&&(0,ue.z)(ee))return(0,c.z)(Ye=>X(Ye,Ie,xe))((0,v.Xf)(ee));if(!Ke)throw new TypeError("Invalid event target");return new H.y(Ye=>{const Le=(...mt)=>Ye.next(1<mt.length?mt:mt[0]);return Ke(Le),()=>He(Le)})}function ne(ee,Ie){return xe=>Fe=>ee[xe](Ie,Fe)}},8421:(Mt,Ae,P)=>{"use strict";P.d(Ae,{Xf:()=>Me});var v=P(7582),H=P(1144),c=P(8239),ue=P(9751),de=P(3670),re=P(2206),se=P(4532),W=P(6495),ae=P(3260),X=P(576),ne=P(7849),ce=P(8822);function Me(Ye){if(Ye instanceof ue.y)return Ye;if(null!=Ye){if((0,de.c)(Ye))return function J(Ye){return new ue.y(Le=>{const mt=Ye[ce.L]();if((0,X.m)(mt.subscribe))return mt.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ye);if((0,H.z)(Ye))return function ee(Ye){return new ue.y(Le=>{for(let mt=0;mt<Ye.length&&!Le.closed;mt++)Le.next(Ye[mt]);Le.complete()})}(Ye);if((0,c.t)(Ye))return function Ie(Ye){return new ue.y(Le=>{Ye.then(mt=>{Le.closed||(Le.next(mt),Le.complete())},mt=>Le.error(mt)).then(null,ne.h)})}(Ye);if((0,re.D)(Ye))return Fe(Ye);if((0,W.T)(Ye))return function xe(Ye){return new ue.y(Le=>{for(const mt of Ye)if(Le.next(mt),Le.closed)return;Le.complete()})}(Ye);if((0,ae.L)(Ye))return function Ke(Ye){return Fe((0,ae.Q)(Ye))}(Ye)}throw(0,se.z)(Ye)}function Fe(Ye){return new ue.y(Le=>{(function He(Ye,Le){var mt,Ue,Be,ge;return(0,v.mG)(this,void 0,void 0,function*(){try{for(mt=(0,v.KL)(Ye);!(Ue=yield mt.next()).done;)if(Le.next(Ue.value),Le.closed)return}catch(et){Be={error:et}}finally{try{Ue&&!Ue.done&&(ge=mt.return)&&(yield ge.call(mt))}finally{if(Be)throw Be.error}}Le.complete()})})(Ye,Le).catch(mt=>Le.error(mt))})}},6451:(Mt,Ae,P)=>{"use strict";P.d(Ae,{T:()=>re});var v=P(8189),H=P(8421),c=P(515),ue=P(3269),de=P(457);function re(...se){const W=(0,ue.yG)(se),ae=(0,ue._6)(se,1/0),X=se;return X.length?1===X.length?(0,H.Xf)(X[0]):(0,v.J)(ae)((0,de.D)(X,W)):c.E}},9646:(Mt,Ae,P)=>{"use strict";P.d(Ae,{of:()=>c});var v=P(3269),H=P(457);function c(...ue){const de=(0,v.yG)(ue);return(0,H.D)(ue,de)}},2843:(Mt,Ae,P)=>{"use strict";P.d(Ae,{_:()=>c});var v=P(9751),H=P(576);function c(ue,de){const re=(0,H.m)(ue)?ue:()=>ue,se=W=>W.error(re());return new v.y(de?W=>de.schedule(se,0,W):se)}},5963:(Mt,Ae,P)=>{"use strict";P.d(Ae,{H:()=>de});var v=P(9751),H=P(4986),c=P(3532);function de(re=0,se,W=H.P){let ae=-1;return null!=se&&((0,c.K)(se)?W=se:ae=se),new v.y(X=>{let ne=function ue(re){return re instanceof Date&&!isNaN(re)}(re)?+re-W.now():re;ne<0&&(ne=0);let ce=0;return W.schedule(function(){X.closed||(X.next(ce++),0<=ae?this.schedule(void 0,ae):X.complete())},ne)})}},5403:(Mt,Ae,P)=>{"use strict";P.d(Ae,{x:()=>H});var v=P(930);function H(ue,de,re,se,W){return new c(ue,de,re,se,W)}class c extends v.Lv{constructor(de,re,se,W,ae,X){super(de),this.onFinalize=ae,this.shouldUnsubscribe=X,this._next=re?function(ne){try{re(ne)}catch(ce){de.error(ce)}}:super._next,this._error=W?function(ne){try{W(ne)}catch(ce){de.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(ne){de.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},262:(Mt,Ae,P)=>{"use strict";P.d(Ae,{K:()=>ue});var v=P(8421),H=P(5403),c=P(4482);function ue(de){return(0,c.e)((re,se)=>{let X,W=null,ae=!1;W=re.subscribe((0,H.x)(se,void 0,void 0,ne=>{X=(0,v.Xf)(de(ne,ue(de)(re))),W?(W.unsubscribe(),W=null,X.subscribe(se)):ae=!0})),ae&&(W.unsubscribe(),W=null,X.subscribe(se))})}},4351:(Mt,Ae,P)=>{"use strict";P.d(Ae,{b:()=>c});var v=P(5577),H=P(576);function c(ue,de){return(0,H.m)(de)?(0,v.z)(ue,de,1):(0,v.z)(ue,1)}},6590:(Mt,Ae,P)=>{"use strict";P.d(Ae,{d:()=>c});var v=P(4482),H=P(5403);function c(ue){return(0,v.e)((de,re)=>{let se=!1;de.subscribe((0,H.x)(re,W=>{se=!0,re.next(W)},()=>{se||re.next(ue),re.complete()}))})}},1005:(Mt,Ae,P)=>{"use strict";P.d(Ae,{g:()=>ce});var v=P(4986),H=P(7272),c=P(5698),ue=P(4482),de=P(5403),re=P(5032),W=P(9718),ae=P(5577);function X(Me,J){return J?ee=>(0,H.z)(J.pipe((0,c.q)(1),function se(){return(0,ue.e)((Me,J)=>{Me.subscribe((0,de.x)(J,re.Z))})}()),ee.pipe(X(Me))):(0,ae.z)((ee,Ie)=>Me(ee,Ie).pipe((0,c.q)(1),(0,W.h)(ee)))}var ne=P(5963);function ce(Me,J=v.z){const ee=(0,ne.H)(Me,J);return X(()=>ee)}},9300:(Mt,Ae,P)=>{"use strict";P.d(Ae,{h:()=>c});var v=P(4482),H=P(5403);function c(ue,de){return(0,v.e)((re,se)=>{let W=0;re.subscribe((0,H.x)(se,ae=>ue.call(de,ae,W++)&&se.next(ae)))})}},590:(Mt,Ae,P)=>{"use strict";P.d(Ae,{P:()=>se});var v=P(6805),H=P(9300),c=P(5698),ue=P(6590),de=P(8068),re=P(4671);function se(W,ae){const X=arguments.length>=2;return ne=>ne.pipe(W?(0,H.h)((ce,Me)=>W(ce,Me,ne)):re.y,(0,c.q)(1),X?(0,ue.d)(ae):(0,de.T)(()=>new v.K))}},4004:(Mt,Ae,P)=>{"use strict";P.d(Ae,{U:()=>c});var v=P(4482),H=P(5403);function c(ue,de){return(0,v.e)((re,se)=>{let W=0;re.subscribe((0,H.x)(se,ae=>{se.next(ue.call(de,ae,W++))}))})}},9718:(Mt,Ae,P)=>{"use strict";P.d(Ae,{h:()=>H});var v=P(4004);function H(c){return(0,v.U)(()=>c)}},8189:(Mt,Ae,P)=>{"use strict";P.d(Ae,{J:()=>c});var v=P(5577),H=P(4671);function c(ue=1/0){return(0,v.z)(H.y,ue)}},5577:(Mt,Ae,P)=>{"use strict";P.d(Ae,{z:()=>W});var v=P(4004),H=P(8421),c=P(4482),ue=P(9672),de=P(5403),se=P(576);function W(ae,X,ne=1/0){return(0,se.m)(X)?W((ce,Me)=>(0,v.U)((J,ee)=>X(ce,J,Me,ee))((0,H.Xf)(ae(ce,Me))),ne):("number"==typeof X&&(ne=X),(0,c.e)((ce,Me)=>function re(ae,X,ne,ce,Me,J,ee,Ie){const xe=[];let Fe=0,Ke=0,He=!1;const Ye=()=>{He&&!xe.length&&!Fe&&X.complete()},Le=Ue=>Fe<ce?mt(Ue):xe.push(Ue),mt=Ue=>{J&&X.next(Ue),Fe++;let Be=!1;(0,H.Xf)(ne(Ue,Ke++)).subscribe((0,de.x)(X,ge=>{Me?.(ge),J?Le(ge):X.next(ge)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Fe--;xe.length&&Fe<ce;){const ge=xe.shift();ee?(0,ue.f)(X,ee,()=>mt(ge)):mt(ge)}Ye()}catch(ge){X.error(ge)}}))};return ae.subscribe((0,de.x)(X,Le,()=>{He=!0,Ye()})),()=>{Ie?.()}}(ce,Me,ae,ne)))}},5363:(Mt,Ae,P)=>{"use strict";P.d(Ae,{Q:()=>ue});var v=P(9672),H=P(4482),c=P(5403);function ue(de,re=0){return(0,H.e)((se,W)=>{se.subscribe((0,c.x)(W,ae=>(0,v.f)(W,de,()=>W.next(ae),re),()=>(0,v.f)(W,de,()=>W.complete(),re),ae=>(0,v.f)(W,de,()=>W.error(ae),re)))})}},5026:(Mt,Ae,P)=>{"use strict";P.d(Ae,{R:()=>ue});var v=P(4482),H=P(5403);function ue(de,re){return(0,v.e)(function c(de,re,se,W,ae){return(X,ne)=>{let ce=se,Me=re,J=0;X.subscribe((0,H.x)(ne,ee=>{const Ie=J++;Me=ce?de(Me,ee,Ie):(ce=!0,ee),W&&ne.next(Me)},ae&&(()=>{ce&&ne.next(Me),ne.complete()})))}}(de,re,arguments.length>=2,!0))}},3099:(Mt,Ae,P)=>{"use strict";P.d(Ae,{B:()=>de});var v=P(8421),H=P(7579),c=P(930),ue=P(4482);function de(se={}){const{connector:W=(()=>new H.x),resetOnError:ae=!0,resetOnComplete:X=!0,resetOnRefCountZero:ne=!0}=se;return ce=>{let Me,J,ee,Ie=0,xe=!1,Fe=!1;const Ke=()=>{J?.unsubscribe(),J=void 0},He=()=>{Ke(),Me=ee=void 0,xe=Fe=!1},Ye=()=>{const Le=Me;He(),Le?.unsubscribe()};return(0,ue.e)((Le,mt)=>{Ie++,!Fe&&!xe&&Ke();const Ue=ee=ee??W();mt.add(()=>{Ie--,0===Ie&&!Fe&&!xe&&(J=re(Ye,ne))}),Ue.subscribe(mt),!Me&&Ie>0&&(Me=new c.Hp({next:Be=>Ue.next(Be),error:Be=>{Fe=!0,Ke(),J=re(He,ae,Be),Ue.error(Be)},complete:()=>{xe=!0,Ke(),J=re(He,X),Ue.complete()}}),(0,v.Xf)(Le).subscribe(Me))})(ce)}}function re(se,W,...ae){if(!0===W)return void se();if(!1===W)return;const X=new c.Hp({next:()=>{X.unsubscribe(),se()}});return W(...ae).subscribe(X)}},4782:(Mt,Ae,P)=>{"use strict";P.d(Ae,{d:()=>c});var v=P(4707),H=P(3099);function c(ue,de,re){let se,W=!1;return ue&&"object"==typeof ue?({bufferSize:se=1/0,windowTime:de=1/0,refCount:W=!1,scheduler:re}=ue):se=ue??1/0,(0,H.B)({connector:()=>new v.t(se,de,re),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:W})}},8675:(Mt,Ae,P)=>{"use strict";P.d(Ae,{O:()=>ue});var v=P(7272),H=P(3269),c=P(4482);function ue(...de){const re=(0,H.yG)(de);return(0,c.e)((se,W)=>{(re?(0,v.z)(de,se,re):(0,v.z)(de,se)).subscribe(W)})}},3900:(Mt,Ae,P)=>{"use strict";P.d(Ae,{w:()=>ue});var v=P(8421),H=P(4482),c=P(5403);function ue(de,re){return(0,H.e)((se,W)=>{let ae=null,X=0,ne=!1;const ce=()=>ne&&!ae&&W.complete();se.subscribe((0,c.x)(W,Me=>{ae?.unsubscribe();let J=0;const ee=X++;(0,v.Xf)(de(Me,ee)).subscribe(ae=(0,c.x)(W,Ie=>W.next(re?re(Me,Ie,ee,J++):Ie),()=>{ae=null,ce()}))},()=>{ne=!0,ce()}))})}},5698:(Mt,Ae,P)=>{"use strict";P.d(Ae,{q:()=>ue});var v=P(515),H=P(4482),c=P(5403);function ue(de){return de<=0?()=>v.E:(0,H.e)((re,se)=>{let W=0;re.subscribe((0,c.x)(se,ae=>{++W<=de&&(se.next(ae),de<=W&&se.complete())}))})}},8505:(Mt,Ae,P)=>{"use strict";P.d(Ae,{b:()=>de});var v=P(576),H=P(4482),c=P(5403),ue=P(4671);function de(re,se,W){const ae=(0,v.m)(re)||se||W?{next:re,error:se,complete:W}:re;return ae?(0,H.e)((X,ne)=>{var ce;null===(ce=ae.subscribe)||void 0===ce||ce.call(ae);let Me=!0;X.subscribe((0,c.x)(ne,J=>{var ee;null===(ee=ae.next)||void 0===ee||ee.call(ae,J),ne.next(J)},()=>{var J;Me=!1,null===(J=ae.complete)||void 0===J||J.call(ae),ne.complete()},J=>{var ee;Me=!1,null===(ee=ae.error)||void 0===ee||ee.call(ae,J),ne.error(J)},()=>{var J,ee;Me&&(null===(J=ae.unsubscribe)||void 0===J||J.call(ae)),null===(ee=ae.finalize)||void 0===ee||ee.call(ae)}))}):ue.y}},8068:(Mt,Ae,P)=>{"use strict";P.d(Ae,{T:()=>ue});var v=P(6805),H=P(4482),c=P(5403);function ue(re=de){return(0,H.e)((se,W)=>{let ae=!1;se.subscribe((0,c.x)(W,X=>{ae=!0,W.next(X)},()=>ae?W.complete():W.error(re())))})}function de(){return new v.K}},4408:(Mt,Ae,P)=>{"use strict";P.d(Ae,{o:()=>de});var v=P(727);class H extends v.w0{constructor(se,W){super()}schedule(se,W=0){return this}}const c={setInterval(re,se,...W){const{delegate:ae}=c;return ae?.setInterval?ae.setInterval(re,se,...W):setInterval(re,se,...W)},clearInterval(re){const{delegate:se}=c;return(se?.clearInterval||clearInterval)(re)},delegate:void 0};var ue=P(8737);class de extends H{constructor(se,W){super(se,W),this.scheduler=se,this.work=W,this.pending=!1}schedule(se,W=0){var ae;if(this.closed)return this;this.state=se;const X=this.id,ne=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(ne,X,W)),this.pending=!0,this.delay=W,this.id=null!==(ae=this.id)&&void 0!==ae?ae:this.requestAsyncId(ne,this.id,W),this}requestAsyncId(se,W,ae=0){return c.setInterval(se.flush.bind(se,this),ae)}recycleAsyncId(se,W,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return W;null!=W&&c.clearInterval(W)}execute(se,W){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(se,W);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,W){let X,ae=!1;try{this.work(se)}catch(ne){ae=!0,X=ne||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:se,scheduler:W}=this,{actions:ae}=W;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(ae,this),null!=se&&(this.id=this.recycleAsyncId(W,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(Mt,Ae,P)=>{"use strict";P.d(Ae,{v:()=>c});var v=P(6063);class H{constructor(de,re=H.now){this.schedulerActionCtor=de,this.now=re}schedule(de,re=0,se){return new this.schedulerActionCtor(this,de).schedule(se,re)}}H.now=v.l.now;class c extends H{constructor(de,re=H.now){super(de,re),this.actions=[],this._active=!1}flush(de){const{actions:re}=this;if(this._active)return void re.push(de);let se;this._active=!0;do{if(se=de.execute(de.state,de.delay))break}while(de=re.shift());if(this._active=!1,se){for(;de=re.shift();)de.unsubscribe();throw se}}}},6406:(Mt,Ae,P)=>{"use strict";P.d(Ae,{Z:()=>se});var v=P(4408),H=P(727);const c={schedule(ae){let X=requestAnimationFrame,ne=cancelAnimationFrame;const{delegate:ce}=c;ce&&(X=ce.requestAnimationFrame,ne=ce.cancelAnimationFrame);const Me=X(J=>{ne=void 0,ae(J)});return new H.w0(()=>ne?.(Me))},requestAnimationFrame(...ae){const{delegate:X}=c;return(X?.requestAnimationFrame||requestAnimationFrame)(...ae)},cancelAnimationFrame(...ae){const{delegate:X}=c;return(X?.cancelAnimationFrame||cancelAnimationFrame)(...ae)},delegate:void 0};var de=P(7565);const se=new class re extends de.v{flush(X){this._active=!0;const ne=this._scheduled;this._scheduled=void 0;const{actions:ce}=this;let Me;X=X||ce.shift();do{if(Me=X.execute(X.state,X.delay))break}while((X=ce[0])&&X.id===ne&&ce.shift());if(this._active=!1,Me){for(;(X=ce[0])&&X.id===ne&&ce.shift();)X.unsubscribe();throw Me}}}(class ue extends v.o{constructor(X,ne){super(X,ne),this.scheduler=X,this.work=ne}requestAsyncId(X,ne,ce=0){return null!==ce&&ce>0?super.requestAsyncId(X,ne,ce):(X.actions.push(this),X._scheduled||(X._scheduled=c.requestAnimationFrame(()=>X.flush(void 0))))}recycleAsyncId(X,ne,ce=0){var Me;if(null!=ce?ce>0:this.delay>0)return super.recycleAsyncId(X,ne,ce);const{actions:J}=X;null!=ne&&(null===(Me=J[J.length-1])||void 0===Me?void 0:Me.id)!==ne&&(c.cancelAnimationFrame(ne),X._scheduled=void 0)}})},4986:(Mt,Ae,P)=>{"use strict";P.d(Ae,{P:()=>ue,z:()=>c});var v=P(4408);const c=new(P(7565).v)(v.o),ue=c},6063:(Mt,Ae,P)=>{"use strict";P.d(Ae,{l:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},3410:(Mt,Ae,P)=>{"use strict";P.d(Ae,{z:()=>v});const v={setTimeout(H,c,...ue){const{delegate:de}=v;return de?.setTimeout?de.setTimeout(H,c,...ue):setTimeout(H,c,...ue)},clearTimeout(H){const{delegate:c}=v;return(c?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(Mt,Ae,P)=>{"use strict";P.d(Ae,{h:()=>H});const H=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Mt,Ae,P)=>{"use strict";P.d(Ae,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Mt,Ae,P)=>{"use strict";P.d(Ae,{K:()=>H});const H=(0,P(3888).d)(c=>function(){c(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Mt,Ae,P)=>{"use strict";P.d(Ae,{_6:()=>re,jO:()=>ue,yG:()=>de});var v=P(576),H=P(3532);function c(se){return se[se.length-1]}function ue(se){return(0,v.m)(c(se))?se.pop():void 0}function de(se){return(0,H.K)(c(se))?se.pop():void 0}function re(se,W){return"number"==typeof c(se)?se.pop():W}},4742:(Mt,Ae,P)=>{"use strict";P.d(Ae,{D:()=>de});const{isArray:v}=Array,{getPrototypeOf:H,prototype:c,keys:ue}=Object;function de(se){if(1===se.length){const W=se[0];if(v(W))return{args:W,keys:null};if(function re(se){return se&&"object"==typeof se&&H(se)===c}(W)){const ae=ue(W);return{args:ae.map(X=>W[X]),keys:ae}}}return{args:se,keys:null}}},8737:(Mt,Ae,P)=>{"use strict";function v(H,c){if(H){const ue=H.indexOf(c);0<=ue&&H.splice(ue,1)}}P.d(Ae,{P:()=>v})},3888:(Mt,Ae,P)=>{"use strict";function v(H){const ue=H(de=>{Error.call(de),de.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}P.d(Ae,{d:()=>v})},1810:(Mt,Ae,P)=>{"use strict";function v(H,c){return H.reduce((ue,de,re)=>(ue[de]=c[re],ue),{})}P.d(Ae,{n:()=>v})},2806:(Mt,Ae,P)=>{"use strict";P.d(Ae,{O:()=>ue,x:()=>c});var v=P(2416);let H=null;function c(de){if(v.v.useDeprecatedSynchronousErrorHandling){const re=!H;if(re&&(H={errorThrown:!1,error:null}),de(),re){const{errorThrown:se,error:W}=H;if(H=null,se)throw W}}else de()}function ue(de){v.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=de)}},9672:(Mt,Ae,P)=>{"use strict";function v(H,c,ue,de=0,re=!1){const se=c.schedule(function(){ue(),re?H.add(this.schedule(null,de)):this.unsubscribe()},de);if(H.add(se),!re)return se}P.d(Ae,{f:()=>v})},4671:(Mt,Ae,P)=>{"use strict";function v(H){return H}P.d(Ae,{y:()=>v})},1144:(Mt,Ae,P)=>{"use strict";P.d(Ae,{z:()=>v});const v=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(Mt,Ae,P)=>{"use strict";P.d(Ae,{D:()=>H});var v=P(576);function H(c){return Symbol.asyncIterator&&(0,v.m)(c?.[Symbol.asyncIterator])}},576:(Mt,Ae,P)=>{"use strict";function v(H){return"function"==typeof H}P.d(Ae,{m:()=>v})},3670:(Mt,Ae,P)=>{"use strict";P.d(Ae,{c:()=>c});var v=P(8822),H=P(576);function c(ue){return(0,H.m)(ue[v.L])}},6495:(Mt,Ae,P)=>{"use strict";P.d(Ae,{T:()=>c});var v=P(2202),H=P(576);function c(ue){return(0,H.m)(ue?.[v.h])}},8239:(Mt,Ae,P)=>{"use strict";P.d(Ae,{t:()=>H});var v=P(576);function H(c){return(0,v.m)(c?.then)}},3260:(Mt,Ae,P)=>{"use strict";P.d(Ae,{L:()=>ue,Q:()=>c});var v=P(7582),H=P(576);function c(de){return(0,v.FC)(this,arguments,function*(){const se=de.getReader();try{for(;;){const{value:W,done:ae}=yield(0,v.qq)(se.read());if(ae)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(W)}}finally{se.releaseLock()}})}function ue(de){return(0,H.m)(de?.getReader)}},3532:(Mt,Ae,P)=>{"use strict";P.d(Ae,{K:()=>H});var v=P(576);function H(c){return c&&(0,v.m)(c.schedule)}},4482:(Mt,Ae,P)=>{"use strict";P.d(Ae,{A:()=>H,e:()=>c});var v=P(576);function H(ue){return(0,v.m)(ue?.lift)}function c(ue){return de=>{if(H(de))return de.lift(function(re){try{return ue(re,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Mt,Ae,P)=>{"use strict";P.d(Ae,{Z:()=>ue});var v=P(4004);const{isArray:H}=Array;function ue(de){return(0,v.U)(re=>function c(de,re){return H(re)?de(...re):de(re)}(de,re))}},5032:(Mt,Ae,P)=>{"use strict";function v(){}P.d(Ae,{Z:()=>v})},9635:(Mt,Ae,P)=>{"use strict";P.d(Ae,{U:()=>c,z:()=>H});var v=P(4671);function H(...ue){return c(ue)}function c(ue){return 0===ue.length?v.y:1===ue.length?ue[0]:function(re){return ue.reduce((se,W)=>W(se),re)}}},7849:(Mt,Ae,P)=>{"use strict";P.d(Ae,{h:()=>c});var v=P(2416),H=P(3410);function c(ue){H.z.setTimeout(()=>{const{onUnhandledError:de}=v.v;if(!de)throw ue;de(ue)})}},4532:(Mt,Ae,P)=>{"use strict";function v(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ae,{z:()=>v})},5557:(Mt,Ae,P)=>{"use strict";function v(H,c){return c=c||{},new Promise(function(ue,de){var re=new XMLHttpRequest,se=[],W=[],ae={},X=function(){return{ok:2==(re.status/100|0),statusText:re.statusText,status:re.status,url:re.responseURL,text:function(){return Promise.resolve(re.responseText)},json:function(){return Promise.resolve(re.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([re.response]))},clone:X,headers:{keys:function(){return se},entries:function(){return W},get:function(ce){return ae[ce.toLowerCase()]},has:function(ce){return ce.toLowerCase()in ae}}}};for(var ne in re.open(c.method||"get",H,!0),re.onload=function(){re.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(ce,Me,J){se.push(Me=Me.toLowerCase()),W.push([Me,J]),ae[Me]=ae[Me]?ae[Me]+","+J:J}),ue(X())},re.onerror=de,re.withCredentials="include"==c.credentials,c.headers)re.setRequestHeader(ne,c.headers[ne]);re.send(c.body||null)})}P.r(Ae),P.d(Ae,{default:()=>v})},3541:(Mt,Ae,P)=>{"use strict";P.r(Ae),P.d(Ae,{__assign:()=>c,__asyncDelegator:()=>Fe,__asyncGenerator:()=>xe,__asyncValues:()=>Ke,__await:()=>Ie,__awaiter:()=>W,__classPrivateFieldGet:()=>mt,__classPrivateFieldSet:()=>Ue,__createBinding:()=>X,__decorate:()=>de,__exportStar:()=>ne,__extends:()=>H,__generator:()=>ae,__importDefault:()=>Le,__importStar:()=>Ye,__makeTemplateObject:()=>He,__metadata:()=>se,__param:()=>re,__read:()=>Me,__rest:()=>ue,__spread:()=>J,__spreadArrays:()=>ee,__values:()=>ce});var v=function(Be,ge){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,_t){et.__proto__=_t}||function(et,_t){for(var Et in _t)_t.hasOwnProperty(Et)&&(et[Et]=_t[Et])})(Be,ge)};function H(Be,ge){function et(){this.constructor=Be}v(Be,ge),Be.prototype=null===ge?Object.create(ge):(et.prototype=ge.prototype,new et)}var c=function(){return c=Object.assign||function(ge){for(var et,_t=1,Et=arguments.length;_t<Et;_t++)for(var ft in et=arguments[_t])Object.prototype.hasOwnProperty.call(et,ft)&&(ge[ft]=et[ft]);return ge},c.apply(this,arguments)};function ue(Be,ge){var et={};for(var _t in Be)Object.prototype.hasOwnProperty.call(Be,_t)&&ge.indexOf(_t)<0&&(et[_t]=Be[_t]);if(null!=Be&&"function"==typeof Object.getOwnPropertySymbols){var Et=0;for(_t=Object.getOwnPropertySymbols(Be);Et<_t.length;Et++)ge.indexOf(_t[Et])<0&&Object.prototype.propertyIsEnumerable.call(Be,_t[Et])&&(et[_t[Et]]=Be[_t[Et]])}return et}function de(Be,ge,et,_t){var pt,Et=arguments.length,ft=Et<3?ge:null===_t?_t=Object.getOwnPropertyDescriptor(ge,et):_t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ft=Reflect.decorate(Be,ge,et,_t);else for(var vn=Be.length-1;vn>=0;vn--)(pt=Be[vn])&&(ft=(Et<3?pt(ft):Et>3?pt(ge,et,ft):pt(ge,et))||ft);return Et>3&&ft&&Object.defineProperty(ge,et,ft),ft}function re(Be,ge){return function(et,_t){ge(et,_t,Be)}}function se(Be,ge){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Be,ge)}function W(Be,ge,et,_t){return new(et||(et=Promise))(function(ft,pt){function vn(Bt){try{an(_t.next(Bt))}catch(ye){pt(ye)}}function An(Bt){try{an(_t.throw(Bt))}catch(ye){pt(ye)}}function an(Bt){Bt.done?ft(Bt.value):function Et(ft){return ft instanceof et?ft:new et(function(pt){pt(ft)})}(Bt.value).then(vn,An)}an((_t=_t.apply(Be,ge||[])).next())})}function ae(Be,ge){var _t,Et,ft,pt,et={label:0,sent:function(){if(1&ft[0])throw ft[1];return ft[1]},trys:[],ops:[]};return pt={next:vn(0),throw:vn(1),return:vn(2)},"function"==typeof Symbol&&(pt[Symbol.iterator]=function(){return this}),pt;function vn(an){return function(Bt){return function An(an){if(_t)throw new TypeError("Generator is already executing.");for(;et;)try{if(_t=1,Et&&(ft=2&an[0]?Et.return:an[0]?Et.throw||((ft=Et.return)&&ft.call(Et),0):Et.next)&&!(ft=ft.call(Et,an[1])).done)return ft;switch(Et=0,ft&&(an=[2&an[0],ft.value]),an[0]){case 0:case 1:ft=an;break;case 4:return et.label++,{value:an[1],done:!1};case 5:et.label++,Et=an[1],an=[0];continue;case 7:an=et.ops.pop(),et.trys.pop();continue;default:if(!(ft=(ft=et.trys).length>0&&ft[ft.length-1])&&(6===an[0]||2===an[0])){et=0;continue}if(3===an[0]&&(!ft||an[1]>ft[0]&&an[1]<ft[3])){et.label=an[1];break}if(6===an[0]&&et.label<ft[1]){et.label=ft[1],ft=an;break}if(ft&&et.label<ft[2]){et.label=ft[2],et.ops.push(an);break}ft[2]&&et.ops.pop(),et.trys.pop();continue}an=ge.call(Be,et)}catch(Bt){an=[6,Bt],Et=0}finally{_t=ft=0}if(5&an[0])throw an[1];return{value:an[0]?an[1]:void 0,done:!0}}([an,Bt])}}}function X(Be,ge,et,_t){void 0===_t&&(_t=et),Be[_t]=ge[et]}function ne(Be,ge){for(var et in Be)"default"!==et&&!ge.hasOwnProperty(et)&&(ge[et]=Be[et])}function ce(Be){var ge="function"==typeof Symbol&&Symbol.iterator,et=ge&&Be[ge],_t=0;if(et)return et.call(Be);if(Be&&"number"==typeof Be.length)return{next:function(){return Be&&_t>=Be.length&&(Be=void 0),{value:Be&&Be[_t++],done:!Be}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}function Me(Be,ge){var et="function"==typeof Symbol&&Be[Symbol.iterator];if(!et)return Be;var Et,pt,_t=et.call(Be),ft=[];try{for(;(void 0===ge||ge-- >0)&&!(Et=_t.next()).done;)ft.push(Et.value)}catch(vn){pt={error:vn}}finally{try{Et&&!Et.done&&(et=_t.return)&&et.call(_t)}finally{if(pt)throw pt.error}}return ft}function J(){for(var Be=[],ge=0;ge<arguments.length;ge++)Be=Be.concat(Me(arguments[ge]));return Be}function ee(){for(var Be=0,ge=0,et=arguments.length;ge<et;ge++)Be+=arguments[ge].length;var _t=Array(Be),Et=0;for(ge=0;ge<et;ge++)for(var ft=arguments[ge],pt=0,vn=ft.length;pt<vn;pt++,Et++)_t[Et]=ft[pt];return _t}function Ie(Be){return this instanceof Ie?(this.v=Be,this):new Ie(Be)}function xe(Be,ge,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et,_t=et.apply(Be,ge||[]),ft=[];return Et={},pt("next"),pt("throw"),pt("return"),Et[Symbol.asyncIterator]=function(){return this},Et;function pt(_e){_t[_e]&&(Et[_e]=function(De){return new Promise(function(Te,Ze){ft.push([_e,De,Te,Ze])>1||vn(_e,De)})})}function vn(_e,De){try{!function An(_e){_e.value instanceof Ie?Promise.resolve(_e.value.v).then(an,Bt):ye(ft[0][2],_e)}(_t[_e](De))}catch(Te){ye(ft[0][3],Te)}}function an(_e){vn("next",_e)}function Bt(_e){vn("throw",_e)}function ye(_e,De){_e(De),ft.shift(),ft.length&&vn(ft[0][0],ft[0][1])}}function Fe(Be){var ge,et;return ge={},_t("next"),_t("throw",function(Et){throw Et}),_t("return"),ge[Symbol.iterator]=function(){return this},ge;function _t(Et,ft){ge[Et]=Be[Et]?function(pt){return(et=!et)?{value:Ie(Be[Et](pt)),done:"return"===Et}:ft?ft(pt):pt}:ft}}function Ke(Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,ge=Be[Symbol.asyncIterator];return ge?ge.call(Be):(Be=ce(Be),et={},_t("next"),_t("throw"),_t("return"),et[Symbol.asyncIterator]=function(){return this},et);function _t(ft){et[ft]=Be[ft]&&function(pt){return new Promise(function(vn,An){!function Et(ft,pt,vn,An){Promise.resolve(An).then(function(an){ft({value:an,done:vn})},pt)}(vn,An,(pt=Be[ft](pt)).done,pt.value)})}}}function He(Be,ge){return Object.defineProperty?Object.defineProperty(Be,"raw",{value:ge}):Be.raw=ge,Be}function Ye(Be){if(Be&&Be.__esModule)return Be;var ge={};if(null!=Be)for(var et in Be)Object.hasOwnProperty.call(Be,et)&&(ge[et]=Be[et]);return ge.default=Be,ge}function Le(Be){return Be&&Be.__esModule?Be:{default:Be}}function mt(Be,ge){if(!ge.has(Be))throw new TypeError("attempted to get private field on non-instance");return ge.get(Be)}function Ue(Be,ge,et){if(!ge.has(Be))throw new TypeError("attempted to set private field on non-instance");return ge.set(Be,et),et}},6249:()=>{},7340:(Mt,Ae,P)=>{"use strict";P.d(Ae,{LC:()=>H,SB:()=>ae,X$:()=>ue,ZE:()=>Ke,ZN:()=>Fe,_j:()=>v,eR:()=>ne,jt:()=>de,k1:()=>He,l3:()=>c,oB:()=>W,vP:()=>se});class v{}class H{}const c="*";function ue(Ye,Le){return{type:7,name:Ye,definitions:Le,options:{}}}function de(Ye,Le=null){return{type:4,styles:Le,timings:Ye}}function se(Ye,Le=null){return{type:2,steps:Ye,options:Le}}function W(Ye){return{type:6,styles:Ye,offset:null}}function ae(Ye,Le,mt){return{type:0,name:Ye,styles:Le,options:mt}}function ne(Ye,Le,mt=null){return{type:1,expr:Ye,animation:Le,options:mt}}function xe(Ye){Promise.resolve().then(Ye)}class Fe{constructor(Le=0,mt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Le+mt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Le=>Le()),this._onDoneFns=[])}onStart(Le){this._originalOnStartFns.push(Le),this._onStartFns.push(Le)}onDone(Le){this._originalOnDoneFns.push(Le),this._onDoneFns.push(Le)}onDestroy(Le){this._onDestroyFns.push(Le)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){xe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Le=>Le()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Le=>Le()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Le){this._position=this.totalTime?Le*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Le){const mt="start"==Le?this._onStartFns:this._onDoneFns;mt.forEach(Ue=>Ue()),mt.length=0}}class Ke{constructor(Le){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Le;let mt=0,Ue=0,Be=0;const ge=this.players.length;0==ge?xe(()=>this._onFinish()):this.players.forEach(et=>{et.onDone(()=>{++mt==ge&&this._onFinish()}),et.onDestroy(()=>{++Ue==ge&&this._onDestroy()}),et.onStart(()=>{++Be==ge&&this._onStart()})}),this.totalTime=this.players.reduce((et,_t)=>Math.max(et,_t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Le=>Le()),this._onDoneFns=[])}init(){this.players.forEach(Le=>Le.init())}onStart(Le){this._onStartFns.push(Le)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Le=>Le()),this._onStartFns=[])}onDone(Le){this._onDoneFns.push(Le)}onDestroy(Le){this._onDestroyFns.push(Le)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Le=>Le.play())}pause(){this.players.forEach(Le=>Le.pause())}restart(){this.players.forEach(Le=>Le.restart())}finish(){this._onFinish(),this.players.forEach(Le=>Le.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Le=>Le.destroy()),this._onDestroyFns.forEach(Le=>Le()),this._onDestroyFns=[])}reset(){this.players.forEach(Le=>Le.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Le){const mt=Le*this.totalTime;this.players.forEach(Ue=>{const Be=Ue.totalTime?Math.min(1,mt/Ue.totalTime):1;Ue.setPosition(Be)})}getPosition(){const Le=this.players.reduce((mt,Ue)=>null===mt||Ue.totalTime>mt.totalTime?Ue:mt,null);return null!=Le?Le.getPosition():0}beforeDestroy(){this.players.forEach(Le=>{Le.beforeDestroy&&Le.beforeDestroy()})}triggerCallback(Le){const mt="start"==Le?this._onStartFns:this._onDoneFns;mt.forEach(Ue=>Ue()),mt.length=0}}const He="!"},6895:(Mt,Ae,P)=>{"use strict";P.d(Ae,{Do:()=>Ke,EM:()=>Vi,HT:()=>ue,JF:()=>lu,JJ:()=>yo,K0:()=>re,Mx:()=>sr,NF:()=>Jo,O5:()=>ni,Ov:()=>io,PC:()=>Zo,PM:()=>ka,RF:()=>Bi,S$:()=>Ie,V_:()=>ae,Ye:()=>He,b0:()=>Fe,bD:()=>Ns,ez:()=>au,mk:()=>bn,n9:()=>mi,q:()=>c,sg:()=>oi,tP:()=>qo,uU:()=>us,w_:()=>de});var v=P(4650);let H=null;function c(){return H}function ue(R){H||(H=R)}class de{}const re=new v.OlP("DocumentToken");let se=(()=>{class R{historyGo(B){throw new Error("Not implemented")}}return R.\u0275fac=function(B){return new(B||R)},R.\u0275prov=v.Yz7({token:R,factory:function(){return function W(){return(0,v.LFG)(X)}()},providedIn:"platform"}),R})();const ae=new v.OlP("Location Initialized");let X=(()=>{class R extends se{constructor(B){super(),this._doc=B,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return c().getBaseHref(this._doc)}onPopState(B){const le=c().getGlobalEventTarget(this._doc,"window");return le.addEventListener("popstate",B,!1),()=>le.removeEventListener("popstate",B)}onHashChange(B){const le=c().getGlobalEventTarget(this._doc,"window");return le.addEventListener("hashchange",B,!1),()=>le.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,le,je){ne()?this._history.pushState(B,le,je):this._location.hash=je}replaceState(B,le,je){ne()?this._history.replaceState(B,le,je):this._location.hash=je}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return R.\u0275fac=function(B){return new(B||R)(v.LFG(re))},R.\u0275prov=v.Yz7({token:R,factory:function(){return function ce(){return new X((0,v.LFG)(re))}()},providedIn:"platform"}),R})();function ne(){return!!window.history.pushState}function Me(R,Z){if(0==R.length)return Z;if(0==Z.length)return R;let B=0;return R.endsWith("/")&&B++,Z.startsWith("/")&&B++,2==B?R+Z.substring(1):1==B?R+Z:R+"/"+Z}function J(R){const Z=R.match(/#|\?|$/),B=Z&&Z.index||R.length;return R.slice(0,B-("/"===R[B-1]?1:0))+R.slice(B)}function ee(R){return R&&"?"!==R[0]?"?"+R:R}let Ie=(()=>{class R{historyGo(B){throw new Error("Not implemented")}}return R.\u0275fac=function(B){return new(B||R)},R.\u0275prov=v.Yz7({token:R,factory:function(){return(0,v.f3M)(Fe)},providedIn:"root"}),R})();const xe=new v.OlP("appBaseHref");let Fe=(()=>{class R extends Ie{constructor(B,le){super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=le??this._platformLocation.getBaseHrefFromDOM()??(0,v.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return Me(this._baseHref,B)}path(B=!1){const le=this._platformLocation.pathname+ee(this._platformLocation.search),je=this._platformLocation.hash;return je&&B?`${le}${je}`:le}pushState(B,le,je,It){const Ft=this.prepareExternalUrl(je+ee(It));this._platformLocation.pushState(B,le,Ft)}replaceState(B,le,je,It){const Ft=this.prepareExternalUrl(je+ee(It));this._platformLocation.replaceState(B,le,Ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return R.\u0275fac=function(B){return new(B||R)(v.LFG(se),v.LFG(xe,8))},R.\u0275prov=v.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),Ke=(()=>{class R extends Ie{constructor(B,le){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=le&&(this._baseHref=le)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let le=this._platformLocation.hash;return null==le&&(le="#"),le.length>0?le.substring(1):le}prepareExternalUrl(B){const le=Me(this._baseHref,B);return le.length>0?"#"+le:le}pushState(B,le,je,It){let Ft=this.prepareExternalUrl(je+ee(It));0==Ft.length&&(Ft=this._platformLocation.pathname),this._platformLocation.pushState(B,le,Ft)}replaceState(B,le,je,It){let Ft=this.prepareExternalUrl(je+ee(It));0==Ft.length&&(Ft=this._platformLocation.pathname),this._platformLocation.replaceState(B,le,Ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){this._platformLocation.historyGo?.(B)}}return R.\u0275fac=function(B){return new(B||R)(v.LFG(se),v.LFG(xe,8))},R.\u0275prov=v.Yz7({token:R,factory:R.\u0275fac}),R})(),He=(()=>{class R{constructor(B){this._subject=new v.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const le=this._locationStrategy.getBaseHref();this._basePath=function Ue(R){if(new RegExp("^(https?:)?//").test(R)){const[,B]=R.split(/\/\/[^\/]+/);return B}return R}(J(mt(le))),this._locationStrategy.onPopState(je=>{this._subject.emit({url:this.path(!0),pop:!0,state:je.state,type:je.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,le=""){return this.path()==this.normalize(B+ee(le))}normalize(B){return R.stripTrailingSlash(function Le(R,Z){if(!R||!Z.startsWith(R))return Z;const B=Z.substring(R.length);return""===B||["/",";","?","#"].includes(B[0])?B:Z}(this._basePath,mt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,le="",je=null){this._locationStrategy.pushState(je,"",B,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+ee(le)),je)}replaceState(B,le="",je=null){this._locationStrategy.replaceState(je,"",B,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+ee(le)),je)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){this._locationStrategy.historyGo?.(B)}onUrlChange(B){return this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(le=>{this._notifyUrlChangeListeners(le.url,le.state)})),()=>{const le=this._urlChangeListeners.indexOf(B);this._urlChangeListeners.splice(le,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",le){this._urlChangeListeners.forEach(je=>je(B,le))}subscribe(B,le,je){return this._subject.subscribe({next:B,error:le,complete:je})}}return R.normalizeQueryParams=ee,R.joinWithSlash=Me,R.stripTrailingSlash=J,R.\u0275fac=function(B){return new(B||R)(v.LFG(Ie))},R.\u0275prov=v.Yz7({token:R,factory:function(){return function Ye(){return new He((0,v.LFG)(Ie))}()},providedIn:"root"}),R})();function mt(R){return R.replace(/\/index.html$/,"")}var ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Percent=1]="Percent",ge[ge.Currency=2]="Currency",ge[ge.Scientific=3]="Scientific",ge))(),_t=(()=>((_t=_t||{})[_t.Format=0]="Format",_t[_t.Standalone=1]="Standalone",_t))(),Et=(()=>((Et=Et||{})[Et.Narrow=0]="Narrow",Et[Et.Abbreviated=1]="Abbreviated",Et[Et.Wide=2]="Wide",Et[Et.Short=3]="Short",Et))(),ft=(()=>((ft=ft||{})[ft.Short=0]="Short",ft[ft.Medium=1]="Medium",ft[ft.Long=2]="Long",ft[ft.Full=3]="Full",ft))(),pt=(()=>((pt=pt||{})[pt.Decimal=0]="Decimal",pt[pt.Group=1]="Group",pt[pt.List=2]="List",pt[pt.PercentSign=3]="PercentSign",pt[pt.PlusSign=4]="PlusSign",pt[pt.MinusSign=5]="MinusSign",pt[pt.Exponential=6]="Exponential",pt[pt.SuperscriptingExponent=7]="SuperscriptingExponent",pt[pt.PerMille=8]="PerMille",pt[pt.Infinity=9]="Infinity",pt[pt.NaN=10]="NaN",pt[pt.TimeSeparator=11]="TimeSeparator",pt[pt.CurrencyDecimal=12]="CurrencyDecimal",pt[pt.CurrencyGroup=13]="CurrencyGroup",pt))();function Ze(R,Z){return tr((0,v.cg1)(R)[v.wAp.DateFormat],Z)}function pe(R,Z){return tr((0,v.cg1)(R)[v.wAp.TimeFormat],Z)}function Ne(R,Z){return tr((0,v.cg1)(R)[v.wAp.DateTimeFormat],Z)}function gt(R,Z){const B=(0,v.cg1)(R),le=B[v.wAp.NumberSymbols][Z];if(typeof le>"u"){if(Z===pt.CurrencyDecimal)return B[v.wAp.NumberSymbols][pt.Decimal];if(Z===pt.CurrencyGroup)return B[v.wAp.NumberSymbols][pt.Group]}return le}function Oe(R){if(!R[v.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[v.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tr(R,Z){for(let B=Z;B>-1;B--)if(typeof R[B]<"u")return R[B];throw new Error("Locale data API: locale data undefined")}function ve(R){const[Z,B]=R.split(":");return{hours:+Z,minutes:+B}}const Ce=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rt={},nt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Pt=(()=>((Pt=Pt||{})[Pt.Short=0]="Short",Pt[Pt.ShortGMT=1]="ShortGMT",Pt[Pt.Long=2]="Long",Pt[Pt.Extended=3]="Extended",Pt))(),Tt=(()=>((Tt=Tt||{})[Tt.FullYear=0]="FullYear",Tt[Tt.Month=1]="Month",Tt[Tt.Date=2]="Date",Tt[Tt.Hours=3]="Hours",Tt[Tt.Minutes=4]="Minutes",Tt[Tt.Seconds=5]="Seconds",Tt[Tt.FractionalSeconds=6]="FractionalSeconds",Tt[Tt.Day=7]="Day",Tt))(),yt=(()=>((yt=yt||{})[yt.DayPeriods=0]="DayPeriods",yt[yt.Days=1]="Days",yt[yt.Months=2]="Months",yt[yt.Eras=3]="Eras",yt))();function Rt(R,Z,B,le){let je=function Ir(R){if(ht(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[je,It=1,Ft=1]=R.split("-").map(_n=>+_n);return kt(je,It-1,Ft)}const B=parseFloat(R);if(!isNaN(R-B))return new Date(B);let le;if(le=R.match(Ce))return function Gn(R){const Z=new Date(0);let B=0,le=0;const je=R[8]?Z.setUTCFullYear:Z.setFullYear,It=R[8]?Z.setUTCHours:Z.setHours;R[9]&&(B=Number(R[9]+R[10]),le=Number(R[9]+R[11])),je.call(Z,Number(R[1]),Number(R[2])-1,Number(R[3]));const Ft=Number(R[4]||0)-B,_n=Number(R[5]||0)-le,Mr=Number(R[6]||0),Nr=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return It.call(Z,Ft,_n,Mr,Nr),Z}(le)}const Z=new Date(R);if(!ht(Z))throw new Error(`Unable to convert "${R}" into a date`);return Z}(R);Z=Dn(B,Z)||Z;let _n,Ft=[];for(;Z;){if(_n=nt.exec(Z),!_n){Ft.push(Z);break}{Ft=Ft.concat(_n.slice(1));const Tr=Ft.pop();if(!Tr)break;Z=Tr}}let Mr=je.getTimezoneOffset();le&&(Mr=oe(le,Mr),je=function kn(R,Z,B){const le=B?-1:1,je=R.getTimezoneOffset();return function Hn(R,Z){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+Z),R}(R,le*(oe(Z,je)-je))}(je,le,!0));let Nr="";return Ft.forEach(Tr=>{const nr=function Zt(R){if($t[R])return $t[R];let Z;switch(R){case"G":case"GG":case"GGG":Z=Zn(yt.Eras,Et.Abbreviated);break;case"GGGG":Z=Zn(yt.Eras,Et.Wide);break;case"GGGGG":Z=Zn(yt.Eras,Et.Narrow);break;case"y":Z=lr(Tt.FullYear,1,0,!1,!0);break;case"yy":Z=lr(Tt.FullYear,2,0,!0,!0);break;case"yyy":Z=lr(Tt.FullYear,3,0,!1,!0);break;case"yyyy":Z=lr(Tt.FullYear,4,0,!1,!0);break;case"Y":Z=Qt(1);break;case"YY":Z=Qt(2,!0);break;case"YYY":Z=Qt(3);break;case"YYYY":Z=Qt(4);break;case"M":case"L":Z=lr(Tt.Month,1,1);break;case"MM":case"LL":Z=lr(Tt.Month,2,1);break;case"MMM":Z=Zn(yt.Months,Et.Abbreviated);break;case"MMMM":Z=Zn(yt.Months,Et.Wide);break;case"MMMMM":Z=Zn(yt.Months,Et.Narrow);break;case"LLL":Z=Zn(yt.Months,Et.Abbreviated,_t.Standalone);break;case"LLLL":Z=Zn(yt.Months,Et.Wide,_t.Standalone);break;case"LLLLL":Z=Zn(yt.Months,Et.Narrow,_t.Standalone);break;case"w":Z=ot(1);break;case"ww":Z=ot(2);break;case"W":Z=ot(1,!0);break;case"d":Z=lr(Tt.Date,1);break;case"dd":Z=lr(Tt.Date,2);break;case"c":case"cc":Z=lr(Tt.Day,1);break;case"ccc":Z=Zn(yt.Days,Et.Abbreviated,_t.Standalone);break;case"cccc":Z=Zn(yt.Days,Et.Wide,_t.Standalone);break;case"ccccc":Z=Zn(yt.Days,Et.Narrow,_t.Standalone);break;case"cccccc":Z=Zn(yt.Days,Et.Short,_t.Standalone);break;case"E":case"EE":case"EEE":Z=Zn(yt.Days,Et.Abbreviated);break;case"EEEE":Z=Zn(yt.Days,Et.Wide);break;case"EEEEE":Z=Zn(yt.Days,Et.Narrow);break;case"EEEEEE":Z=Zn(yt.Days,Et.Short);break;case"a":case"aa":case"aaa":Z=Zn(yt.DayPeriods,Et.Abbreviated);break;case"aaaa":Z=Zn(yt.DayPeriods,Et.Wide);break;case"aaaaa":Z=Zn(yt.DayPeriods,Et.Narrow);break;case"b":case"bb":case"bbb":Z=Zn(yt.DayPeriods,Et.Abbreviated,_t.Standalone,!0);break;case"bbbb":Z=Zn(yt.DayPeriods,Et.Wide,_t.Standalone,!0);break;case"bbbbb":Z=Zn(yt.DayPeriods,Et.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":Z=Zn(yt.DayPeriods,Et.Abbreviated,_t.Format,!0);break;case"BBBB":Z=Zn(yt.DayPeriods,Et.Wide,_t.Format,!0);break;case"BBBBB":Z=Zn(yt.DayPeriods,Et.Narrow,_t.Format,!0);break;case"h":Z=lr(Tt.Hours,1,-12);break;case"hh":Z=lr(Tt.Hours,2,-12);break;case"H":Z=lr(Tt.Hours,1);break;case"HH":Z=lr(Tt.Hours,2);break;case"m":Z=lr(Tt.Minutes,1);break;case"mm":Z=lr(Tt.Minutes,2);break;case"s":Z=lr(Tt.Seconds,1);break;case"ss":Z=lr(Tt.Seconds,2);break;case"S":Z=lr(Tt.FractionalSeconds,1);break;case"SS":Z=lr(Tt.FractionalSeconds,2);break;case"SSS":Z=lr(Tt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Z=_r(Pt.Short);break;case"ZZZZZ":Z=_r(Pt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Z=_r(Pt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Z=_r(Pt.Long);break;default:return null}return $t[R]=Z,Z}(Tr);Nr+=nr?nr(je,B,Mr):"''"===Tr?"'":Tr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Nr}function kt(R,Z,B){const le=new Date(0);return le.setFullYear(R,Z,B),le.setHours(0,0,0),le}function Dn(R,Z){const B=function An(R){return(0,v.cg1)(R)[v.wAp.LocaleId]}(R);if(rt[B]=rt[B]||{},rt[B][Z])return rt[B][Z];let le="";switch(Z){case"shortDate":le=Ze(R,ft.Short);break;case"mediumDate":le=Ze(R,ft.Medium);break;case"longDate":le=Ze(R,ft.Long);break;case"fullDate":le=Ze(R,ft.Full);break;case"shortTime":le=pe(R,ft.Short);break;case"mediumTime":le=pe(R,ft.Medium);break;case"longTime":le=pe(R,ft.Long);break;case"fullTime":le=pe(R,ft.Full);break;case"short":const je=Dn(R,"shortTime"),It=Dn(R,"shortDate");le=Yn(Ne(R,ft.Short),[je,It]);break;case"medium":const Ft=Dn(R,"mediumTime"),_n=Dn(R,"mediumDate");le=Yn(Ne(R,ft.Medium),[Ft,_n]);break;case"long":const Mr=Dn(R,"longTime"),Nr=Dn(R,"longDate");le=Yn(Ne(R,ft.Long),[Mr,Nr]);break;case"full":const Tr=Dn(R,"fullTime"),nr=Dn(R,"fullDate");le=Yn(Ne(R,ft.Full),[Tr,nr])}return le&&(rt[B][Z]=le),le}function Yn(R,Z){return Z&&(R=R.replace(/\{([^}]+)}/g,function(B,le){return null!=Z&&le in Z?Z[le]:B})),R}function Qn(R,Z,B="-",le,je){let It="";(R<0||je&&R<=0)&&(je?R=1-R:(R=-R,It=B));let Ft=String(R);for(;Ft.length<Z;)Ft="0"+Ft;return le&&(Ft=Ft.slice(Ft.length-Z)),It+Ft}function lr(R,Z,B=0,le=!1,je=!1){return function(It,Ft){let _n=function Yr(R,Z){switch(R){case Tt.FullYear:return Z.getFullYear();case Tt.Month:return Z.getMonth();case Tt.Date:return Z.getDate();case Tt.Hours:return Z.getHours();case Tt.Minutes:return Z.getMinutes();case Tt.Seconds:return Z.getSeconds();case Tt.FractionalSeconds:return Z.getMilliseconds();case Tt.Day:return Z.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,It);if((B>0||_n>-B)&&(_n+=B),R===Tt.Hours)0===_n&&-12===B&&(_n=12);else if(R===Tt.FractionalSeconds)return function jr(R,Z){return Qn(R,3).substring(0,Z)}(_n,Z);const Mr=gt(Ft,pt.MinusSign);return Qn(_n,Z,Mr,le,je)}}function Zn(R,Z,B=_t.Format,le=!1){return function(je,It){return function Ci(R,Z,B,le,je,It){switch(B){case yt.Months:return function ye(R,Z,B){const le=(0,v.cg1)(R),It=tr([le[v.wAp.MonthsFormat],le[v.wAp.MonthsStandalone]],Z);return tr(It,B)}(Z,je,le)[R.getMonth()];case yt.Days:return function Bt(R,Z,B){const le=(0,v.cg1)(R),It=tr([le[v.wAp.DaysFormat],le[v.wAp.DaysStandalone]],Z);return tr(It,B)}(Z,je,le)[R.getDay()];case yt.DayPeriods:const Ft=R.getHours(),_n=R.getMinutes();if(It){const Nr=function At(R){const Z=(0,v.cg1)(R);return Oe(Z),(Z[v.wAp.ExtraData][2]||[]).map(le=>"string"==typeof le?ve(le):[ve(le[0]),ve(le[1])])}(Z),Tr=function jt(R,Z,B){const le=(0,v.cg1)(R);Oe(le);const It=tr([le[v.wAp.ExtraData][0],le[v.wAp.ExtraData][1]],Z)||[];return tr(It,B)||[]}(Z,je,le),nr=Nr.findIndex(Vr=>{if(Array.isArray(Vr)){const[xr,li]=Vr,Xi=Ft>=xr.hours&&_n>=xr.minutes,ji=Ft<li.hours||Ft===li.hours&&_n<li.minutes;if(xr.hours<li.hours){if(Xi&&ji)return!0}else if(Xi||ji)return!0}else if(Vr.hours===Ft&&Vr.minutes===_n)return!0;return!1});if(-1!==nr)return Tr[nr]}return function an(R,Z,B){const le=(0,v.cg1)(R),It=tr([le[v.wAp.DayPeriodsFormat],le[v.wAp.DayPeriodsStandalone]],Z);return tr(It,B)}(Z,je,le)[Ft<12?0:1];case yt.Eras:return function _e(R,Z){return tr((0,v.cg1)(R)[v.wAp.Eras],Z)}(Z,le)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${B}`)}}(je,It,R,Z,B,le)}}function _r(R){return function(Z,B,le){const je=-1*le,It=gt(B,pt.MinusSign),Ft=je>0?Math.floor(je/60):Math.ceil(je/60);switch(R){case Pt.Short:return(je>=0?"+":"")+Qn(Ft,2,It)+Qn(Math.abs(je%60),2,It);case Pt.ShortGMT:return"GMT"+(je>=0?"+":"")+Qn(Ft,1,It);case Pt.Long:return"GMT"+(je>=0?"+":"")+Qn(Ft,2,It)+":"+Qn(Math.abs(je%60),2,It);case Pt.Extended:return 0===le?"Z":(je>=0?"+":"")+Qn(Ft,2,It)+":"+Qn(Math.abs(je%60),2,It);default:throw new Error(`Unknown zone width "${R}"`)}}}const ms=0,Qr=4;function We(R){return kt(R.getFullYear(),R.getMonth(),R.getDate()+(Qr-R.getDay()))}function ot(R,Z=!1){return function(B,le){let je;if(Z){const It=new Date(B.getFullYear(),B.getMonth(),1).getDay()-1,Ft=B.getDate();je=1+Math.floor((Ft+It)/7)}else{const It=We(B),Ft=function Nt(R){const Z=kt(R,ms,1).getDay();return kt(R,0,1+(Z<=Qr?Qr:Qr+7)-Z)}(It.getFullYear()),_n=It.getTime()-Ft.getTime();je=1+Math.round(_n/6048e5)}return Qn(je,R,gt(le,pt.MinusSign))}}function Qt(R,Z=!1){return function(B,le){return Qn(We(B).getFullYear(),R,gt(le,pt.MinusSign),Z)}}const $t={};function oe(R,Z){R=R.replace(/:/g,"");const B=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(B)?Z:B}function ht(R){return R instanceof Date&&!isNaN(R.valueOf())}const Qe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Se=22,Re=".",Ot="0",cn=";",xn=",",Ar="#";function Gt(R){const Z=parseInt(R);if(isNaN(Z))throw new Error("Invalid integer literal when parsing "+R);return Z}function sr(R,Z){Z=encodeURIComponent(Z);for(const B of R.split(";")){const le=B.indexOf("="),[je,It]=-1==le?[B,""]:[B.slice(0,le),B.slice(le+1)];if(je.trim()===Z)return decodeURIComponent(It)}return null}const Wn=/\s+/,Jt=[];let bn=(()=>{class R{constructor(B,le,je,It){this._iterableDiffers=B,this._keyValueDiffers=le,this._ngEl=je,this._renderer=It,this.initialClasses=Jt,this.stateMap=new Map}set klass(B){this.initialClasses=null!=B?B.trim().split(Wn):Jt}set ngClass(B){this.rawClass="string"==typeof B?B.trim().split(Wn):B}ngDoCheck(){for(const le of this.initialClasses)this._updateState(le,!0);const B=this.rawClass;if(Array.isArray(B)||B instanceof Set)for(const le of B)this._updateState(le,!0);else if(null!=B)for(const le of Object.keys(B))this._updateState(le,Boolean(B[le]));this._applyStateDiff()}_updateState(B,le){const je=this.stateMap.get(B);void 0!==je?(je.enabled!==le&&(je.changed=!0,je.enabled=le),je.touched=!0):this.stateMap.set(B,{enabled:le,changed:!0,touched:!0})}_applyStateDiff(){for(const B of this.stateMap){const le=B[0],je=B[1];je.changed?(this._toggleClass(le,je.enabled),je.changed=!1):je.touched||(je.enabled&&this._toggleClass(le,!1),this.stateMap.delete(le)),je.touched=!1}}_toggleClass(B,le){(B=B.trim()).length>0&&B.split(Wn).forEach(je=>{le?this._renderer.addClass(this._ngEl.nativeElement,je):this._renderer.removeClass(this._ngEl.nativeElement,je)})}}return R.\u0275fac=function(B){return new(B||R)(v.Y36(v.ZZ4),v.Y36(v.aQg),v.Y36(v.SBq),v.Y36(v.Qsj))},R.\u0275dir=v.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),R})();class mr{constructor(Z,B,le,je){this.$implicit=Z,this.ngForOf=B,this.index=le,this.count=je}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oi=(()=>{class R{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,le,je){this._viewContainer=B,this._template=le,this._differs=je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const le=this._viewContainer;B.forEachOperation((je,It,Ft)=>{if(null==je.previousIndex)le.createEmbeddedView(this._template,new mr(je.item,this._ngForOf,-1,-1),null===Ft?void 0:Ft);else if(null==Ft)le.remove(null===It?void 0:It);else if(null!==It){const _n=le.get(It);le.move(_n,Ft),wr(_n,je)}});for(let je=0,It=le.length;je<It;je++){const _n=le.get(je).context;_n.index=je,_n.count=It,_n.ngForOf=this._ngForOf}B.forEachIdentityChange(je=>{wr(le.get(je.currentIndex),je)})}static ngTemplateContextGuard(B,le){return!0}}return R.\u0275fac=function(B){return new(B||R)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))},R.\u0275dir=v.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function wr(R,Z){R.context.$implicit=Z.item}let ni=(()=>{class R{constructor(B,le){this._viewContainer=B,this._context=new qn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=le}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){fa("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){fa("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,le){return!0}}return R.\u0275fac=function(B){return new(B||R)(v.Y36(v.s_b),v.Y36(v.Rgc))},R.\u0275dir=v.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class qn{constructor(){this.$implicit=null,this.ngIf=null}}function fa(R,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,v.AaK)(Z)}'.`)}class vs{constructor(Z,B){this._viewContainerRef=Z,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Z){Z&&!this._created?this.create():!Z&&this._created&&this.destroy()}}let Bi=(()=>{class R{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews.push(B)}_matchCase(B){const le=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||le,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),le}_updateDefaultCases(B){if(this._defaultViews.length>0&&B!==this._defaultUsed){this._defaultUsed=B;for(const le of this._defaultViews)le.enforceState(B)}}}return R.\u0275fac=function(B){return new(B||R)},R.\u0275dir=v.lG2({type:R,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),R})(),mi=(()=>{class R{constructor(B,le,je){this.ngSwitch=je,je._addCase(),this._view=new vs(B,le)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return R.\u0275fac=function(B){return new(B||R)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(Bi,9))},R.\u0275dir=v.lG2({type:R,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),R})(),Zo=(()=>{class R{constructor(B,le,je){this._ngEl=B,this._differs=le,this._renderer=je,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,le){const[je,It]=B.split("."),Ft=-1===je.indexOf("-")?void 0:v.JOm.DashCase;null!=le?this._renderer.setStyle(this._ngEl.nativeElement,je,It?`${le}${It}`:le,Ft):this._renderer.removeStyle(this._ngEl.nativeElement,je,Ft)}_applyChanges(B){B.forEachRemovedItem(le=>this._setStyle(le.key,null)),B.forEachAddedItem(le=>this._setStyle(le.key,le.currentValue)),B.forEachChangedItem(le=>this._setStyle(le.key,le.currentValue))}}return R.\u0275fac=function(B){return new(B||R)(v.Y36(v.SBq),v.Y36(v.aQg),v.Y36(v.Qsj))},R.\u0275dir=v.lG2({type:R,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),R})(),qo=(()=>{class R{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(B.ngTemplateOutlet||B.ngTemplateOutletInjector){const le=this._viewContainerRef;if(this._viewRef&&le.remove(le.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:je,ngTemplateOutletContext:It,ngTemplateOutletInjector:Ft}=this;this._viewRef=le.createEmbeddedView(je,It,Ft?{injector:Ft}:void 0)}else this._viewRef=null}else this._viewRef&&B.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(B){return new(B||R)(v.Y36(v.s_b))},R.\u0275dir=v.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[v.TTD]}),R})();function Yi(R,Z){return new v.vHH(2100,!1)}class pa{createSubscription(Z,B){return Z.subscribe({next:B,error:le=>{throw le}})}dispose(Z){Z.unsubscribe()}}class Ms{createSubscription(Z,B){return Z.then(B,le=>{throw le})}dispose(Z){}}const as=new Ms,vo=new pa;let io=(()=>{class R{constructor(B){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=B}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,le=>this._updateLatestValue(B,le))}_selectStrategy(B){if((0,v.QGY)(B))return as;if((0,v.F4k)(B))return vo;throw Yi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,le){B===this._obj&&(this._latestValue=le,this._ref.markForCheck())}}return R.\u0275fac=function(B){return new(B||R)(v.Y36(v.sBO,16))},R.\u0275pipe=v.Yjl({name:"async",type:R,pure:!1,standalone:!0}),R})();const Oo=new v.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ri=new v.OlP("DATE_PIPE_DEFAULT_OPTIONS");let us=(()=>{class R{constructor(B,le,je){this.locale=B,this.defaultTimezone=le,this.defaultOptions=je}transform(B,le,je,It){if(null==B||""===B||B!=B)return null;try{return Rt(B,le??this.defaultOptions?.dateFormat??"mediumDate",It||this.locale,je??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ft){throw Yi()}}}return R.\u0275fac=function(B){return new(B||R)(v.Y36(v.soG,16),v.Y36(Oo,24),v.Y36(ri,24))},R.\u0275pipe=v.Yjl({name:"date",type:R,pure:!0,standalone:!0}),R})(),yo=(()=>{class R{constructor(B){this._locale=B}transform(B,le,je){if(!function Ai(R){return!(null==R||""===R||R!=R)}(B))return null;je=je||this._locale;try{return function qe(R,Z,B){return function Je(R,Z,B,le,je,It,Ft=!1){let _n="",Mr=!1;if(isFinite(R)){let Nr=function ze(R){let le,je,It,Ft,_n,Z=Math.abs(R)+"",B=0;for((je=Z.indexOf(Re))>-1&&(Z=Z.replace(Re,"")),(It=Z.search(/e/i))>0?(je<0&&(je=It),je+=+Z.slice(It+1),Z=Z.substring(0,It)):je<0&&(je=Z.length),It=0;Z.charAt(It)===Ot;It++);if(It===(_n=Z.length))le=[0],je=1;else{for(_n--;Z.charAt(_n)===Ot;)_n--;for(je-=It,le=[],Ft=0;It<=_n;It++,Ft++)le[Ft]=Number(Z.charAt(It))}return je>Se&&(le=le.splice(0,Se-1),B=je-1,je=1),{digits:le,exponent:B,integerLen:je}}(R);Ft&&(Nr=function z(R){if(0===R.digits[0])return R;const Z=R.digits.length-R.integerLen;return R.exponent?R.exponent+=2:(0===Z?R.digits.push(0,0):1===Z&&R.digits.push(0),R.integerLen+=2),R}(Nr));let Tr=Z.minInt,nr=Z.minFrac,Vr=Z.maxFrac;if(It){const ys=It.match(Qe);if(null===ys)throw new Error(`${It} is not a valid digit info`);const Os=ys[1],Zs=ys[3],Hi=ys[5];null!=Os&&(Tr=Gt(Os)),null!=Zs&&(nr=Gt(Zs)),null!=Hi?Vr=Gt(Hi):null!=Zs&&nr>Vr&&(Vr=nr)}!function vt(R,Z,B){if(Z>B)throw new Error(`The minimum number of digits after fraction (${Z}) is higher than the maximum (${B}).`);let le=R.digits,je=le.length-R.integerLen;const It=Math.min(Math.max(Z,je),B);let Ft=It+R.integerLen,_n=le[Ft];if(Ft>0){le.splice(Math.max(R.integerLen,Ft));for(let nr=Ft;nr<le.length;nr++)le[nr]=0}else{je=Math.max(0,je),R.integerLen=1,le.length=Math.max(1,Ft=It+1),le[0]=0;for(let nr=1;nr<Ft;nr++)le[nr]=0}if(_n>=5)if(Ft-1<0){for(let nr=0;nr>Ft;nr--)le.unshift(0),R.integerLen++;le.unshift(1),R.integerLen++}else le[Ft-1]++;for(;je<Math.max(0,It);je++)le.push(0);let Mr=0!==It;const Nr=Z+R.integerLen,Tr=le.reduceRight(function(nr,Vr,xr,li){return li[xr]=(Vr+=nr)<10?Vr:Vr-10,Mr&&(0===li[xr]&&xr>=Nr?li.pop():Mr=!1),Vr>=10?1:0},0);Tr&&(le.unshift(Tr),R.integerLen++)}(Nr,nr,Vr);let xr=Nr.digits,li=Nr.integerLen;const Xi=Nr.exponent;let ji=[];for(Mr=xr.every(ys=>!ys);li<Tr;li++)xr.unshift(0);for(;li<0;li++)xr.unshift(0);li>0?ji=xr.splice(li,xr.length):(ji=xr,xr=[0]);const Lo=[];for(xr.length>=Z.lgSize&&Lo.unshift(xr.splice(-Z.lgSize,xr.length).join(""));xr.length>Z.gSize;)Lo.unshift(xr.splice(-Z.gSize,xr.length).join(""));xr.length&&Lo.unshift(xr.join("")),_n=Lo.join(gt(B,le)),ji.length&&(_n+=gt(B,je)+ji.join("")),Xi&&(_n+=gt(B,pt.Exponential)+"+"+Xi)}else _n=gt(B,pt.Infinity);return _n=R<0&&!Mr?Z.negPre+_n+Z.negSuf:Z.posPre+_n+Z.posSuf,_n}(R,function Ve(R,Z="-"){const B={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},le=R.split(cn),je=le[0],It=le[1],Ft=-1!==je.indexOf(Re)?je.split(Re):[je.substring(0,je.lastIndexOf(Ot)+1),je.substring(je.lastIndexOf(Ot)+1)],_n=Ft[0],Mr=Ft[1]||"";B.posPre=_n.substring(0,_n.indexOf(Ar));for(let Tr=0;Tr<Mr.length;Tr++){const nr=Mr.charAt(Tr);nr===Ot?B.minFrac=B.maxFrac=Tr+1:nr===Ar?B.maxFrac=Tr+1:B.posSuf+=nr}const Nr=_n.split(xn);if(B.gSize=Nr[1]?Nr[1].length:0,B.lgSize=Nr[2]||Nr[1]?(Nr[2]||Nr[1]).length:0,It){const Tr=je.length-B.posPre.length-B.posSuf.length,nr=It.indexOf(Ar);B.negPre=It.substring(0,nr).replace(/'/g,""),B.negSuf=It.slice(nr+Tr).replace(/'/g,"")}else B.negPre=Z+B.posPre,B.negSuf=B.posSuf;return B}(function Yt(R,Z){return(0,v.cg1)(R)[v.wAp.NumberFormats][Z]}(Z,ge.Decimal),gt(Z,pt.MinusSign)),Z,pt.Group,pt.Decimal,B)}(function Pa(R){if("string"==typeof R&&!isNaN(Number(R)-parseFloat(R)))return Number(R);if("number"!=typeof R)throw new Error(`${R} is not a number`);return R}(B),je,le)}catch(It){throw Yi()}}}return R.\u0275fac=function(B){return new(B||R)(v.Y36(v.soG,16))},R.\u0275pipe=v.Yjl({name:"number",type:R,pure:!0,standalone:!0}),R})();let au=(()=>{class R{}return R.\u0275fac=function(B){return new(B||R)},R.\u0275mod=v.oAB({type:R}),R.\u0275inj=v.cJS({}),R})();const Ns="browser",ma="server";function Jo(R){return R===Ns}function ka(R){return R===ma}let Vi=(()=>{class R{}return R.\u0275prov=(0,v.Yz7)({token:R,providedIn:"root",factory:()=>new La((0,v.LFG)(re),window)}),R})();class La{constructor(Z,B){this.document=Z,this.window=B,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const B=function Fa(R,Z){const B=R.getElementById(Z)||R.getElementsByName(Z)[0];if(B)return B;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const le=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let je=le.currentNode;for(;je;){const It=je.shadowRoot;if(It){const Ft=It.getElementById(Z)||It.querySelector(`[name="${Z}"]`);if(Ft)return Ft}je=le.nextNode()}}return null}(this.document,Z);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(Z){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=Z)}}scrollToElement(Z){const B=Z.getBoundingClientRect(),le=B.left+this.window.pageXOffset,je=B.top+this.window.pageYOffset,It=this.offset();this.window.scrollTo(le-It[0],je-It[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Z=ku(this.window.history)||ku(Object.getPrototypeOf(this.window.history));return!(!Z||!Z.writable&&!Z.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ku(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class lu{}},529:(Mt,Ae,P)=>{"use strict";P.d(Ae,{JF:()=>_r,TP:()=>_e,WM:()=>X,Zn:()=>ft,eN:()=>An});var v=P(6895),H=P(4650),c=P(9646),ue=P(9751),de=P(4351),re=P(9300),se=P(4004);class W{}class ae{}class X{constructor(We){this.normalizedNames=new Map,this.lazyUpdate=null,We?this.lazyInit="string"==typeof We?()=>{this.headers=new Map,We.split("\n").forEach(ot=>{const Qt=ot.indexOf(":");if(Qt>0){const $t=ot.slice(0,Qt),Zt=$t.toLowerCase(),oe=ot.slice(Qt+1).trim();this.maybeSetNormalizedName($t,Zt),this.headers.has(Zt)?this.headers.get(Zt).push(oe):this.headers.set(Zt,[oe])}})}:()=>{this.headers=new Map,Object.entries(We).forEach(([ot,Qt])=>{let $t;if($t="string"==typeof Qt?[Qt]:"number"==typeof Qt?[Qt.toString()]:Qt.map(Zt=>Zt.toString()),$t.length>0){const Zt=ot.toLowerCase();this.headers.set(Zt,$t),this.maybeSetNormalizedName(ot,Zt)}})}:this.headers=new Map}has(We){return this.init(),this.headers.has(We.toLowerCase())}get(We){this.init();const ot=this.headers.get(We.toLowerCase());return ot&&ot.length>0?ot[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(We){return this.init(),this.headers.get(We.toLowerCase())||null}append(We,ot){return this.clone({name:We,value:ot,op:"a"})}set(We,ot){return this.clone({name:We,value:ot,op:"s"})}delete(We,ot){return this.clone({name:We,value:ot,op:"d"})}maybeSetNormalizedName(We,ot){this.normalizedNames.has(ot)||this.normalizedNames.set(ot,We)}init(){this.lazyInit&&(this.lazyInit instanceof X?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(We=>this.applyUpdate(We)),this.lazyUpdate=null))}copyFrom(We){We.init(),Array.from(We.headers.keys()).forEach(ot=>{this.headers.set(ot,We.headers.get(ot)),this.normalizedNames.set(ot,We.normalizedNames.get(ot))})}clone(We){const ot=new X;return ot.lazyInit=this.lazyInit&&this.lazyInit instanceof X?this.lazyInit:this,ot.lazyUpdate=(this.lazyUpdate||[]).concat([We]),ot}applyUpdate(We){const ot=We.name.toLowerCase();switch(We.op){case"a":case"s":let Qt=We.value;if("string"==typeof Qt&&(Qt=[Qt]),0===Qt.length)return;this.maybeSetNormalizedName(We.name,ot);const $t=("a"===We.op?this.headers.get(ot):void 0)||[];$t.push(...Qt),this.headers.set(ot,$t);break;case"d":const Zt=We.value;if(Zt){let oe=this.headers.get(ot);if(!oe)return;oe=oe.filter(Hn=>-1===Zt.indexOf(Hn)),0===oe.length?(this.headers.delete(ot),this.normalizedNames.delete(ot)):this.headers.set(ot,oe)}else this.headers.delete(ot),this.normalizedNames.delete(ot)}}forEach(We){this.init(),Array.from(this.normalizedNames.keys()).forEach(ot=>We(this.normalizedNames.get(ot),this.headers.get(ot)))}}class ce{encodeKey(We){return Ie(We)}encodeValue(We){return Ie(We)}decodeKey(We){return decodeURIComponent(We)}decodeValue(We){return decodeURIComponent(We)}}const J=/%(\d[a-f0-9])/gi,ee={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ie(Nt){return encodeURIComponent(Nt).replace(J,(We,ot)=>ee[ot]??We)}function xe(Nt){return`${Nt}`}class Fe{constructor(We={}){if(this.updates=null,this.cloneFrom=null,this.encoder=We.encoder||new ce,We.fromString){if(We.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Me(Nt,We){const ot=new Map;return Nt.length>0&&Nt.replace(/^\?/,"").split("&").forEach($t=>{const Zt=$t.indexOf("="),[oe,Hn]=-1==Zt?[We.decodeKey($t),""]:[We.decodeKey($t.slice(0,Zt)),We.decodeValue($t.slice(Zt+1))],kn=ot.get(oe)||[];kn.push(Hn),ot.set(oe,kn)}),ot}(We.fromString,this.encoder)}else We.fromObject?(this.map=new Map,Object.keys(We.fromObject).forEach(ot=>{const Qt=We.fromObject[ot],$t=Array.isArray(Qt)?Qt.map(xe):[xe(Qt)];this.map.set(ot,$t)})):this.map=null}has(We){return this.init(),this.map.has(We)}get(We){this.init();const ot=this.map.get(We);return ot?ot[0]:null}getAll(We){return this.init(),this.map.get(We)||null}keys(){return this.init(),Array.from(this.map.keys())}append(We,ot){return this.clone({param:We,value:ot,op:"a"})}appendAll(We){const ot=[];return Object.keys(We).forEach(Qt=>{const $t=We[Qt];Array.isArray($t)?$t.forEach(Zt=>{ot.push({param:Qt,value:Zt,op:"a"})}):ot.push({param:Qt,value:$t,op:"a"})}),this.clone(ot)}set(We,ot){return this.clone({param:We,value:ot,op:"s"})}delete(We,ot){return this.clone({param:We,value:ot,op:"d"})}toString(){return this.init(),this.keys().map(We=>{const ot=this.encoder.encodeKey(We);return this.map.get(We).map(Qt=>ot+"="+this.encoder.encodeValue(Qt)).join("&")}).filter(We=>""!==We).join("&")}clone(We){const ot=new Fe({encoder:this.encoder});return ot.cloneFrom=this.cloneFrom||this,ot.updates=(this.updates||[]).concat(We),ot}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(We=>this.map.set(We,this.cloneFrom.map.get(We))),this.updates.forEach(We=>{switch(We.op){case"a":case"s":const ot=("a"===We.op?this.map.get(We.param):void 0)||[];ot.push(xe(We.value)),this.map.set(We.param,ot);break;case"d":if(void 0===We.value){this.map.delete(We.param);break}{let Qt=this.map.get(We.param)||[];const $t=Qt.indexOf(xe(We.value));-1!==$t&&Qt.splice($t,1),Qt.length>0?this.map.set(We.param,Qt):this.map.delete(We.param)}}}),this.cloneFrom=this.updates=null)}}class He{constructor(){this.map=new Map}set(We,ot){return this.map.set(We,ot),this}get(We){return this.map.has(We)||this.map.set(We,We.defaultValue()),this.map.get(We)}delete(We){return this.map.delete(We),this}has(We){return this.map.has(We)}keys(){return this.map.keys()}}function Le(Nt){return typeof ArrayBuffer<"u"&&Nt instanceof ArrayBuffer}function mt(Nt){return typeof Blob<"u"&&Nt instanceof Blob}function Ue(Nt){return typeof FormData<"u"&&Nt instanceof FormData}class ge{constructor(We,ot,Qt,$t){let Zt;if(this.url=ot,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=We.toUpperCase(),function Ye(Nt){switch(Nt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||$t?(this.body=void 0!==Qt?Qt:null,Zt=$t):Zt=Qt,Zt&&(this.reportProgress=!!Zt.reportProgress,this.withCredentials=!!Zt.withCredentials,Zt.responseType&&(this.responseType=Zt.responseType),Zt.headers&&(this.headers=Zt.headers),Zt.context&&(this.context=Zt.context),Zt.params&&(this.params=Zt.params)),this.headers||(this.headers=new X),this.context||(this.context=new He),this.params){const oe=this.params.toString();if(0===oe.length)this.urlWithParams=ot;else{const Hn=ot.indexOf("?");this.urlWithParams=ot+(-1===Hn?"?":Hn<ot.length-1?"&":"")+oe}}else this.params=new Fe,this.urlWithParams=ot}serializeBody(){return null===this.body?null:Le(this.body)||mt(this.body)||Ue(this.body)||function Be(Nt){return typeof URLSearchParams<"u"&&Nt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ue(this.body)?null:mt(this.body)?this.body.type||null:Le(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(We={}){const ot=We.method||this.method,Qt=We.url||this.url,$t=We.responseType||this.responseType,Zt=void 0!==We.body?We.body:this.body,oe=void 0!==We.withCredentials?We.withCredentials:this.withCredentials,Hn=void 0!==We.reportProgress?We.reportProgress:this.reportProgress;let kn=We.headers||this.headers,Ir=We.params||this.params;const Gn=We.context??this.context;return void 0!==We.setHeaders&&(kn=Object.keys(We.setHeaders).reduce((ht,Qe)=>ht.set(Qe,We.setHeaders[Qe]),kn)),We.setParams&&(Ir=Object.keys(We.setParams).reduce((ht,Qe)=>ht.set(Qe,We.setParams[Qe]),Ir)),new ge(ot,Qt,Zt,{params:Ir,headers:kn,context:Gn,reportProgress:Hn,responseType:$t,withCredentials:oe})}}var et=(()=>((et=et||{})[et.Sent=0]="Sent",et[et.UploadProgress=1]="UploadProgress",et[et.ResponseHeader=2]="ResponseHeader",et[et.DownloadProgress=3]="DownloadProgress",et[et.Response=4]="Response",et[et.User=5]="User",et))();class _t{constructor(We,ot=200,Qt="OK"){this.headers=We.headers||new X,this.status=void 0!==We.status?We.status:ot,this.statusText=We.statusText||Qt,this.url=We.url||null,this.ok=this.status>=200&&this.status<300}}class Et extends _t{constructor(We={}){super(We),this.type=et.ResponseHeader}clone(We={}){return new Et({headers:We.headers||this.headers,status:void 0!==We.status?We.status:this.status,statusText:We.statusText||this.statusText,url:We.url||this.url||void 0})}}class ft extends _t{constructor(We={}){super(We),this.type=et.Response,this.body=void 0!==We.body?We.body:null}clone(We={}){return new ft({body:void 0!==We.body?We.body:this.body,headers:We.headers||this.headers,status:void 0!==We.status?We.status:this.status,statusText:We.statusText||this.statusText,url:We.url||this.url||void 0})}}class pt extends _t{constructor(We){super(We,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${We.url||"(unknown url)"}`:`Http failure response for ${We.url||"(unknown url)"}: ${We.status} ${We.statusText}`,this.error=We.error||null}}function vn(Nt,We){return{body:We,headers:Nt.headers,context:Nt.context,observe:Nt.observe,params:Nt.params,reportProgress:Nt.reportProgress,responseType:Nt.responseType,withCredentials:Nt.withCredentials}}let An=(()=>{class Nt{constructor(ot){this.handler=ot}request(ot,Qt,$t={}){let Zt;if(ot instanceof ge)Zt=ot;else{let kn,Ir;kn=$t.headers instanceof X?$t.headers:new X($t.headers),$t.params&&(Ir=$t.params instanceof Fe?$t.params:new Fe({fromObject:$t.params})),Zt=new ge(ot,Qt,void 0!==$t.body?$t.body:null,{headers:kn,context:$t.context,params:Ir,reportProgress:$t.reportProgress,responseType:$t.responseType||"json",withCredentials:$t.withCredentials})}const oe=(0,c.of)(Zt).pipe((0,de.b)(kn=>this.handler.handle(kn)));if(ot instanceof ge||"events"===$t.observe)return oe;const Hn=oe.pipe((0,re.h)(kn=>kn instanceof ft));switch($t.observe||"body"){case"body":switch(Zt.responseType){case"arraybuffer":return Hn.pipe((0,se.U)(kn=>{if(null!==kn.body&&!(kn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return kn.body}));case"blob":return Hn.pipe((0,se.U)(kn=>{if(null!==kn.body&&!(kn.body instanceof Blob))throw new Error("Response is not a Blob.");return kn.body}));case"text":return Hn.pipe((0,se.U)(kn=>{if(null!==kn.body&&"string"!=typeof kn.body)throw new Error("Response is not a string.");return kn.body}));default:return Hn.pipe((0,se.U)(kn=>kn.body))}case"response":return Hn;default:throw new Error(`Unreachable: unhandled observe type ${$t.observe}}`)}}delete(ot,Qt={}){return this.request("DELETE",ot,Qt)}get(ot,Qt={}){return this.request("GET",ot,Qt)}head(ot,Qt={}){return this.request("HEAD",ot,Qt)}jsonp(ot,Qt){return this.request("JSONP",ot,{params:(new Fe).append(Qt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ot,Qt={}){return this.request("OPTIONS",ot,Qt)}patch(ot,Qt,$t={}){return this.request("PATCH",ot,vn($t,Qt))}post(ot,Qt,$t={}){return this.request("POST",ot,vn($t,Qt))}put(ot,Qt,$t={}){return this.request("PUT",ot,vn($t,Qt))}}return Nt.\u0275fac=function(ot){return new(ot||Nt)(H.LFG(W))},Nt.\u0275prov=H.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})();function an(Nt,We){return We(Nt)}function Bt(Nt,We){return(ot,Qt)=>We.intercept(ot,{handle:$t=>Nt($t,Qt)})}const _e=new H.OlP("HTTP_INTERCEPTORS"),De=new H.OlP("HTTP_INTERCEPTOR_FNS");function Te(){let Nt=null;return(We,ot)=>(null===Nt&&(Nt=((0,H.f3M)(_e,{optional:!0})??[]).reduceRight(Bt,an)),Nt(We,ot))}let Ze=(()=>{class Nt extends W{constructor(ot,Qt){super(),this.backend=ot,this.injector=Qt,this.chain=null}handle(ot){if(null===this.chain){const Qt=Array.from(new Set(this.injector.get(De)));this.chain=Qt.reduceRight(($t,Zt)=>function ye(Nt,We,ot){return(Qt,$t)=>ot.runInContext(()=>We(Qt,Zt=>Nt(Zt,$t)))}($t,Zt,this.injector),an)}return this.chain(ot,Qt=>this.backend.handle(Qt))}}return Nt.\u0275fac=function(ot){return new(ot||Nt)(H.LFG(ae),H.LFG(H.lqb))},Nt.\u0275prov=H.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})();const jt=/^\)\]\}',?\n/;let tr=(()=>{class Nt{constructor(ot){this.xhrFactory=ot}handle(ot){if("JSONP"===ot.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ue.y(Qt=>{const $t=this.xhrFactory.build();if($t.open(ot.method,ot.urlWithParams),ot.withCredentials&&($t.withCredentials=!0),ot.headers.forEach((Se,Re)=>$t.setRequestHeader(Se,Re.join(","))),ot.headers.has("Accept")||$t.setRequestHeader("Accept","application/json, text/plain, */*"),!ot.headers.has("Content-Type")){const Se=ot.detectContentTypeHeader();null!==Se&&$t.setRequestHeader("Content-Type",Se)}if(ot.responseType){const Se=ot.responseType.toLowerCase();$t.responseType="json"!==Se?Se:"text"}const Zt=ot.serializeBody();let oe=null;const Hn=()=>{if(null!==oe)return oe;const Se=$t.statusText||"OK",Re=new X($t.getAllResponseHeaders()),Ot=function yn(Nt){return"responseURL"in Nt&&Nt.responseURL?Nt.responseURL:/^X-Request-URL:/m.test(Nt.getAllResponseHeaders())?Nt.getResponseHeader("X-Request-URL"):null}($t)||ot.url;return oe=new Et({headers:Re,status:$t.status,statusText:Se,url:Ot}),oe},kn=()=>{let{headers:Se,status:Re,statusText:Ot,url:cn}=Hn(),xn=null;204!==Re&&(xn=typeof $t.response>"u"?$t.responseText:$t.response),0===Re&&(Re=xn?200:0);let Ar=Re>=200&&Re<300;if("json"===ot.responseType&&"string"==typeof xn){const Dr=xn;xn=xn.replace(jt,"");try{xn=""!==xn?JSON.parse(xn):null}catch(Ds){xn=Dr,Ar&&(Ar=!1,xn={error:Ds,text:xn})}}Ar?(Qt.next(new ft({body:xn,headers:Se,status:Re,statusText:Ot,url:cn||void 0})),Qt.complete()):Qt.error(new pt({error:xn,headers:Se,status:Re,statusText:Ot,url:cn||void 0}))},Ir=Se=>{const{url:Re}=Hn(),Ot=new pt({error:Se,status:$t.status||0,statusText:$t.statusText||"Unknown Error",url:Re||void 0});Qt.error(Ot)};let Gn=!1;const ht=Se=>{Gn||(Qt.next(Hn()),Gn=!0);let Re={type:et.DownloadProgress,loaded:Se.loaded};Se.lengthComputable&&(Re.total=Se.total),"text"===ot.responseType&&$t.responseText&&(Re.partialText=$t.responseText),Qt.next(Re)},Qe=Se=>{let Re={type:et.UploadProgress,loaded:Se.loaded};Se.lengthComputable&&(Re.total=Se.total),Qt.next(Re)};return $t.addEventListener("load",kn),$t.addEventListener("error",Ir),$t.addEventListener("timeout",Ir),$t.addEventListener("abort",Ir),ot.reportProgress&&($t.addEventListener("progress",ht),null!==Zt&&$t.upload&&$t.upload.addEventListener("progress",Qe)),$t.send(Zt),Qt.next({type:et.Sent}),()=>{$t.removeEventListener("error",Ir),$t.removeEventListener("abort",Ir),$t.removeEventListener("load",kn),$t.removeEventListener("timeout",Ir),ot.reportProgress&&($t.removeEventListener("progress",ht),null!==Zt&&$t.upload&&$t.upload.removeEventListener("progress",Qe)),$t.readyState!==$t.DONE&&$t.abort()}})}}return Nt.\u0275fac=function(ot){return new(ot||Nt)(H.LFG(v.JF))},Nt.\u0275prov=H.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})();const ve=new H.OlP("XSRF_ENABLED"),F=new H.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ce=new H.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class rt{}let nt=(()=>{class Nt{constructor(ot,Qt,$t){this.doc=ot,this.platform=Qt,this.cookieName=$t,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ot=this.doc.cookie||"";return ot!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,v.Mx)(ot,this.cookieName),this.lastCookieString=ot),this.lastToken}}return Nt.\u0275fac=function(ot){return new(ot||Nt)(H.LFG(v.K0),H.LFG(H.Lbi),H.LFG(F))},Nt.\u0275prov=H.Yz7({token:Nt,factory:Nt.\u0275fac}),Nt})();function Pt(Nt,We){const ot=Nt.url.toLowerCase();if(!(0,H.f3M)(ve)||"GET"===Nt.method||"HEAD"===Nt.method||ot.startsWith("http://")||ot.startsWith("https://"))return We(Nt);const Qt=(0,H.f3M)(rt).getToken(),$t=(0,H.f3M)(Ce);return null!=Qt&&!Nt.headers.has($t)&&(Nt=Nt.clone({headers:Nt.headers.set($t,Qt)})),We(Nt)}var yt=(()=>((yt=yt||{})[yt.Interceptors=0]="Interceptors",yt[yt.LegacyInterceptors=1]="LegacyInterceptors",yt[yt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",yt[yt.NoXsrfProtection=3]="NoXsrfProtection",yt[yt.JsonpSupport=4]="JsonpSupport",yt[yt.RequestsMadeViaParent=5]="RequestsMadeViaParent",yt))();function Rt(Nt,We){return{\u0275kind:Nt,\u0275providers:We}}function kt(...Nt){const We=[An,tr,Ze,{provide:W,useExisting:Ze},{provide:ae,useExisting:tr},{provide:De,useValue:Pt,multi:!0},{provide:ve,useValue:!0},{provide:rt,useClass:nt}];for(const ot of Nt)We.push(...ot.\u0275providers);return(0,H.MR2)(We)}const Yn=new H.OlP("LEGACY_INTERCEPTOR_FN");let _r=(()=>{class Nt{}return Nt.\u0275fac=function(ot){return new(ot||Nt)},Nt.\u0275mod=H.oAB({type:Nt}),Nt.\u0275inj=H.cJS({providers:[kt(Rt(yt.LegacyInterceptors,[{provide:Yn,useFactory:Te},{provide:De,useExisting:Yn,multi:!0}]))]}),Nt})()},4650:(Mt,Ae,P)=>{"use strict";P.d(Ae,{$8M:()=>wl,$WT:()=>G,$Z:()=>mw,AFp:()=>W_,ALo:()=>Pm,AaK:()=>W,BQk:()=>$l,CHM:()=>q,CRH:()=>UE,CZH:()=>Mp,CqO:()=>jy,D6c:()=>Bh,EJc:()=>YE,EiD:()=>rs,EpF:()=>By,F$t:()=>im,F4k:()=>Vy,FYo:()=>q0,FiY:()=>Nd,Gf:()=>N_,GfV:()=>Yv,GkF:()=>lh,Gpc:()=>ne,Gre:()=>pm,Hsn:()=>Jf,JOm:()=>jo,JVY:()=>Vn,JZr:()=>Ie,Jf7:()=>Ag,KtG:()=>be,L6k:()=>Mn,LAX:()=>or,LFG:()=>_r,Lbi:()=>G_,Lck:()=>ET,MAs:()=>Rw,MGl:()=>ep,MMx:()=>I_,MR2:()=>Zb,NdJ:()=>Wc,OlP:()=>br,Oqu:()=>hm,P3R:()=>B0,PXZ:()=>X_,Q6J:()=>il,QGY:()=>Yf,QbO:()=>PT,Qsj:()=>qv,R0b:()=>ca,RDi:()=>Uv,Rgc:()=>is,SBq:()=>Pf,Sil:()=>JE,Suo:()=>FE,TTD:()=>Di,TgZ:()=>Zf,Tol:()=>um,Udp:()=>qy,VKq:()=>Pi,W1O:()=>Sp,WLB:()=>Du,X6Q:()=>Ym,XFs:()=>ve,Xpm:()=>Ar,Xts:()=>_g,Y36:()=>eh,YKP:()=>bE,YNc:()=>zc,Yjl:()=>z,Yz7:()=>gt,Z0I:()=>gn,ZZ4:()=>Uh,_Bn:()=>EE,_UZ:()=>tm,_Vd:()=>Of,_c5:()=>yb,_uU:()=>Xy,aQg:()=>rv,c2e:()=>ps,cJS:()=>Wt,cg1:()=>Gl,d8E:()=>$r,dDg:()=>nb,dqk:()=>nt,eBb:()=>$n,eFA:()=>ib,eJc:()=>Ah,ekj:()=>am,eoX:()=>Rh,evT:()=>Y0,f3M:()=>Qr,g9A:()=>Wm,h0i:()=>Ih,hGG:()=>oc,hij:()=>qc,iGM:()=>LE,ifc:()=>kn,ip1:()=>z_,jDz:()=>T_,kEZ:()=>pp,kL8:()=>d_,kYT:()=>Q,lG2:()=>Ve,lcZ:()=>Lm,lqb:()=>el,lri:()=>qi,mCW:()=>Hr,n5z:()=>bo,n_E:()=>vp,oAB:()=>$e,oJD:()=>Pl,oxw:()=>$y,pB0:()=>dr,q3G:()=>di,qLn:()=>kf,qOj:()=>Ay,qZA:()=>Hl,qzn:()=>en,rWj:()=>Km,s9C:()=>Xf,sBO:()=>cb,s_b:()=>_p,soG:()=>Rp,tBr:()=>ts,tb:()=>J_,tp0:()=>Il,uIk:()=>Yg,vHH:()=>xe,vpe:()=>xu,wAp:()=>On,xp6:()=>iw,ynx:()=>qf,z2F:()=>Ma,z3N:()=>Ut,zSh:()=>Mf,zs3:()=>Uc});var v=P(7579),H=P(727),c=P(9751),ue=P(6451),de=P(3099);function re(i){for(let s in i)if(i[s]===re)return s;throw Error("Could not find renamed property on target object.")}function se(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function W(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(W).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ae(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const X=re({__forward_ref__:re});function ne(i){return i.__forward_ref__=ne,i.toString=function(){return W(this())},i}function ce(i){return Me(i)?i():i}function Me(i){return"function"==typeof i&&i.hasOwnProperty(X)&&i.__forward_ref__===ne}function J(i){return i&&!!i.\u0275providers}const Ie="https://g.co/ng/security#xss";class xe extends Error{constructor(s,a){super(Fe(s,a)),this.code=s}}function Fe(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}function Ke(i){return"string"==typeof i?i:null==i?"":String(i)}function Ue(i,s){throw new xe(-201,!1)}function De(i,s){null==i&&function Te(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function gt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Wt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Tn(i){return dt(i,At)||dt(i,yn)}function gn(i){return null!==Tn(i)}function dt(i,s){return i.hasOwnProperty(s)?i[s]:null}function Oe(i){return i&&(i.hasOwnProperty(jt)||i.hasOwnProperty(tr))?i[jt]:null}const At=re({\u0275prov:re}),jt=re({\u0275inj:re}),yn=re({ngInjectableDef:re}),tr=re({ngInjectorDef:re});var ve=(()=>((ve=ve||{})[ve.Default=0]="Default",ve[ve.Host=1]="Host",ve[ve.Self=2]="Self",ve[ve.SkipSelf=4]="SkipSelf",ve[ve.Optional=8]="Optional",ve))();let T;function te(i){const s=T;return T=i,s}function Ce(i,s,a){const l=Tn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ve.Optional?null:void 0!==s?s:void Ue(W(i))}const nt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Rt={},kt="__NG_DI_FLAG__",Dn="ngTempTokenPath",Yn="ngTokenPath",Qn=/\n/gm,jr="\u0275",lr="__source";let Yr;function Zn(i){const s=Yr;return Yr=i,s}function Ci(i,s=ve.Default){if(void 0===Yr)throw new xe(-203,!1);return null===Yr?Ce(i,void 0,s):Yr.get(i,s&ve.Optional?null:void 0,s)}function _r(i,s=ve.Default){return(function F(){return T}()||Ci)(ce(i),s)}function Qr(i,s=ve.Default){return _r(i,Nt(s))}function Nt(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function We(i){const s=[];for(let a=0;a<i.length;a++){const l=ce(i[a]);if(Array.isArray(l)){if(0===l.length)throw new xe(900,!1);let h,g=ve.Default;for(let E=0;E<l.length;E++){const x=l[E],L=Qt(x);"number"==typeof L?-1===L?h=x.token:g|=L:h=x}s.push(_r(h,g))}else s.push(_r(l))}return s}function ot(i,s){return i[kt]=s,i.prototype[kt]=s,i}function Qt(i){return i[kt]}function oe(i){return{toString:i}.toString()}var Hn=(()=>((Hn=Hn||{})[Hn.OnPush=0]="OnPush",Hn[Hn.Default=1]="Default",Hn))(),kn=(()=>{return(i=kn||(kn={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",kn;var i})();const Ir={},Gn=[],ht=re({\u0275cmp:re}),Qe=re({\u0275dir:re}),Se=re({\u0275pipe:re}),Re=re({\u0275mod:re}),Ot=re({\u0275fac:re}),cn=re({__NG_ELEMENT_ID__:re});let xn=0;function Ar(i){return oe(()=>{const s=on(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||kn.Emulated,id:"c"+xn++,styles:i.styles||Gn,_:null,schemas:i.schemas||null,tView:null};ir(a);const l=i.dependencies;return a.directiveDefs=sr(l,!1),a.pipeDefs=sr(l,!0),a})}function Ds(i){return ze(i)||vt(i)}function Je(i){return null!==i}function $e(i){return oe(()=>({type:i.type,bootstrap:i.bootstrap||Gn,declarations:i.declarations||Gn,imports:i.imports||Gn,exports:i.exports||Gn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Q(i,s){return oe(()=>{const a=tt(i,!0);a.declarations=s.declarations||Gn,a.imports=s.imports||Gn,a.exports=s.exports||Gn})}function qe(i,s){if(null==i)return Ir;const a={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=l,s&&(s[h]=g)}return a}function Ve(i){return oe(()=>{const s=on(i);return ir(s),s})}function z(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function ze(i){return i[ht]||null}function vt(i){return i[Qe]||null}function Gt(i){return i[Se]||null}function G(i){const s=ze(i)||vt(i)||Gt(i);return null!==s&&s.standalone}function tt(i,s){const a=i[Re]||null;if(!a&&!0===s)throw new Error(`Type ${W(i)} does not have '\u0275mod' property.`);return a}function on(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||Gn,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qe(i.inputs,s),outputs:qe(i.outputs)}}function ir(i){i.features?.forEach(s=>s(i))}function sr(i,s){if(!i)return null;const a=s?Gt:Ds;return()=>("function"==typeof i?i():i).map(l=>a(l)).filter(Je)}const Wn=0,Jt=1,bn=2,Fn=3,pr=4,Wr=5,mr=6,oi=7,wr=8,Ui=9,ni=10,qn=11,fa=12,vs=13,Bi=14,mi=15,ai=16,mo=17,ro=18,xs=19,Zo=20,qo=21,Ur=22,pa=1,Ms=2,as=7,vo=8,io=9,vi=10;function Ii(i){return Array.isArray(i)&&"object"==typeof i[pa]}function Jr(i){return Array.isArray(i)&&!0===i[pa]}function Ro(i){return 0!=(4&i.flags)}function Oo(i){return i.componentOffset>-1}function ri(i){return 1==(1&i.flags)}function us(i){return!!i.template}function js(i){return 0!=(256&i[bn])}function Xr(i,s){return i.hasOwnProperty(Ot)?i[Ot]:null}class so{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Di(){return Vi}function Vi(i){return i.type.prototype.ngOnChanges&&(i.setInput=ku),La}function La(){const i=va(this),s=i?.current;if(s){const a=i.previous;if(a===Ir)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function ku(i,s,a,l){const h=this.declaredInputs[a],g=va(i)||function lu(i,s){return i[Fa]=s}(i,{previous:Ir,current:null}),E=g.current||(g.current={}),x=g.previous,L=x[h];E[h]=new so(L&&L.currentValue,s,x===Ir),i[l]=s}Di.ngInherit=!0;const Fa="__ngSimpleChanges__";function va(i){return i[Fa]||null}const xi=function(i,s,a){};function Xn(i){for(;Array.isArray(i);)i=i[Wn];return i}function ao(i,s){return Xn(s[i])}function Ti(i,s){return Xn(s[i.index])}function ei(i,s){return i.data[s]}function $s(i,s){return i[s]}function Fr(i,s){const a=s[i];return Ii(a)?a:a[Wn]}function zs(i){return 64==(64&i[bn])}function Ws(i,s){return null==s?null:i[s]}function Ba(i){i[ro]=0}function uo(i,s){i[Wr]+=s;let a=i,l=i[Fn];for(;null!==l&&(1===s&&1===a[Wr]||-1===s&&0===a[Wr]);)l[Wr]+=s,a=l,l=l[Fn]}const Xt={lFrame:cc(null),bindingsEnabled:!0};function b(){return Xt.bindingsEnabled}function D(){return Xt.lFrame.lView}function k(){return Xt.lFrame.tView}function q(i){return Xt.lFrame.contextLView=i,i[wr]}function be(i){return Xt.lFrame.contextLView=null,i}function Pe(){let i=Ge();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ge(){return Xt.lFrame.currentTNode}function xt(i,s){const a=Xt.lFrame;a.currentTNode=i,a.isParent=s}function Ct(){return Xt.lFrame.isParent}function Kt(){Xt.lFrame.isParent=!1}function hn(){const i=Xt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function cr(){return Xt.lFrame.bindingIndex++}function Er(i){const s=Xt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function ui(i,s){const a=Xt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Qi(s)}function Qi(i){Xt.lFrame.currentDirectiveIndex=i}function Gs(i){const s=Xt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function ko(){return Xt.lFrame.currentQueryIndex}function wo(i){Xt.lFrame.currentQueryIndex=i}function Ha(i){const s=i[Jt];return 2===s.type?s.declTNode:1===s.type?i[mr]:null}function Ks(i,s,a){if(a&ve.SkipSelf){let h=s,g=i;for(;!(h=h.parent,null!==h||a&ve.Host||(h=Ha(g),null===h||(g=g[mi],10&h.type))););if(null===h)return!1;s=h,i=g}const l=Xt.lFrame=$a();return l.currentTNode=s,l.lView=i,!0}function lo(i){const s=$a(),a=i[Jt];Xt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function $a(){const i=Xt.lFrame,s=null===i?null:i.child;return null===s?cc(i):s}function cc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Uu(){const i=Xt.lFrame;return Xt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Br=Uu;function Gr(){const i=Uu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ni(){return Xt.lFrame.selectedIndex}function Ji(i){Xt.lFrame.selectedIndex=i}function Kr(){const i=Xt.lFrame;return ei(i.tView,i.selectedIndex)}function _a(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:x,ngAfterViewInit:L,ngAfterViewChecked:K,ngOnDestroy:he}=g;E&&(i.contentHooks??(i.contentHooks=[])).push(-a,E),x&&((i.contentHooks??(i.contentHooks=[])).push(a,x),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(a,x)),L&&(i.viewHooks??(i.viewHooks=[])).push(-a,L),K&&((i.viewHooks??(i.viewHooks=[])).push(a,K),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(a,K)),null!=he&&(i.destroyHooks??(i.destroyHooks=[])).push(a,he)}}function hu(i,s,a){Z(i,s,3,a)}function fu(i,s,a,l){(3&i[bn])===a&&Z(i,s,a,l)}function R(i,s){let a=i[bn];(3&a)===s&&(a&=2047,a+=1,i[bn]=a)}function Z(i,s,a,l){const g=l??-1,E=s.length-1;let x=0;for(let L=void 0!==l?65535&i[ro]:0;L<E;L++)if("number"==typeof s[L+1]){if(x=s[L],null!=l&&x>=l)break}else s[L]<0&&(i[ro]+=65536),(x<g||-1==g)&&(B(i,a,s,L),i[ro]=(4294901760&i[ro])+L+2),L++}function B(i,s,a,l){const h=a[l]<0,g=a[l+1],x=i[h?-a[l]:a[l]];if(h){if(i[bn]>>11<i[ro]>>16&&(3&i[bn])===s){i[bn]+=2048,xi(4,x,g);try{g.call(x)}finally{xi(5,x,g)}}}else{xi(4,x,g);try{g.call(x)}finally{xi(5,x,g)}}}const le=-1;class je{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function xr(i,s,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const g=a[l++],E=a[l++],x=a[l++];i.setAttribute(s,E,x,g)}else{const g=h,E=a[++l];Xi(g)?i.setProperty(s,g,E):i.setAttribute(s,g,E),l++}}return l}function li(i){return 3===i||4===i||6===i}function Xi(i){return 64===i.charCodeAt(0)}function ji(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const h=s[l];"number"==typeof h?a=h:0===a||Lo(i,a,h,null,-1===a||2===a?s[++l]:null)}}return i}function Lo(i,s,a,l,h){let g=0,E=i.length;if(-1===s)E=-1;else for(;g<i.length;){const x=i[g++];if("number"==typeof x){if(x===s){E=-1;break}if(x>s){E=g-1;break}}}for(;g<i.length;){const x=i[g];if("number"==typeof x)break;if(x===a){if(null===l)return void(null!==h&&(i[g+1]=h));if(l===i[g+1])return void(i[g+2]=h)}g++,null!==l&&g++,null!==h&&g++}-1!==E&&(i.splice(E,0,s),g=E+1),i.splice(g++,0,a),null!==l&&i.splice(g++,0,l),null!==h&&i.splice(g++,0,h)}function ys(i){return i!==le}function Os(i){return 32767&i}function Hi(i,s){let a=function Zs(i){return i>>16}(i),l=s;for(;a>0;)l=l[mi],a--;return l}let Xo=!0;function pu(i){const s=Xo;return Xo=i,s}const Kh=255,Wa=5;let ea=0;const ws={};function ju(i,s){const a=cs(i,s);if(-1!==a)return a;const l=s[Jt];l.firstCreatePass&&(i.injectorIndex=s.length,Hu(l.data,i),Hu(s,null),Hu(l.blueprint,null));const h=_l(i,s),g=i.injectorIndex;if(ys(h)){const E=Os(h),x=Hi(h,s),L=x[Jt].data;for(let K=0;K<8;K++)s[g+K]=x[E+K]|L[E+K]}return s[g+8]=h,g}function Hu(i,s){i.push(0,0,0,0,0,0,0,0,s)}function cs(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function _l(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,h=s;for(;null!==h;){if(l=mc(h),null===l)return le;if(a++,h=h[mi],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return le}function qs(i,s,a){!function fc(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(cn)&&(l=a[cn]),null==l&&(l=a[cn]=ea++);const h=l&Kh;s.data[i+(h>>Wa)]|=1<<h}(i,s,a)}function pc(i,s,a){if(a&ve.Optional||void 0!==i)return i;Ue()}function wa(i,s,a,l){if(a&ve.Optional&&void 0===l&&(l=null),!(a&(ve.Self|ve.Host))){const h=i[Ui],g=te(void 0);try{return h?h.get(s,l,a&ve.Optional):Ce(s,l,a&ve.Optional)}finally{te(g)}}return pc(l,0,a)}function gu(i,s,a,l=ve.Default,h){if(null!==i){if(1024&s[bn]){const E=function ra(i,s,a,l,h){let g=i,E=s;for(;null!==g&&null!==E&&1024&E[bn]&&!(256&E[bn]);){const x=Ad(g,E,a,l|ve.Self,ws);if(x!==ws)return x;let L=g.parent;if(!L){const K=E[qo];if(K){const he=K.get(a,ws,l);if(he!==ws)return he}L=mc(E),E=E[mi]}g=L}return h}(i,s,a,l,ws);if(E!==ws)return E}const g=Ad(i,s,a,l,ws);if(g!==ws)return g}return wa(s,a,l,h)}function Ad(i,s,a,l,h){const g=function Es(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(cn)?i[cn]:void 0;return"number"==typeof s?s>=0?s&Kh:na:s}(a);if("function"==typeof g){if(!Ks(s,i,l))return l&ve.Host?pc(h,0,l):wa(s,a,l,h);try{const E=g(l);if(null!=E||l&ve.Optional)return E;Ue()}finally{Br()}}else if("number"==typeof g){let E=null,x=cs(i,s),L=le,K=l&ve.Host?s[ai][mr]:null;for((-1===x||l&ve.SkipSelf)&&(L=-1===x?_l(i,s):s[x+8],L!==le&&Eo(l,!1)?(E=s[Jt],x=Os(L),s=Hi(L,s)):x=-1);-1!==x;){const he=s[Jt];if(gc(g,x,he.data)){const ke=Dd(x,s,a,E,l,K);if(ke!==ws)return ke}L=s[x+8],L!==le&&Eo(l,s[Jt].data[x+8]===K)&&gc(g,x,s)?(E=he,x=Os(L),s=Hi(L,s)):x=-1}}return h}function Dd(i,s,a,l,h,g){const E=s[Jt],x=E.data[i+8],he=Ea(x,E,a,null==l?Oo(x)&&Xo:l!=E&&0!=(3&x.type),h&ve.Host&&g===x);return null!==he?ta(s,E,he,x):ws}function Ea(i,s,a,l,h){const g=i.providerIndexes,E=s.data,x=1048575&g,L=i.directiveStart,he=g>>20,ut=h?x+he:i.directiveEnd;for(let wt=l?x:x+he;wt<ut;wt++){const Vt=E[wt];if(wt<L&&a===Vt||wt>=L&&Vt.type===a)return wt}if(h){const wt=E[L];if(wt&&us(wt)&&wt.type===a)return L}return null}function ta(i,s,a,l){let h=i[a];const g=s.data;if(function It(i){return i instanceof je}(h)){const E=h;E.resolving&&function Ye(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new xe(-200,`Circular dependency in DI detected for ${i}${a}`)}(function He(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ke(i)}(g[a]));const x=pu(E.canSeeViewProviders);E.resolving=!0;const L=E.injectImpl?te(E.injectImpl):null;Ks(i,l,ve.Default);try{h=i[a]=E.factory(void 0,g,i,l),s.firstCreatePass&&a>=l.directiveStart&&function Sd(i,s,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(l){const E=Vi(s);(a.preOrderHooks??(a.preOrderHooks=[])).push(i,E),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,E)}h&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-i,h),g&&((a.preOrderHooks??(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],s)}finally{null!==L&&te(L),pu(x),E.resolving=!1,Br()}}return h}function gc(i,s,a){return!!(a[s+(i>>Wa)]&1<<i)}function Eo(i,s){return!(i&ve.Self||i&ve.Host&&s)}class mu{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return gu(this._tNode,this._lView,s,Nt(l),a)}}function na(){return new mu(Pe(),D())}function bo(i){return oe(()=>{const s=i.prototype.constructor,a=s[Ot]||Ga(s),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const g=h[Ot]||Ga(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Ga(i){return Me(i)?()=>{const s=Ga(ce(i));return s&&s()}:Xr(i)}function mc(i){const s=i[Jt],a=s.type;return 2===a?s.declTNode:1===a?i[mr]:null}function wl(i){return function Cd(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const g=a[h];if(li(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(g===s)return a[h+1];h+=2}}}return null}(Pe(),i)}const Ps="__parameters__";function Ys(i,s,a){return oe(()=>{const l=function vu(i){return function(...a){if(i){const l=i(...a);for(const h in l)this[h]=l[h]}}}(s);function h(...g){if(this instanceof h)return l.apply(this,g),this;const E=new h(...g);return x.annotation=E,x;function x(L,K,he){const ke=L.hasOwnProperty(Ps)?L[Ps]:Object.defineProperty(L,Ps,{value:[]})[Ps];for(;ke.length<=he;)ke.push(null);return(ke[he]=ke[he]||[]).push(E),L}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class br{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=gt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function To(i,s){i.forEach(a=>Array.isArray(a)?To(a,s):s(a))}function I(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function S(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function _(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function it(i,s,a){let l=pn(i,s);return l>=0?i[1|l]=a:(l=~l,function ie(i,s,a,l){let h=i.length;if(h==s)i.push(a,l);else if(1===h)i.push(l,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Lt(i,s){const a=pn(i,s);if(a>=0)return i[1|a]}function pn(i,s){return function gr(i,s,a){let l=0,h=i.length>>a;for(;h!==l;){const g=l+(h-l>>1),E=i[g<<a];if(s===E)return g<<a;E>s?h=g:l=g+1}return~(h<<a)}(i,s,1)}const ts=ot(Ys("Inject",i=>({token:i})),-1),Nd=ot(Ys("Optional"),8),Il=ot(Ys("SkipSelf"),4);var jo=(()=>((jo=jo||{})[jo.Important=1]="Important",jo[jo.DashCase=2]="DashCase",jo))();const Bd=new Map;let af=0;const cf="__ngContext__";function ds(i,s){Ii(s)?(i[cf]=s[Zo],function uf(i){Bd.set(i[Zo],i)}(s)):i[cf]=s}let mf;function Ac(i,s){return mf(i,s)}function Dc(i){const s=i[Fn];return Jr(s)?s[Fn]:s}function xc(i){return jd(i[vs])}function yf(i){return jd(i[pr])}function jd(i){for(;null!==i&&!Jr(i);)i=i[pr];return i}function Dl(i,s,a,l,h){if(null!=l){let g,E=!1;Jr(l)?g=l:Ii(l)&&(E=!0,l=l[Wn]);const x=Xn(l);0===i&&null!==a?null==h?Mv(s,a,x):Qu(s,a,x,h||null,!0):1===i&&null!==a?Qu(s,a,x,h||null,!0):2===i?function Sf(i,s,a){const l=hg(i,s);l&&function Rv(i,s,a,l){i.removeChild(s,a,l)}(i,l,s,a)}(s,x,E):3===i&&s.destroyNode(x),null!=g&&function Lv(i,s,a,l,h){const g=a[as];g!==Xn(a)&&Dl(s,i,l,g,h);for(let x=vi;x<a.length;x++){const L=a[x];Ml(L[Jt],L,i,s,l,g)}}(s,i,g,a,h)}}function wf(i,s,a){return i.createElement(s,a)}function Hd(i,s){const a=i[io],l=a.indexOf(s),h=s[Fn];512&s[bn]&&(s[bn]&=-513,uo(h,-1)),a.splice(l,1)}function If(i,s){if(i.length<=vi)return;const a=vi+s,l=i[a];if(l){const h=l[mo];null!==h&&h!==i&&Hd(h,l),s>0&&(i[a-1][pr]=l[pr]);const g=S(i,vi+s);!function Ef(i,s){Ml(i,s,s[qn],2,null,null),s[Wn]=null,s[mr]=null}(l[Jt],l);const E=g[xs];null!==E&&E.detachView(g[Jt]),l[Fn]=null,l[pr]=null,l[bn]&=-65}return l}function Yu(i,s){if(!(128&s[bn])){const a=s[qn];a.destroyNode&&Ml(i,s,a,3,null,null),function Cv(i){let s=i[vs];if(!s)return $d(i[Jt],i);for(;s;){let a=null;if(Ii(s))a=s[vs];else{const l=s[vi];l&&(a=l)}if(!a){for(;s&&!s[pr]&&s!==i;)Ii(s)&&$d(s[Jt],s),s=s[Fn];null===s&&(s=i),Ii(s)&&$d(s[Jt],s),a=s&&s[pr]}s=a}}(s)}}function $d(i,s){if(!(128&s[bn])){s[bn]&=-65,s[bn]|=128,function xv(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const h=s[a[l]];if(!(h instanceof je)){const g=a[l+1];if(Array.isArray(g))for(let E=0;E<g.length;E+=2){const x=h[g[E]],L=g[E+1];xi(4,x,L);try{L.call(x)}finally{xi(5,x,L)}}else{xi(4,h,g);try{g.call(h)}finally{xi(5,h,g)}}}}}(i,s),function Dv(i,s){const a=i.cleanup,l=s[oi];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const E=a[g+3];E>=0?l[h=E]():l[h=-E].unsubscribe(),g+=2}else{const E=l[h=a[g+1]];a[g].call(E)}if(null!==l){for(let g=h+1;g<l.length;g++)(0,l[g])();s[oi]=null}}(i,s),1===s[Jt].type&&s[qn].destroy();const a=s[mo];if(null!==a&&Jr(s[Fn])){a!==s[Fn]&&Hd(a,s);const l=s[xs];null!==l&&l.detachView(i)}!function lf(i){Bd.delete(i[Zo])}(s)}}function cg(i,s,a){return function dg(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[Wn];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:g}=i.data[l.directiveStart+h];if(g===kn.None||g===kn.Emulated)return null}return Ti(l,a)}}(i,s.parent,a)}function Qu(i,s,a,l,h){i.insertBefore(s,a,l,h)}function Mv(i,s,a){i.appendChild(s,a)}function Nv(i,s,a,l,h){null!==l?Qu(i,s,a,l,h):Mv(i,s,a)}function hg(i,s){return i.parentNode(s)}function Ov(i,s,a){return Tf(i,s,a)}let Nc,Kd,Ju,Zd,Tf=function Pv(i,s,a){return 40&i.type?Ti(i,a):null};function xl(i,s,a,l){const h=cg(i,l,s),g=s[qn],x=Ov(l.parent||s[mr],l,s);if(null!=h)if(Array.isArray(a))for(let L=0;L<a.length;L++)Nv(g,h,a[L],x,!1);else Nv(g,h,a,x,!1);void 0!==Nc&&Nc(g,l,s,a,h)}function zd(i,s){if(null!==s){const a=s.type;if(3&a)return Ti(s,i);if(4&a)return sa(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return zd(i,l);{const h=i[s.index];return Jr(h)?sa(-1,h):Xn(h)}}if(32&a)return Ac(s,i)()||Xn(i[s.index]);{const l=kv(i,s);return null!==l?Array.isArray(l)?l[0]:zd(Dc(i[ai]),l):zd(i,s.next)}}return null}function kv(i,s){return null!==s?i[ai][mr].projection[s.projection]:null}function sa(i,s){const a=vi+i+1;if(a<s.length){const l=s[a],h=l[Jt].firstChild;if(null!==h)return zd(l,h)}return s[as]}function Wd(i,s,a,l,h,g,E){for(;null!=a;){const x=l[a.index],L=a.type;if(E&&0===s&&(x&&ds(Xn(x),l),a.flags|=2),32!=(32&a.flags))if(8&L)Wd(i,s,a.child,l,h,g,!1),Dl(s,i,h,x,g);else if(32&L){const K=Ac(a,l);let he;for(;he=K();)Dl(s,i,h,he,g);Dl(s,i,h,x,g)}else 16&L?Gd(i,s,l,a,h,g):Dl(s,i,h,x,g);a=E?a.projectionNext:a.next}}function Ml(i,s,a,l,h,g){Wd(a,l,i.firstChild,s,h,g,!1)}function Gd(i,s,a,l,h,g){const E=a[ai],L=E[mr].projection[l.projection];if(Array.isArray(L))for(let K=0;K<L.length;K++)Dl(s,i,h,L[K],g);else Wd(i,s,L,E[Fn],h,g,!0)}function pg(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function gg(i,s,a){const{mergedAttrs:l,classes:h,styles:g}=a;null!==l&&xr(i,s,l),null!==h&&pg(i,s,h),null!==g&&function fg(i,s,a){i.setAttribute(s,"style",a)}(i,s,g)}function Za(i){return function mg(){if(void 0===Kd&&(Kd=null,nt.trustedTypes))try{Kd=nt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Kd}()?.createHTML(i)||i}function Uv(i){Ju=i}function y(){if(void 0===Zd&&(Zd=null,nt.trustedTypes))try{Zd=nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Zd}function p(i){return y()?.createHTML(i)||i}function m(i){return y()?.createScriptURL(i)||i}class A{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ie})`}}class j extends A{getTypeName(){return"HTML"}}class fe extends A{getTypeName(){return"Style"}}class we extends A{getTypeName(){return"Script"}}class Xe extends A{getTypeName(){return"URL"}}class ct extends A{getTypeName(){return"ResourceURL"}}function Ut(i){return i instanceof A?i.changingThisBreaksApplicationSecurity:i}function en(i,s){const a=function zn(i){return i instanceof A&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${Ie})`)}return a===s}function Vn(i){return new j(i)}function Mn(i){return new fe(i)}function $n(i){return new we(i)}function or(i){return new Xe(i)}function dr(i){return new ct(i)}class $i{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Za(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class zi{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Za(s),a}}const Sr=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hr(i){return(i=String(i)).match(Sr)?i:"unsafe:"+i}function qr(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Fs(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const ba=qr("area,br,col,hr,img,wbr"),Nl=qr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rl=qr("rp,rt"),Ln=Fs(ba,Fs(Nl,qr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fs(Rl,qr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fs(Rl,Nl)),Kn=qr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ns=Fs(Kn,qr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),oa=qr("script,style,template");class So{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Ln.hasOwnProperty(a))return this.sanitizedSomething=!0,!oa.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let h=0;h<l.length;h++){const g=l.item(h),E=g.name,x=E.toLowerCase();if(!ns.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let L=g.value;Kn[x]&&(L=Hr(L)),this.buf.push(" ",E,'="',Oc(L),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Ln.hasOwnProperty(a)&&!ba.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Oc(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const bu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_i=/([^\#-~ |!])/g;function Oc(i){return i.replace(/&/g,"&amp;").replace(bu,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(_i,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qd;function rs(i,s){let a=null;try{qd=qd||function Zr(i){const s=new zi(i);return function Is(){try{return!!(new window.DOMParser).parseFromString(Za(""),"text/html")}catch{return!1}}()?new $i(s):s}(i);let l=s?String(s):"";a=qd.getInertBodyElement(l);let h=5,g=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=g,g=a.innerHTML,a=qd.getInertBodyElement(l)}while(l!==g);return Za((new So).sanitizeChildren(qa(a)||a))}finally{if(a){const l=qa(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function qa(i){return"content"in i&&function ho(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var di=(()=>((di=di||{})[di.NONE=0]="NONE",di[di.HTML=1]="HTML",di[di.STYLE=2]="STYLE",di[di.SCRIPT=3]="SCRIPT",di[di.URL=4]="URL",di[di.RESOURCE_URL=5]="RESOURCE_URL",di))();function Pl(i){const s=kc();return s?p(s.sanitize(di.HTML,i)||""):en(i,"HTML")?p(Ut(i)):rs(function Oi(){return void 0!==Ju?Ju:typeof document<"u"?document:void 0}(),Ke(i))}function yg(i){const s=kc();return s?s.sanitize(di.URL,i)||"":en(i,"URL")?Ut(i):Hr(Ke(i))}function U0(i){const s=kc();if(s)return m(s.sanitize(di.RESOURCE_URL,i)||"");if(en(i,"ResourceURL"))return m(Ut(i));throw new xe(904,!1)}function B0(i,s,a){return function jv(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?U0:yg}(s,a)(i)}function kc(){const i=D();return i&&i[fa]}const _g=new br("ENVIRONMENT_INITIALIZER"),V0=new br("INJECTOR",-1),j0=new br("INJECTOR_DEF_TYPES");class wg{get(s,a=Rt){if(a===Rt){const l=new Error(`NullInjectorError: No provider for ${W(s)}!`);throw l.name="NullInjectorError",l}return a}}function Zb(i){return{\u0275providers:i}}function Hv(...i){return{\u0275providers:H0(0,i),\u0275fromNgModule:!0}}function H0(i,...s){const a=[],l=new Set;let h;return To(s,g=>{const E=g;xf(E,a,[],l)&&(h||(h=[]),h.push(E))}),void 0!==h&&Eg(h,a),a}function Eg(i,s){for(let a=0;a<i.length;a++){const{providers:h}=i[a];Lc(h,g=>{s.push(g)})}}function xf(i,s,a,l){if(!(i=ce(i)))return!1;let h=null,g=Oe(i);const E=!g&&ze(i);if(g||E){if(E&&!E.standalone)return!1;h=i}else{const L=i.ngModule;if(g=Oe(L),!g)return!1;h=L}const x=l.has(h);if(E){if(x)return!1;if(l.add(h),E.dependencies){const L="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const K of L)xf(K,s,a,l)}}else{if(!g)return!1;{if(null!=g.imports&&!x){let K;l.add(h);try{To(g.imports,he=>{xf(he,s,a,l)&&(K||(K=[]),K.push(he))})}finally{}void 0!==K&&Eg(K,s)}if(!x){const K=Xr(h)||(()=>new h);s.push({provide:h,useFactory:K,deps:Gn},{provide:j0,useValue:h,multi:!0},{provide:_g,useValue:()=>_r(h),multi:!0})}const L=g.providers;null==L||x||Lc(L,he=>{s.push(he)})}}return h!==i&&void 0!==i.providers}function Lc(i,s){for(let a of i)J(a)&&(a=a.\u0275providers),Array.isArray(a)?Lc(a,s):s(a)}const qb=re({provide:String,useValue:re});function $v(i){return null!==i&&"object"==typeof i&&qb in i}function Xu(i){return"function"==typeof i}const Mf=new br("Set Injector scope."),Nf={},$0={};let zv;function Tg(){return void 0===zv&&(zv=new wg),zv}class el{}class z0 extends el{get destroyed(){return this._destroyed}constructor(s,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rf(s,E=>this.processProvider(E)),this.records.set(V0,kl(void 0,this)),h.has("environment")&&this.records.set(el,kl(void 0,this));const g=this.records.get(Mf);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(j0.multi,Gn,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=Zn(this),l=te(void 0);try{return s()}finally{Zn(a),te(l)}}get(s,a=Rt,l=ve.Default){this.assertNotDestroyed(),l=Nt(l);const h=Zn(this),g=te(void 0);try{if(!(l&ve.SkipSelf)){let x=this.records.get(s);if(void 0===x){const L=function Sg(i){return"function"==typeof i||"object"==typeof i&&i instanceof br}(s)&&Tn(s);x=L&&this.injectableDefInScope(L)?kl(Wv(s),Nf):null,this.records.set(s,x)}if(null!=x)return this.hydrate(s,x)}return(l&ve.Self?Tg():this.parent).get(s,a=l&ve.Optional&&a===Rt?null:a)}catch(E){if("NullInjectorError"===E.name){if((E[Dn]=E[Dn]||[]).unshift(W(s)),h)throw E;return function $t(i,s,a,l){const h=i[Dn];throw s[lr]&&h.unshift(s[lr]),i.message=function Zt(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==jr?i.slice(2):i;let h=W(s);if(Array.isArray(s))h=s.map(W).join(" -> ");else if("object"==typeof s){let g=[];for(let E in s)if(s.hasOwnProperty(E)){let x=s[E];g.push(E+":"+("string"==typeof x?JSON.stringify(x):W(x)))}h=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${i.replace(Qn,"\n  ")}`}("\n"+i.message,h,a,l),i[Yn]=h,i[Dn]=null,i}(E,s,"R3InjectorError",this.source)}throw E}finally{te(g),Zn(h)}}resolveInjectorInitializers(){const s=Zn(this),a=te(void 0);try{const l=this.get(_g.multi,Gn,ve.Self);for(const h of l)h()}finally{Zn(s),te(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(W(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(s){let a=Xu(s=ce(s))?s:ce(s&&s.provide);const l=function Qb(i){return $v(i)?kl(void 0,i.useValue):kl(W0(i),Nf)}(s);if(Xu(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=kl(void 0,Nf,!0),h.factory=()=>We(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===Nf&&(a.value=$0,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Kv(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ce(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Wv(i){const s=Tn(i),a=null!==s?s.factory:Xr(i);if(null!==a)return a;if(i instanceof br)throw new xe(204,!1);if(i instanceof Function)return function Gv(i){const s=i.length;if(s>0)throw _(s,"?"),new xe(204,!1);const a=function lt(i){return i&&(i[At]||i[yn])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new xe(204,!1)}function W0(i,s,a){let l;if(Xu(i)){const h=ce(i);return Xr(h)||Wv(h)}if($v(i))l=()=>ce(i.useValue);else if(function Ig(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...We(i.deps||[]));else if(function bg(i){return!(!i||!i.useExisting)}(i))l=()=>_r(ce(i.useExisting));else{const h=ce(i&&(i.useClass||i.provide));if(!function Jb(i){return!!i.deps}(i))return Xr(h)||Wv(h);l=()=>new h(...We(i.deps))}return l}function kl(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Rf(i,s){for(const a of i)Array.isArray(a)?Rf(a,s):a&&J(a)?Rf(a.\u0275providers,s):s(a)}class G0{}class Cg{}class K0{resolveComponentFactory(s){throw function Xb(i){const s=Error(`No component factory found for ${W(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Of=(()=>{class i{}return i.NULL=new K0,i})();function Z0(){return Ll(Pe(),D())}function Ll(i,s){return new Pf(Ti(i,s))}let Pf=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Z0,i})();function tI(i){return i instanceof Pf?i.nativeElement:i}class q0{}let qv=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function nI(){const i=D(),a=Fr(Pe().index,i);return(Ii(a)?a:i)[qn]}(),i})(),rI=(()=>{class i{}return i.\u0275prov=gt({token:i,providedIn:"root",factory:()=>null}),i})();class Yv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const iI=new Yv("15.2.10"),Yd={},Qv="ngOriginalError";function Jv(i){return i[Qv]}class kf{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Jv(s);for(;a&&Jv(a);)a=Jv(a);return a||null}}function Ag(i){return i.ownerDocument.defaultView}function Y0(i){return i.ownerDocument}function tl(i){return i instanceof Function?i():i}function X0(i,s,a){let l=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const g=s.length;if(h+g===l||i.charCodeAt(h+g)<=32)return h}a=h+1}}const Dg="ng-template";function Xv(i,s,a){let l=0,h=!0;for(;l<i.length;){let g=i[l++];if("string"==typeof g&&h){const E=i[l++];if(a&&"class"===g&&-1!==X0(E.toLowerCase(),s,0))return!0}else{if(1===g){for(;l<i.length&&"string"==typeof(g=i[l++]);)if(g.toLowerCase()===s)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function ew(i){return 4===i.type&&i.value!==Dg}function ey(i,s,a){return s===(4!==i.type||a?i.value:Dg)}function hI(i,s,a){let l=4;const h=i.attrs||[],g=function $C(i){for(let s=0;s<i.length;s++)if(li(i[s]))return s;return i.length}(h);let E=!1;for(let x=0;x<s.length;x++){const L=s[x];if("number"!=typeof L){if(!E)if(4&l){if(l=2|1&l,""!==L&&!ey(i,L,a)||""===L&&1===s.length){if(Ia(l))return!1;E=!0}}else{const K=8&l?L:s[++x];if(8&l&&null!==i.attrs){if(!Xv(i.attrs,K,a)){if(Ia(l))return!1;E=!0}continue}const ke=fI(8&l?"class":L,h,ew(i),a);if(-1===ke){if(Ia(l))return!1;E=!0;continue}if(""!==K){let ut;ut=ke>g?"":h[ke+1].toLowerCase();const wt=8&l?ut:null;if(wt&&-1!==X0(wt,K,0)||2&l&&K!==ut){if(Ia(l))return!1;E=!0}}}}else{if(!E&&!Ia(l)&&!Ia(L))return!1;if(E&&Ia(L))continue;E=!1,l=L|1&l}}return Ia(l)||E}function Ia(i){return 0==(1&i)}function fI(i,s,a,l){if(null===s)return-1;let h=0;if(l||!a){let g=!1;for(;h<s.length;){const E=s[h];if(E===i)return h;if(3===E||6===E)g=!0;else{if(1===E||2===E){let x=s[++h];for(;"string"==typeof x;)x=s[++h];continue}if(4===E)break;if(0===E){h+=4;continue}}h+=g?1:2}return-1}return function ty(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function xg(i,s,a=!1){for(let l=0;l<s.length;l++)if(hI(i,s[l],a))return!0;return!1}function tw(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let h=0;h<i.length;h++)if(i[h]!==l[h])continue e;return!0}}return!1}function Lf(i,s){return i?":not("+s.trim()+")":s}function nw(i){let s=i[0],a=1,l=2,h="",g=!1;for(;a<i.length;){let E=i[a];if("string"==typeof E)if(2&l){const x=i[++a];h+="["+E+(x.length>0?'="'+x+'"':"")+"]"}else 8&l?h+="."+E:4&l&&(h+=" "+E);else""!==h&&!Ia(E)&&(s+=Lf(g,h),h=""),l=E,g=g||!Ia(l);a++}return""!==h&&(s+=Lf(g,h)),s}const hr={};function iw(i){sw(k(),D(),Ni()+i,!1)}function sw(i,s,a,l){if(!l)if(3==(3&s[bn])){const g=i.preOrderCheckHooks;null!==g&&hu(s,g,a)}else{const g=i.preOrderHooks;null!==g&&fu(s,g,0,a)}Ji(a)}function Mg(i,s=null,a=null,l){const h=lw(i,s,a,l);return h.resolveInjectorInitializers(),h}function lw(i,s=null,a=null,l,h=new Set){const g=[a||Gn,Hv(i)];return l=l||("object"==typeof i?void 0:W(i)),new z0(g,s||Tg(),l||null,h)}let Uc=(()=>{class i{static create(a,l){if(Array.isArray(a))return Mg({name:""},l,a,"");{const h=a.name??"";return Mg({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=Rt,i.NULL=new wg,i.\u0275prov=gt({token:i,providedIn:"any",factory:()=>_r(V0)}),i.__NG_ELEMENT_ID__=-1,i})();function eh(i,s=ve.Default){const a=D();return null===a?_r(i,s):gu(Pe(),a,ce(i),s)}function mw(){throw new Error("invalid")}function Pg(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const g=a[l+1];if(-1!==g){const E=i.data[g];wo(a[l]),E.contentQueries(2,s[g],g)}}}function kg(i,s,a,l,h,g,E,x,L,K,he){const ke=s.blueprint.slice();return ke[Wn]=h,ke[bn]=76|l,(null!==he||i&&1024&i[bn])&&(ke[bn]|=1024),Ba(ke),ke[Fn]=ke[mi]=i,ke[wr]=a,ke[ni]=E||i&&i[ni],ke[qn]=x||i&&i[qn],ke[fa]=L||i&&i[fa]||null,ke[Ui]=K||i&&i[Ui]||null,ke[mr]=g,ke[Zo]=function Ev(){return af++}(),ke[qo]=he,ke[ai]=2==s.type?i[ai]:ke,ke}function Fl(i,s,a,l,h){let g=i.data[s];if(null===g)g=function ly(i,s,a,l,h){const g=Ge(),E=Ct(),L=i.data[s]=function DI(i,s,a,l,h,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?g:g&&g.parent,a,s,l,h);return null===i.firstChild&&(i.firstChild=L),null!==g&&(E?null==g.child&&null!==L.parent&&(g.child=L):null===g.next&&(g.next=L,L.prev=g)),L}(i,s,a,l,h),function ti(){return Xt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=a,g.value=l,g.attrs=h;const E=function at(){const i=Xt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===E?-1:E.injectorIndex}return xt(g,!0),g}function Xs(i,s,a,l){if(0===a)return-1;const h=s.length;for(let g=0;g<a;g++)s.push(l),i.blueprint.push(l),i.data.push(null);return h}function Vc(i,s,a){lo(s);try{const l=i.viewQuery;null!==l&&Ey(1,l,a);const h=i.template;null!==h&&_w(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Pg(i,s),i.staticViewQueries&&Ey(2,i.viewQuery,a);const g=i.components;null!==g&&function yw(i,s){for(let a=0;a<s.length;a++)Bl(i,s[a])}(s,g)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[bn]&=-5,Gr()}}function Ff(i,s,a,l){const h=s[bn];if(128!=(128&h)){lo(s);try{Ba(s),function Rn(i){return Xt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&_w(i,s,a,2,l);const E=3==(3&h);if(E){const K=i.preOrderCheckHooks;null!==K&&hu(s,K,null)}else{const K=i.preOrderHooks;null!==K&&fu(s,K,0,null),R(s,0)}if(function fo(i){for(let s=xc(i);null!==s;s=yf(s)){if(!s[Ms])continue;const a=s[io];for(let l=0;l<a.length;l++){const h=a[l];512&h[bn]||uo(h[Fn],1),h[bn]|=512}}}(s),function kI(i){for(let s=xc(i);null!==s;s=yf(s))for(let a=vi;a<s.length;a++){const l=s[a],h=l[Jt];zs(l)&&Ff(h,l,h.template,l[wr])}}(s),null!==i.contentQueries&&Pg(i,s),E){const K=i.contentCheckHooks;null!==K&&hu(s,K)}else{const K=i.contentHooks;null!==K&&fu(s,K,1),R(s,1)}!function vw(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)Ji(~h);else{const g=h,E=a[++l],x=a[++l];ui(E,g),x(2,s[g])}}}finally{Ji(-1)}}(i,s);const x=i.components;null!==x&&function uy(i,s){for(let a=0;a<s.length;a++)Bg(i,s[a])}(s,x);const L=i.viewQuery;if(null!==L&&Ey(2,L,l),E){const K=i.viewCheckHooks;null!==K&&hu(s,K)}else{const K=i.viewHooks;null!==K&&fu(s,K,2),R(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[bn]&=-41,512&s[bn]&&(s[bn]&=-513,uo(s[Fn],-1))}finally{Gr()}}}function _w(i,s,a,l,h){const g=Ni(),E=2&l;try{Ji(-1),E&&s.length>Ur&&sw(i,s,Ur,!1),xi(E?2:0,h),a(l,h)}finally{Ji(g),xi(E?3:1,h)}}function Uf(i,s,a){if(Ro(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const E=i.data[g];E.contentQueries&&E.contentQueries(1,a[g],g)}}}function Bf(i,s,a){b()&&(function NI(i,s,a,l){const h=a.directiveStart,g=a.directiveEnd;Oo(a)&&function Ug(i,s,a){const l=Ti(s,i),h=dy(a),g=i[ni],E=Vf(i,kg(i,h,null,a.onPush?32:16,l,s,g,g.createRenderer(l,a),null,null,null));i[s.index]=E}(s,a,i.data[h+a.componentOffset]),i.firstCreatePass||ju(a,s),ds(l,s);const E=a.initialInputs;for(let x=h;x<g;x++){const L=i.data[x],K=ta(s,i,x,a);ds(K,s),null!==E&&wy(0,x-h,K,L,0,E),us(L)&&(Fr(a.index,s)[wr]=ta(s,i,x,a))}}(i,s,a,Ti(a,s)),64==(64&a.flags)&&Iw(i,s,a))}function cy(i,s,a=Ti){const l=s.localNames;if(null!==l){let h=s.index+1;for(let g=0;g<l.length;g+=2){const E=l[g+1],x=-1===E?a(s,i):i[E];i[h++]=x}}}function dy(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=hy(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function hy(i,s,a,l,h,g,E,x,L,K){const he=Ur+l,ke=he+h,ut=function Ul(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:hr);return a}(he,ke),wt="function"==typeof K?K():K;return ut[Jt]={type:i,blueprint:ut,template:a,queries:null,viewQuery:x,declTNode:s,data:ut.slice().fill(null,he),bindingStartIndex:he,expandoStartIndex:ke,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:L,consts:wt,incompleteFirstPass:!1}}function Ew(i,s,a,l){const h=Hf(s);null===a?h.push(l):(h.push(a),i.firstCreatePass&&Qa(i).push(l,h.length-1))}function bw(i,s,a,l){for(let h in i)if(i.hasOwnProperty(h)){a=null===a?{}:a;const g=i[h];null===l?fy(a,s,h,g):l.hasOwnProperty(h)&&fy(a,s,l[h],g)}return a}function fy(i,s,a,l){i.hasOwnProperty(a)?i[a].push(s,l):i[a]=[s,l]}function Co(i,s,a,l,h,g,E,x){const L=Ti(s,a);let he,K=s.inputs;!x&&null!=K&&(he=K[l])?(by(i,a,he,l,h),Oo(s)&&function xI(i,s){const a=Fr(s,i);16&a[bn]||(a[bn]|=32)}(a,s.index)):3&s.type&&(l=function py(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=E?E(h,s.value||"",l):h,g.setProperty(L,l,h))}function Fg(i,s,a,l){if(b()){const h=null===l?null:{"":-1},g=function OI(i,s){const a=i.directiveRegistry;let l=null,h=null;if(a)for(let g=0;g<a.length;g++){const E=a[g];if(xg(s,E.selectors,!1))if(l||(l=[]),us(E))if(null!==E.findHostDirectiveDefs){const x=[];h=h||new Map,E.findHostDirectiveDefs(E,x,h),l.unshift(...x,E),vy(i,s,x.length)}else l.unshift(E),vy(i,s,0);else h=h||new Map,E.findHostDirectiveDefs?.(E,l,h),l.push(E)}return null===l?null:[l,h]}(i,a);let E,x;null===g?E=x=null:[E,x]=g,null!==E&&gy(i,s,a,E,h,x),h&&function Ya(i,s,a){if(s){const l=i.localNames=[];for(let h=0;h<s.length;h+=2){const g=a[s[h+1]];if(null==g)throw new xe(-301,!1);l.push(s[h],g)}}}(a,l,h)}a.mergedAttrs=ji(a.mergedAttrs,a.attrs)}function gy(i,s,a,l,h,g){for(let K=0;K<l.length;K++)qs(ju(a,s),i,l[K].type);!function yy(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,l.length);for(let K=0;K<l.length;K++){const he=l[K];he.providersResolver&&he.providersResolver(he)}let E=!1,x=!1,L=Xs(i,s,l.length,null);for(let K=0;K<l.length;K++){const he=l[K];a.mergedAttrs=ji(a.mergedAttrs,he.hostAttrs),ar(i,a,s,L,he),In(L,he,h),null!==he.contentQueries&&(a.flags|=4),(null!==he.hostBindings||null!==he.hostAttrs||0!==he.hostVars)&&(a.flags|=64);const ke=he.type.prototype;!E&&(ke.ngOnChanges||ke.ngOnInit||ke.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(a.index),E=!0),!x&&(ke.ngOnChanges||ke.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(a.index),x=!0),L++}!function Ho(i,s,a){const h=s.directiveEnd,g=i.data,E=s.attrs,x=[];let L=null,K=null;for(let he=s.directiveStart;he<h;he++){const ke=g[he],ut=a?a.get(ke):null,Vt=ut?ut.outputs:null;L=bw(ke.inputs,he,L,ut?ut.inputs:null),K=bw(ke.outputs,he,K,Vt);const un=null===L||null===E||ew(s)?null:PI(L,he,E);x.push(un)}null!==L&&(L.hasOwnProperty("class")&&(s.flags|=8),L.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=x,s.inputs=L,s.outputs=K}(i,a,g)}function Iw(i,s,a){const l=a.directiveStart,h=a.directiveEnd,g=a.index,E=function ii(){return Xt.lFrame.currentDirectiveIndex}();try{Ji(g);for(let x=l;x<h;x++){const L=i.data[x],K=s[x];Qi(x),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&RI(L,K)}}finally{Ji(-1),Qi(E)}}function RI(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function vy(i,s,a){s.componentOffset=a,(i.components??(i.components=[])).push(s.index)}function In(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;us(s)&&(a[""]=i)}}function ar(i,s,a,l,h){i.data[l]=h;const g=h.factory||(h.factory=Xr(h.type)),E=new je(g,us(h),eh);i.blueprint[l]=E,a[l]=E,function MI(i,s,a,l,h){const g=h.hostBindings;if(g){let E=i.hostBindingOpCodes;null===E&&(E=i.hostBindingOpCodes=[]);const x=~s.index;(function my(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(E)!=x&&E.push(x),E.push(a,l,g)}}(i,s,l,Xs(i,a,h.hostVars,hr),h)}function $o(i,s,a,l,h,g){const E=Ti(i,s);!function _y(i,s,a,l,h,g,E){if(null==g)i.removeAttribute(s,h,a);else{const x=null==E?Ke(g):E(g,l||"",h);i.setAttribute(s,h,x,a)}}(s[qn],E,g,i.value,a,l,h)}function wy(i,s,a,l,h,g){const E=g[s];if(null!==E){const x=l.setInput;for(let L=0;L<E.length;){const K=E[L++],he=E[L++],ke=E[L++];null!==x?l.setInput(a,ke,K,he):a[he]=ke}}}function PI(i,s,a){let l=null,h=0;for(;h<a.length;){const g=a[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(i.hasOwnProperty(g)){null===l&&(l=[]);const E=i[g];for(let x=0;x<E.length;x+=2)if(E[x]===s){l.push(g,E[x+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function Tw(i,s,a,l){return[i,!0,!1,s,null,0,l,a,null,null]}function Bg(i,s){const a=Fr(s,i);if(zs(a)){const l=a[Jt];48&a[bn]?Ff(l,a,l.template,a[wr]):a[Wr]>0&&hs(a)}}function hs(i){for(let l=xc(i);null!==l;l=yf(l))for(let h=vi;h<l.length;h++){const g=l[h];if(zs(g))if(512&g[bn]){const E=g[Jt];Ff(E,g,E.template,g[wr])}else g[Wr]>0&&hs(g)}const a=i[Jt].components;if(null!==a)for(let l=0;l<a.length;l++){const h=Fr(a[l],i);zs(h)&&h[Wr]>0&&hs(h)}}function Bl(i,s){const a=Fr(s,i),l=a[Jt];(function LI(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Vc(l,a,a[wr])}function Vf(i,s){return i[vs]?i[Bi][pr]=s:i[vs]=s,i[Bi]=s,s}function th(i){for(;i;){i[bn]|=32;const s=Dc(i);if(js(i)&&!s)return i;i=s}return null}function jf(i,s,a,l=!0){const h=s[ni];h.begin&&h.begin();try{Ff(i,s,i.template,a)}catch(E){throw l&&Sw(s,E),E}finally{h.end&&h.end()}}function Ey(i,s,a){wo(0),s(i,a)}function Hf(i){return i[oi]||(i[oi]=[])}function Qa(i){return i.cleanup||(i.cleanup=[])}function Sw(i,s){const a=i[Ui],l=a?a.get(kf,null):null;l&&l.handleError(s)}function by(i,s,a,l,h){for(let g=0;g<a.length;){const E=a[g++],x=a[g++],L=s[E],K=i.data[E];null!==K.setInput?K.setInput(L,h,l,x):L[x]=h}}function $f(i,s,a){let l=a?i.styles:null,h=a?i.classes:null,g=0;if(null!==s)for(let E=0;E<s.length;E++){const x=s[E];"number"==typeof x?g=x:1==g?h=ae(h,x):2==g&&(l=ae(l,x+": "+s[++E]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=h:i.classesWithoutHost=h}function nh(i,s,a,l,h=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&l.push(Xn(g)),Jr(g))for(let x=vi;x<g.length;x++){const L=g[x],K=L[Jt].firstChild;null!==K&&nh(L[Jt],L,K,l)}const E=a.type;if(8&E)nh(i,s,a.child,l);else if(32&E){const x=Ac(a,s);let L;for(;L=x();)l.push(L)}else if(16&E){const x=kv(s,a);if(Array.isArray(x))l.push(...x);else{const L=Dc(s[ai]);nh(L[Jt],L,x,l,!0)}}a=h?a.projectionNext:a.next}return l}class rh{get rootNodes(){const s=this._lView,a=s[Jt];return nh(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wr]}set context(s){this._lView[wr]=s}get destroyed(){return 128==(128&this._lView[bn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Fn];if(Jr(s)){const a=s[vo],l=a?a.indexOf(this):-1;l>-1&&(If(s,l),S(a,l))}this._attachedToViewContainer=!1}Yu(this._lView[Jt],this._lView)}onDestroy(s){Ew(this._lView[Jt],this._lView,null,s)}markForCheck(){th(this._cdRefInjectingView||this._lView)}detach(){this._lView[bn]&=-65}reattach(){this._lView[bn]|=64}detectChanges(){jf(this._lView[Jt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bf(i,s){Ml(i,s,s[qn],2,null,null)}(this._lView[Jt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=s}}class FI extends rh{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;jf(s[Jt],s,s[wr],!1)}checkNoChanges(){}get context(){return null}}class Iy extends Of{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=ze(s);return new jc(a,this.ngModule)}}function Hg(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Sy{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){l=Nt(l);const h=this.injector.get(s,Yd,l);return h!==Yd||a===Yd?h:this.parentInjector.get(s,a,l)}}class jc extends Cg{get inputs(){return Hg(this.componentDef.inputs)}get outputs(){return Hg(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function rw(i){return i.map(nw).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,l,h){let g=(h=h||this.ngModule)instanceof el?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const E=g?new Sy(s,g):s,x=E.get(q0,null);if(null===x)throw new xe(407,!1);const L=E.get(rI,null),K=x.createRenderer(null,this.componentDef),he=this.componentDef.selectors[0][0]||"div",ke=l?function ww(i,s,a){return i.selectRootElement(s,a===kn.ShadowDom)}(K,l,this.componentDef.encapsulation):wf(K,he,function Ty(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(he)),ut=this.componentDef.onPush?288:272,wt=hy(0,null,null,1,0,null,null,null,null,null),Vt=kg(null,wt,null,ut,null,null,x,K,L,E,null);let un,ln;lo(Vt);try{const Un=this.componentDef;let Jn,tn=null;Un.findHostDirectiveDefs?(Jn=[],tn=new Map,Un.findHostDirectiveDefs(Un,Jn,tn),Jn.push(Un)):Jn=[Un];const ur=function BI(i,s){const a=i[Jt],l=Ur;return i[l]=s,Fl(a,l,2,"#host",null)}(Vt,ke),gi=function zf(i,s,a,l,h,g,E,x){const L=h[Jt];!function VI(i,s,a,l){for(const h of i)s.mergedAttrs=ji(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&($f(s,s.mergedAttrs,!0),null!==a&&gg(l,a,s))}(l,i,s,E);const K=g.createRenderer(s,a),he=kg(h,dy(a),null,a.onPush?32:16,h[i.index],i,g,K,x||null,null,null);return L.firstCreatePass&&vy(L,i,l.length-1),Vf(h,he),h[i.index]=he}(ur,ke,Un,Jn,Vt,x,K);ln=ei(wt,Ur),ke&&function jI(i,s,a,l){if(l)xr(i,a,["ng-version",iI.full]);else{const{attrs:h,classes:g}=function gI(i){const s=[],a=[];let l=1,h=2;for(;l<i.length;){let g=i[l];if("string"==typeof g)2===h?""!==g&&s.push(g,i[++l]):8===h&&a.push(g);else{if(!Ia(h))break;h=g}l++}return{attrs:s,classes:a}}(s.selectors[0]);h&&xr(i,a,h),g&&g.length>0&&pg(i,a,g.join(" "))}}(K,Un,ke,l),void 0!==a&&function HI(i,s,a){const l=i.projection=[];for(let h=0;h<s.length;h++){const g=a[h];l.push(null!=g?Array.from(g):null)}}(ln,this.ngContentSelectors,a),un=function Wf(i,s,a,l,h,g){const E=Pe(),x=h[Jt],L=Ti(E,h);gy(x,h,E,a,null,l);for(let he=0;he<a.length;he++)ds(ta(h,x,E.directiveStart+he,E),h);Iw(x,h,E),L&&ds(L,h);const K=ta(h,x,E.directiveStart+E.componentOffset,E);if(i[wr]=h[wr]=K,null!==g)for(const he of g)he(K,s);return Uf(x,E,i),K}(gi,Un,Jn,tn,Vt,[$g]),Vc(wt,Vt,null)}finally{Gr()}return new Cy(this.componentType,un,Ll(ln,Vt),Vt,ln)}}class Cy extends G0{constructor(s,a,l,h,g){super(),this.location=l,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new FI(h),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[s])){const g=this._rootLView;by(g[Jt],g,h,s,a),th(Fr(this._tNode.index,g))}}get injector(){return new mu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function $g(){const i=Pe();_a(D()[Jt],i)}function Ay(i){let s=function zg(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let h;if(us(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new xe(903,!1);h=s.\u0275dir}if(h){if(a){l.push(h);const E=i;E.inputs=Wg(i.inputs),E.declaredInputs=Wg(i.declaredInputs),E.outputs=Wg(i.outputs);const x=h.hostBindings;x&&Dy(i,x);const L=h.viewQuery,K=h.contentQueries;if(L&&Aw(i,L),K&&Gg(i,K),se(i.inputs,h.inputs),se(i.declaredInputs,h.declaredInputs),se(i.outputs,h.outputs),us(h)&&h.data.animation){const he=i.data;he.animation=(he.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let E=0;E<g.length;E++){const x=g[E];x&&x.ngInherit&&x(i),x===Ay&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Cw(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=s+=h.hostVars,h.hostAttrs=ji(h.hostAttrs,a=ji(a,h.hostAttrs))}}(l)}function Wg(i){return i===Ir?{}:i===Gn?[]:i}function Aw(i,s){const a=i.viewQuery;i.viewQuery=a?(l,h)=>{s(l,h),a(l,h)}:s}function Gg(i,s){const a=i.contentQueries;i.contentQueries=a?(l,h,g)=>{s(l,h,g),a(l,h,g)}:s}function Dy(i,s){const a=i.hostBindings;i.hostBindings=a?(l,h)=>{s(l,h),a(l,h)}:s}function Zg(i){return!!Gf(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Gf(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function hi(i,s,a){return i[s]=a}function Bs(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Hc(i,s,a,l){const h=Bs(i,s,a);return Bs(i,s+1,l)||h}function Yg(i,s,a,l){const h=D();return Bs(h,cr(),s)&&(k(),$o(Kr(),h,i,s,a,l)),Yg}function sh(i,s,a,l){return Bs(i,cr(),a)?s+Ke(a)+l:hr}function zc(i,s,a,l,h,g,E,x){const L=D(),K=k(),he=i+Ur,ke=K.firstCreatePass?function GI(i,s,a,l,h,g,E,x,L){const K=s.consts,he=Fl(s,i,4,E||null,Ws(K,x));Fg(s,a,he,Ws(K,L)),_a(s,he);const ke=he.tView=hy(2,he,l,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,K);return null!==s.queries&&(s.queries.template(s,he),ke.queries=s.queries.embeddedTView(he)),he}(he,K,L,s,a,l,h,g,E):K.data[he];xt(ke,!1);const ut=L[qn].createComment("");xl(K,L,ut,ke),ds(ut,L),Vf(L,L[he]=Tw(ut,L,ut,ke)),ri(ke)&&Bf(K,L,ke),null!=E&&cy(L,ke,x)}function Rw(i){return $s(function rn(){return Xt.lFrame.contextLView}(),Ur+i)}function il(i,s,a){const l=D();return Bs(l,cr(),s)&&Co(k(),Kr(),l,i,s,l[qn],a,!1),il}function Xg(i,s,a,l,h){const E=h?"class":"style";by(i,a,s.inputs[E],E,l)}function Zf(i,s,a,l){const h=D(),g=k(),E=Ur+i,x=h[qn],L=g.firstCreatePass?function em(i,s,a,l,h,g){const E=s.consts,L=Fl(s,i,2,l,Ws(E,h));return Fg(s,a,L,Ws(E,g)),null!==L.attrs&&$f(L,L.attrs,!1),null!==L.mergedAttrs&&$f(L,L.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,L),L}(E,g,h,s,a,l):g.data[E],K=h[E]=wf(x,s,function Vu(){return Xt.lFrame.currentNamespace}()),he=ri(L);return xt(L,!0),gg(x,K,L),32!=(32&L.flags)&&xl(g,h,K,L),0===function Fu(){return Xt.lFrame.elementDepthCount}()&&ds(K,h),function ja(){Xt.lFrame.elementDepthCount++}(),he&&(Bf(g,h,L),Uf(g,L,h)),null!==l&&cy(h,L),Zf}function Hl(){let i=Pe();Ct()?Kt():(i=i.parent,xt(i,!1));const s=i;!function U(){Xt.lFrame.elementDepthCount--}();const a=k();return a.firstCreatePass&&(_a(a,i),Ro(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Nr(i){return 0!=(8&i.flags)}(s)&&Xg(a,s,D(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Tr(i){return 0!=(16&i.flags)}(s)&&Xg(a,s,D(),s.stylesWithoutHost,!1),Hl}function tm(i,s,a,l){return Zf(i,s,a,l),Hl(),tm}function qf(i,s,a){const l=D(),h=k(),g=i+Ur,E=h.firstCreatePass?function Do(i,s,a,l,h){const g=s.consts,E=Ws(g,l),x=Fl(s,i,8,"ng-container",E);return null!==E&&$f(x,E,!0),Fg(s,a,x,Ws(g,h)),null!==s.queries&&s.queries.elementStart(s,x),x}(g,h,l,s,a):h.data[g];xt(E,!0);const x=l[g]=l[qn].createComment("");return xl(h,l,x,E),ds(x,l),ri(E)&&(Bf(h,l,E),Uf(h,E,l)),null!=a&&cy(l,E),qf}function $l(){let i=Pe();const s=k();return Ct()?Kt():(i=i.parent,xt(i,!1)),s.firstCreatePass&&(_a(s,i),Ro(i)&&s.queries.elementEnd(i)),$l}function lh(i,s,a){return qf(i,s,a),$l(),lh}function By(){return D()}function Yf(i){return!!i&&"function"==typeof i.then}function Vy(i){return!!i&&"function"==typeof i.subscribe}const jy=Vy;function Wc(i,s,a,l){const h=D(),g=k(),E=Pe();return function rm(i,s,a,l,h,g,E){const x=ri(l),K=i.firstCreatePass&&Qa(i),he=s[wr],ke=Hf(s);let ut=!0;if(3&l.type||E){const un=Ti(l,s),ln=E?E(un):un,Un=ke.length,Jn=E?ur=>E(Xn(ur[l.index])):l.index;let tn=null;if(!E&&x&&(tn=function Hy(i,s,a,l){const h=i.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const E=h[g];if(E===a&&h[g+1]===l){const x=s[oi],L=h[g+2];return x.length>L?x[L]:null}"string"==typeof E&&(g+=2)}return null}(i,s,h,l.index)),null!==tn)(tn.__ngLastListenerFn__||tn).__ngNextListenerFn__=g,tn.__ngLastListenerFn__=g,ut=!1;else{g=ch(l,s,he,g,!1);const ur=a.listen(ln,h,g);ke.push(g,ur),K&&K.push(h,Jn,Un,Un+1)}}else g=ch(l,s,he,g,!1);const wt=l.outputs;let Vt;if(ut&&null!==wt&&(Vt=wt[h])){const un=Vt.length;if(un)for(let ln=0;ln<un;ln+=2){const gi=s[Vt[ln]][Vt[ln+1]].subscribe(g),ss=ke.length;ke.push(g,gi),K&&K.push(h,l.index,ss,-(ss+1))}}}(g,h,h[qn],E,i,s,l),Wc}function Qf(i,s,a,l){try{return xi(6,s,a),!1!==a(l)}catch(h){return Sw(i,h),!1}finally{xi(7,s,a)}}function ch(i,s,a,l,h){return function g(E){if(E===Function)return l;th(i.componentOffset>-1?Fr(i.index,s):s);let L=Qf(s,a,l,E),K=g.__ngNextListenerFn__;for(;K;)L=Qf(s,a,K,E)&&L,K=K.__ngNextListenerFn__;return h&&!1===L&&(E.preventDefault(),E.returnValue=!1),L}}function $y(i=1){return function Bu(i){return(Xt.lFrame.contextLView=function za(i,s){for(;i>0;)s=s[mi],i--;return s}(i,Xt.lFrame.contextLView))[wr]}(i)}function ZI(i,s){let a=null;const l=function pI(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(i);for(let h=0;h<s.length;h++){const g=s[h];if("*"!==g){if(null===l?xg(i,g,!0):tw(l,g))return h}else a=h}return a}function im(i){const s=D()[ai][mr];if(!s.projection){const l=s.projection=_(i?i.length:1,null),h=l.slice();let g=s.child;for(;null!==g;){const E=i?ZI(g,i):0;null!==E&&(h[E]?h[E].projectionNext=g:l[E]=g,h[E]=g),g=g.next}}}function Jf(i,s=0,a){const l=D(),h=k(),g=Fl(h,Ur+i,16,null,a||null);null===g.projection&&(g.projection=s),Kt(),32!=(32&g.flags)&&function Cf(i,s,a){Gd(s[qn],0,s,a,cg(i,a,s),Ov(a.parent||s[mr],a,s))}(h,l,g)}function Xf(i,s,a){return ep(i,"",s,"",a),Xf}function ep(i,s,a,l,h){const g=D(),E=sh(g,s,a,l);return E!==hr&&Co(k(),Kr(),g,i,E,g[qn],h,!1),ep}function fh(i,s){return i<<17|s<<2}function Wl(i){return i>>17&32767}function sm(i){return 2|i}function Gc(i){return(131068&i)>>2}function sl(i,s){return-131069&i|s<<2}function ph(i){return 1|i}function gh(i,s,a,l,h){const g=i[a+1],E=null===s;let x=l?Wl(g):Gc(g),L=!1;for(;0!==x&&(!1===L||E);){const he=i[x+1];np(i[x],s)&&(L=!0,i[x+1]=l?ph(he):sm(he)),x=l?Wl(he):Gc(he)}L&&(i[a+1]=l?sm(g):ph(g))}function np(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&pn(i,s)>=0}const Ts={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zy(i){return i.substring(Ts.key,Ts.keyEnd)}function kw(i,s){const a=Ts.textEnd;return a===s?-1:(s=Ts.keyEnd=function Lw(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Ts.key=s,a),Kc(i,s,a))}function Kc(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function qy(i,s,a){return Sa(i,s,a,!1),qy}function am(i,s){return Sa(i,s,null,!0),am}function um(i){eu(rT,Xa,i,!0)}function Xa(i,s){for(let a=function JI(i){return function al(i){Ts.key=0,Ts.keyEnd=0,Ts.value=0,Ts.valueEnd=0,Ts.textEnd=i.length}(i),kw(i,Kc(i,0,Ts.textEnd))}(s);a>=0;a=kw(s,a))it(i,Zy(s),!0)}function Sa(i,s,a,l){const h=D(),g=k(),E=Er(2);g.firstUpdatePass&&Vw(g,i,E,l),s!==hr&&Bs(h,E,s)&&Qy(g,g.data[Ni()],h,h[qn],i,h[E+1]=function iT(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=W(Ut(i)))),i}(s,a),l,E)}function eu(i,s,a,l){const h=k(),g=Er(2);h.firstUpdatePass&&Vw(h,null,g,l);const E=D();if(a!==hr&&Bs(E,g,a)){const x=h.data[Ni()];if(Jy(x,l)&&!Bw(h,g)){let L=l?x.classesWithoutHost:x.stylesWithoutHost;null!==L&&(a=ae(L,a||"")),Xg(h,x,E,a,l)}else!function Wi(i,s,a,l,h,g,E,x){h===hr&&(h=Gn);let L=0,K=0,he=0<h.length?h[0]:null,ke=0<g.length?g[0]:null;for(;null!==he||null!==ke;){const ut=L<h.length?h[L+1]:void 0,wt=K<g.length?g[K+1]:void 0;let un,Vt=null;he===ke?(L+=2,K+=2,ut!==wt&&(Vt=ke,un=wt)):null===ke||null!==he&&he<ke?(L+=2,Vt=he):(K+=2,Vt=ke,un=wt),null!==Vt&&Qy(i,s,a,l,Vt,un,E,x),he=L<h.length?h[L]:null,ke=K<g.length?g[K]:null}}(h,x,E,E[qn],E[g+1],E[g+1]=function sp(i,s,a){if(null==a||""===a)return Gn;const l=[],h=Ut(a);if(Array.isArray(h))for(let g=0;g<h.length;g++)i(l,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&i(l,g,h[g]);else"string"==typeof h&&s(l,h);return l}(i,s,a),l,g)}}function Bw(i,s){return s>=i.expandoStartIndex}function Vw(i,s,a,l){const h=i.data;if(null===h[a+1]){const g=h[Ni()],E=Bw(i,a);Jy(g,l)&&null===s&&!E&&(s=!1),s=function nT(i,s,a,l){const h=Gs(i);let g=l?s.residualClasses:s.residualStyles;if(null===h)0===(l?s.classBindings:s.styleBindings)&&(a=vh(a=ip(null,i,s,a,l),s.attrs,l),g=null);else{const E=s.directiveStylingLast;if(-1===E||i[E]!==h)if(a=ip(h,i,s,a,l),null===g){let L=function lm(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Gc(l))return i[Wl(l)]}(i,s,l);void 0!==L&&Array.isArray(L)&&(L=ip(null,i,s,L[1],l),L=vh(L,s.attrs,l),function rp(i,s,a,l){i[Wl(a?s.classBindings:s.styleBindings)]=l}(i,s,l,L))}else g=function cm(i,s,a){let l;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)l=vh(l,i[g].hostAttrs,a);return vh(l,s.attrs,a)}(i,s,l)}return void 0!==g&&(l?s.residualClasses=g:s.residualStyles=g),a}(h,g,s,l),function wi(i,s,a,l,h,g){let E=g?s.classBindings:s.styleBindings,x=Wl(E),L=Gc(E);i[l]=a;let he,K=!1;if(Array.isArray(a)?(he=a[1],(null===he||pn(a,he)>0)&&(K=!0)):he=a,h)if(0!==L){const ut=Wl(i[x+1]);i[l+1]=fh(ut,x),0!==ut&&(i[ut+1]=sl(i[ut+1],l)),i[x+1]=function Pw(i,s){return 131071&i|s<<17}(i[x+1],l)}else i[l+1]=fh(x,0),0!==x&&(i[x+1]=sl(i[x+1],l)),x=l;else i[l+1]=fh(L,0),0===x?x=l:i[L+1]=sl(i[L+1],l),L=l;K&&(i[l+1]=sm(i[l+1])),gh(i,he,l,!0),gh(i,he,l,!1),function om(i,s,a,l,h){const g=h?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&pn(g,s)>=0&&(a[l+1]=ph(a[l+1]))}(s,he,i,l,g),E=fh(x,L),g?s.classBindings=E:s.styleBindings=E}(h,g,s,a,E,l)}}function ip(i,s,a,l,h){let g=null;const E=a.directiveEnd;let x=a.directiveStylingLast;for(-1===x?x=a.directiveStart:x++;x<E&&(g=s[x],l=vh(l,g.hostAttrs,h),g!==i);)x++;return null!==i&&(a.directiveStylingLast=x),l}function vh(i,s,a){const l=a?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const E=s[g];"number"==typeof E?h=E:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),it(i,E,!!a||s[++g]))}return void 0===i?null:i}function rT(i,s,a){const l=String(s);""!==l&&!l.includes(" ")&&it(i,l,a)}function Qy(i,s,a,l,h,g,E,x){if(!(3&s.type))return;const L=i.data,K=L[x+1],he=function ol(i){return 1==(1&i)}(K)?jw(L,s,a,h,Gc(K),E):void 0;dm(he)||(dm(g)||function qI(i){return 2==(2&i)}(K)&&(g=jw(L,null,a,h,x,E)),function Rc(i,s,a,l,h){if(s)h?i.addClass(a,l):i.removeClass(a,l);else{let g=-1===l.indexOf("-")?void 0:jo.DashCase;null==h?i.removeStyle(a,l,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=jo.Important),i.setStyle(a,l,h,g))}}(l,E,ao(Ni(),a),h,g))}function jw(i,s,a,l,h,g){const E=null===s;let x;for(;h>0;){const L=i[h],K=Array.isArray(L),he=K?L[1]:L,ke=null===he;let ut=a[h+1];ut===hr&&(ut=ke?Gn:void 0);let wt=ke?Lt(ut,l):he===l?ut:void 0;if(K&&!dm(wt)&&(wt=Lt(L,l)),dm(wt)&&(x=wt,E))return x;const Vt=i[h+1];h=E?Wl(Vt):Gc(Vt)}if(null!==s){let L=g?s.residualClasses:s.residualStyles;null!=L&&(x=Lt(L,l))}return x}function dm(i){return void 0!==i}function Jy(i,s){return 0!=(i.flags&(s?8:16))}function Xy(i,s=""){const a=D(),l=k(),h=i+Ur,g=l.firstCreatePass?Fl(l,h,1,s,null):l.data[h],E=a[h]=function Mc(i,s){return i.createText(s)}(a[qn],s);xl(l,a,E,g),xt(g,!1)}function hm(i){return qc("",i,""),hm}function qc(i,s,a){const l=D(),h=sh(l,i,s,a);return h!==hr&&function zo(i,s,a){const l=ao(s,i);!function ug(i,s,a){i.setValue(s,a)}(i[qn],l,a)}(l,Ni(),h),qc}function pm(i,s,a){eu(it,Xa,sh(D(),i,s,a),!0)}function $r(i,s,a){const l=D();if(Bs(l,cr(),s)){const g=k(),E=Kr();Co(g,E,l,i,s,function jg(i,s,a){return(null===i||us(i))&&(a=function Mi(i){for(;Array.isArray(i);){if("object"==typeof i[pa])return i;i=i[Wn]}return null}(a[s.index])),a[qn]}(Gs(g.data),E,l),a,!0)}return $r}const Jc=void 0;var Su=["en",[["a","p"],["AM","PM"],Jc],[["AM","PM"],Jc,Jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jc,"{1} 'at' {0}",Jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function c_(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Xc={};function Gl(i){const s=function _m(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Cu(s);if(a)return a;const l=s.split("-")[0];if(a=Cu(l),a)return a;if("en"===l)return Su;throw new xe(701,!1)}function d_(i){return Gl(i)[On.PluralCase]}function Cu(i){return i in Xc||(Xc[i]=nt.ng&&nt.ng.common&&nt.ng.common.locales&&nt.ng.common.locales[i]),Xc[i]}var On=(()=>((On=On||{})[On.LocaleId=0]="LocaleId",On[On.DayPeriodsFormat=1]="DayPeriodsFormat",On[On.DayPeriodsStandalone=2]="DayPeriodsStandalone",On[On.DaysFormat=3]="DaysFormat",On[On.DaysStandalone=4]="DaysStandalone",On[On.MonthsFormat=5]="MonthsFormat",On[On.MonthsStandalone=6]="MonthsStandalone",On[On.Eras=7]="Eras",On[On.FirstDayOfWeek=8]="FirstDayOfWeek",On[On.WeekendRange=9]="WeekendRange",On[On.DateFormat=10]="DateFormat",On[On.TimeFormat=11]="TimeFormat",On[On.DateTimeFormat=12]="DateTimeFormat",On[On.NumberSymbols=13]="NumberSymbols",On[On.NumberFormats=14]="NumberFormats",On[On.CurrencyCode=15]="CurrencyCode",On[On.CurrencySymbol=16]="CurrencySymbol",On[On.CurrencyName=17]="CurrencyName",On[On.Currencies=18]="Currencies",On[On.Directionality=19]="Directionality",On[On.PluralCase=20]="PluralCase",On[On.ExtraData=21]="ExtraData",On))();const ul="en-US";let rE=ul;function y_(i,s,a,l,h){if(i=ce(i),Array.isArray(i))for(let g=0;g<i.length;g++)y_(i[g],s,a,l,h);else{const g=k(),E=D();let x=Xu(i)?i:ce(i.provide),L=W0(i);const K=Pe(),he=1048575&K.providerIndexes,ke=K.directiveStart,ut=K.providerIndexes>>20;if(Xu(i)||!i.multi){const wt=new je(L,h,eh),Vt=w_(x,s,h?he:he+ut,ke);-1===Vt?(qs(ju(K,E),g,x),__(g,i,s.length),s.push(x),K.directiveStart++,K.directiveEnd++,h&&(K.providerIndexes+=1048576),a.push(wt),E.push(wt)):(a[Vt]=wt,E[Vt]=wt)}else{const wt=w_(x,s,he+ut,ke),Vt=w_(x,s,he,he+ut),ln=Vt>=0&&a[Vt];if(h&&!ln||!h&&!(wt>=0&&a[wt])){qs(ju(K,E),g,x);const Un=function wT(i,s,a,l,h){const g=new je(i,a,eh);return g.multi=[],g.index=s,g.componentProviders=0,wE(g,h,l&&!a),g}(h?_T:yT,a.length,h,l,L);!h&&ln&&(a[Vt].providerFactory=Un),__(g,i,s.length,0),s.push(x),K.directiveStart++,K.directiveEnd++,h&&(K.providerIndexes+=1048576),a.push(Un),E.push(Un)}else __(g,i,wt>-1?wt:Vt,wE(a[h?Vt:wt],L,!h&&l));!h&&l&&ln&&a[Vt].componentProviders++}}}function __(i,s,a,l){const h=Xu(s),g=function Yb(i){return!!i.useClass}(s);if(h||g){const L=(g?ce(s.useClass):s).prototype.ngOnDestroy;if(L){const K=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const he=K.indexOf(a);-1===he?K.push(a,[l,L]):K[he+1].push(l,L)}else K.push(a,L)}}}function wE(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function w_(i,s,a,l){for(let h=a;h<l;h++)if(s[h]===i)return h;return-1}function yT(i,s,a,l){return E_(this.multi,[])}function _T(i,s,a,l){const h=this.multi;let g;if(this.providerFactory){const E=this.providerFactory.componentProviders,x=ta(a,a[Jt],this.providerFactory.index,l);g=x.slice(0,E),E_(h,g);for(let L=E;L<x.length;L++)g.push(x[L])}else g=[],E_(h,g);return g}function E_(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function EE(i,s=[]){return a=>{a.providersResolver=(l,h)=>function _E(i,s,a){const l=k();if(l.firstCreatePass){const h=us(i);y_(a,l.data,l.blueprint,h,!0),y_(s,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,s)}}class Ih{}class bE{}function ET(i,s){return new IE(i,s??null)}class IE extends Ih{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Iy(this);const l=tt(s);this._bootstrapComponents=tl(l.bootstrap),this._r3Injector=lw(s,a,[{provide:Ih,useValue:this},{provide:Of,useValue:this.componentFactoryResolver}],W(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class b_ extends bE{constructor(s){super(),this.moduleType=s}create(s){return new IE(this.moduleType,s)}}class TE extends Ih{constructor(s,a,l){super(),this.componentFactoryResolver=new Iy(this),this.instance=null;const h=new z0([...s,{provide:Ih,useValue:this},{provide:Of,useValue:this.componentFactoryResolver}],a||Tg(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function I_(i,s,a=null){return new TE(i,s,a).injector}let SE=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=H0(0,a.type),h=l.length>0?I_([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=gt({token:i,providedIn:"environment",factory:()=>new i(_r(el))}),i})();function T_(i){i.getStandaloneInjector=s=>s.get(SE).getOrCreateStandaloneInjector(i)}function Pi(i,s,a,l){return su(D(),hn(),i,s,a,l)}function Du(i,s,a,l,h){return function Th(i,s,a,l,h,g,E){const x=s+a;return Hc(i,x,h,g)?hi(i,x+2,E?l.call(E,h,g):l(h,g)):Aa(i,x+2)}(D(),hn(),i,s,a,l,h)}function pp(i,s,a,l,h,g){return function dl(i,s,a,l,h,g,E,x){const L=s+a;return function qg(i,s,a,l,h){const g=Hc(i,s,a,l);return Bs(i,s+2,h)||g}(i,L,h,g,E)?hi(i,L+3,x?l.call(x,h,g,E):l(h,g,E)):Aa(i,L+3)}(D(),hn(),i,s,a,l,h,g)}function Aa(i,s){const a=i[s];return a===hr?void 0:a}function su(i,s,a,l,h,g){const E=s+a;return Bs(i,E,h)?hi(i,E+1,g?l.call(g,h):l(h)):Aa(i,E+1)}function Pm(i,s){const a=k();let l;const h=i+Ur;a.firstCreatePass?(l=function km(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[h]=l,l.onDestroy&&(a.destroyHooks??(a.destroyHooks=[])).push(h,l.onDestroy)):l=a.data[h];const g=l.factory||(l.factory=Xr(l.type)),E=te(eh);try{const x=pu(!1),L=g();return pu(x),function KI(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,D(),h,L),L}finally{te(E)}}function Lm(i,s,a){const l=i+Ur,h=D(),g=$s(h,l);return function hl(i,s){return i[Jt].data[s].pure}(h,l)?su(h,hn(),s,g.transform,a,g):g.transform(a)}function D_(i){return s=>{setTimeout(i,void 0,s)}}const xu=class ME extends v.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let h=s,g=a||(()=>null),E=l;if(s&&"object"==typeof s){const L=s;h=L.next?.bind(L),g=L.error?.bind(L),E=L.complete?.bind(L)}this.__isAsync&&(g=D_(g),h&&(h=D_(h)),E&&(E=D_(E)));const x=super.subscribe({next:h,error:g,complete:E});return s instanceof H.w0&&s.add(x),x}};function NE(){return this._results[Symbol.iterator]()}class vp{get changes(){return this._changes||(this._changes=new xu)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=vp.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=NE)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const h=function Qs(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Gu(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],g=s[l];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let is=(()=>{class i{}return i.__NG_ELEMENT_ID__=ec,i})();const RE=is,bi=class extends RE{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tView,h=kg(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);h[mo]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[xs];return null!==E&&(h[xs]=E.createEmbeddedView(l)),Vc(l,h,s),new rh(h)}};function ec(){return yp(Pe(),D())}function yp(i,s){return 4&i.type?new bi(s,i,Ll(i,s)):null}let _p=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ch,i})();function Ch(){return sd(Pe(),D())}const ST=_p,x_=class extends ST{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Ll(this._hostTNode,this._hostLView)}get injector(){return new mu(this._hostTNode,this._hostLView)}get parentInjector(){const s=_l(this._hostTNode,this._hostLView);if(ys(s)){const a=Hi(s,this._hostLView),l=Os(s);return new mu(a[Jt].data[l+8],a)}return new mu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Cr(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-vi}createEmbeddedView(s,a,l){let h,g;"number"==typeof l?h=l:null!=l&&(h=l.index,g=l.injector);const E=s.createEmbeddedView(a||{},g);return this.insert(E,h),E}createComponent(s,a,l,h,g){const E=s&&!function _u(i){return"function"==typeof i}(s);let x;if(E)x=a;else{const ke=a||{};x=ke.index,l=ke.injector,h=ke.projectableNodes,g=ke.environmentInjector||ke.ngModuleRef}const L=E?s:new jc(ze(s)),K=l||this.parentInjector;if(!g&&null==L.ngModule){const ut=(E?K:this.parentInjector).get(el,null);ut&&(g=ut)}const he=L.create(K,h,void 0,g);return this.insert(he.hostView,x),he}insert(s,a){const l=s._lView,h=l[Jt];if(function zt(i){return Jr(i[Fn])}(l)){const he=this.indexOf(s);if(-1!==he)this.detach(he);else{const ke=l[Fn],ut=new x_(ke,ke[mr],ke[Fn]);ut.detach(ut.indexOf(s))}}const g=this._adjustIndex(a),E=this._lContainer;!function Av(i,s,a,l){const h=vi+l,g=a.length;l>0&&(a[h-1][pr]=s),l<g-vi?(s[pr]=a[h],I(a,vi+l,s)):(a.push(s),s[pr]=null),s[Fn]=a;const E=s[mo];null!==E&&a!==E&&function lg(i,s){const a=i[io];s[ai]!==s[Fn][Fn][ai]&&(i[Ms]=!0),null===a?i[io]=[s]:a.push(s)}(E,s);const x=s[xs];null!==x&&x.insertView(i),s[bn]|=64}(h,l,E,g);const x=sa(g,E),L=l[qn],K=hg(L,E[as]);return null!==K&&function Sv(i,s,a,l,h,g){l[Wn]=h,l[mr]=s,Ml(i,l,a,1,h,g)}(h,E[mr],L,l,K,x),s.attachToViewContainerRef(),I(zr(E),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Cr(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=If(this._lContainer,a);l&&(S(zr(this._lContainer),a),Yu(l[Jt],l))}detach(s){const a=this._adjustIndex(s,-1),l=If(this._lContainer,a);return l&&null!=S(zr(this._lContainer),a)?new rh(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function Cr(i){return i[vo]}function zr(i){return i[vo]||(i[vo]=[])}function sd(i,s){let a;const l=s[i.index];if(Jr(l))a=l;else{let h;if(8&i.type)h=Xn(l);else{const g=s[qn];h=g.createComment("");const E=Ti(i,s);Qu(g,hg(g,E),h,function k0(i,s){return i.nextSibling(s)}(g,E),!1)}s[i.index]=a=Tw(l,s,h,i),Vf(s,a)}return new x_(a,i,s)}class wp{constructor(s){this.queryList=s,this.matches=null}clone(){return new wp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ep{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let g=0;g<l;g++){const E=a.getByIndex(g);h.push(this.queries[E.indexInDeclarationView].clone())}return new Ep(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Tp(s,a).matches&&this.queries[a].setDirty()}}class M_{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class bp{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(s,h);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new bp(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Um{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Um(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const g=l[h];this.matchTNodeWithReadOption(s,a,OE(a,g)),this.matchTNodeWithReadOption(s,a,Ea(a,s,g,!1,!1))}else l===is?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ea(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Pf||h===_p||h===is&&4&a.type)this.addMatch(a.index,-2);else{const g=Ea(a,s,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function OE(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function CT(i,s,a,l){return-1===a?function PE(i,s){return 11&i.type?Ll(i,s):4&i.type?yp(i,s):null}(s,i):-2===a?function AT(i,s,a){return a===Pf?Ll(s,i):a===is?yp(s,i):a===_p?sd(s,i):void 0}(i,s,l):ta(i,i[Jt],a,s)}function kE(i,s,a,l){const h=s[xs].queries[l];if(null===h.matches){const g=i.data,E=a.matches,x=[];for(let L=0;L<E.length;L+=2){const K=E[L];x.push(K<0?null:CT(s,g[K],E[L+1],a.metadata.read))}h.matches=x}return h.matches}function Bm(i,s,a,l){const h=i.queries.getByIndex(a),g=h.matches;if(null!==g){const E=kE(i,s,h,a);for(let x=0;x<g.length;x+=2){const L=g[x];if(L>0)l.push(E[x/2]);else{const K=g[x+1],he=s[-L];for(let ke=vi;ke<he.length;ke++){const ut=he[ke];ut[mo]===ut[Fn]&&Bm(ut[Jt],ut,K,l)}if(null!==he[io]){const ke=he[io];for(let ut=0;ut<ke.length;ut++){const wt=ke[ut];Bm(wt[Jt],wt,K,l)}}}}}return l}function LE(i){const s=D(),a=k(),l=ko();wo(l+1);const h=Tp(a,l);if(i.dirty&&function Lu(i){return 4==(4&i[bn])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const g=h.crossesNgTemplate?Bm(a,s,l,[]):kE(a,s,h,l);i.reset(g,tI),i.notifyOnChanges()}return!0}return!1}function N_(i,s,a){const l=k();l.firstCreatePass&&(tc(l,new M_(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),Vm(l,D(),s)}function FE(i,s,a,l){const h=k();if(h.firstCreatePass){const g=Pe();tc(h,new M_(s,a,l),g.index),function Ip(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}Vm(h,D(),a)}function UE(){return function DT(i,s){return i[xs].queries[s].queryList}(D(),ko())}function Vm(i,s,a){const l=new vp(4==(4&a));Ew(i,s,l,l.destroy),null===s[xs]&&(s[xs]=new Ep),s[xs].queries.push(new wp(l))}function tc(i,s,a){null===i.queries&&(i.queries=new bp),i.queries.track(new Um(s,a))}function Tp(i,s){return i.queries.getByIndex(s)}function Sp(i,s){return yp(i,s)}function Ah(i){return!!tt(i)}function pl(...i){}const z_=new br("Application Initializer");let Mp=(()=>{class i{constructor(a){this.appInits=a,this.resolve=pl,this.reject=pl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Yf(g))a.push(g);else if(jy(g)){const E=new Promise((x,L)=>{g.subscribe({complete:x,error:L})});a.push(E)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(_r(z_,8))},i.\u0275prov=gt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const W_=new br("AppId",{providedIn:"root",factory:function fd(){return`${Np()}${Np()}${Np()}`}});function Np(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wm=new br("Platform Initializer"),G_=new br("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),PT=new br("AnimationModuleType");let ps=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=gt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Rp=new br("LocaleId",{providedIn:"root",factory:()=>Qr(Rp,ve.Optional|ve.SkipSelf)||function kr(){return typeof $localize<"u"&&$localize.locale||ul}()}),YE=new br("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class LT{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let JE=(()=>{class i{compileModuleSync(a){return new b_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=tl(tt(a).declarations).reduce((E,x)=>{const L=ze(x);return L&&E.push(new jc(L)),E},[]);return new LT(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=gt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const tb=(()=>Promise.resolve(0))();function Gm(i){typeof Zone>"u"?tb.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ca{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xu(!1),this.onMicrotaskEmpty=new xu(!1),this.onStable=new xu(!1),this.onError=new xu(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function FT(){let i=nt.requestAnimationFrame,s=nt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function jT(i){const s=()=>{!function VT(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(nt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Pp(i),i.isCheckStableRunning=!0,q_(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Pp(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,g,E,x)=>{try{return pd(i),a.invokeTask(h,g,E,x)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),Y_(i)}},onInvoke:(a,l,h,g,E,x,L)=>{try{return pd(i),a.invoke(h,g,E,x,L)}finally{i.shouldCoalesceRunChangeDetection&&s(),Y_(i)}},onHasTask:(a,l,h,g)=>{a.hasTask(h,g),l===h&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,Pp(i),q_(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,h,g)=>(a.handleError(h,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ca.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(ca.isInAngularZone())throw new xe(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,h){const g=this._inner,E=g.scheduleEventTask("NgZoneEvent: "+h,s,BT,pl,pl);try{return g.runTask(E,a,l)}finally{g.cancelTask(E)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const BT={};function q_(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Pp(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function pd(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Y_(i){i._nesting--,q_(i)}class HT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xu,this.onMicrotaskEmpty=new xu,this.onStable=new xu,this.onError=new xu}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,h){return s.apply(a,l)}}const qi=new br(""),Km=new br("");let kp,nb=(()=>{class i{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kp||(function Nu(i){kp=i}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ca.assertNotInAngularZone(),Gm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(_r(ca),_r(Rh),_r(Km))},i.\u0275prov=gt({token:i,factory:i.\u0275fac}),i})(),Rh=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return kp?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=gt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Ru=!1;let xa=null;const Q_=new br("AllowMultipleToken"),Zm=new br("PlatformDestroyListeners"),J_=new br("appBootstrapListener");class X_{constructor(s,a){this.name=s,this.token=a}}function ib(i,s,a=[]){const l=`Platform: ${s}`,h=new br(l);return(g=[])=>{let E=e0();if(!E||E.injector.get(Q_,!1)){const x=[...a,...g,{provide:h,useValue:!0}];i?i(x):function zT(i){if(xa&&!xa.get(Q_,!1))throw new xe(400,!1);xa=i;const s=i.get(gl);(function qm(i){const s=i.get(Wm,null);s&&s.forEach(a=>a())})(i)}(function ob(i=[],s){return Uc.create({name:s,providers:[{provide:Mf,useValue:"platform"},{provide:Zm,useValue:new Set([()=>xa=null])},...i]})}(x,l))}return function sb(i){const s=e0();if(!s)throw new xe(401,!1);return s}()}}function e0(){return xa?.get(gl)??null}let gl=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function t0(i,s){let a;return a="noop"===i?new HT:("zone.js"===i?void 0:i)||new ca(s),a}(l?.ngZone,function gd(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:ca,useValue:h}];return h.run(()=>{const E=Uc.create({providers:g,parent:this.injector,name:a.moduleType.name}),x=a.create(E),L=x.injector.get(kf,null);if(!L)throw new xe(402,!1);return h.runOutsideAngular(()=>{const K=h.onError.subscribe({next:he=>{L.handleError(he)}});x.onDestroy(()=>{Fp(this._modules,x),K.unsubscribe()})}),function ab(i,s,a){try{const l=a();return Yf(l)?l.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(L,h,()=>{const K=x.injector.get(Mp);return K.runInitializers(),K.donePromise.then(()=>(function iE(i){De(i,"Expected localeId to be defined"),"string"==typeof i&&(rE=i.toLowerCase().replace(/_/g,"-"))}(x.injector.get(Rp,ul)||ul),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,l=[]){const h=n0({},l);return function $T(i,s,a){const l=new b_(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const l=a.injector.get(Ma);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new xe(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Zm,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(_r(Uc))},i.\u0275prov=gt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function n0(i,s){return Array.isArray(s)?s.reduce(n0,i):{...i,...s}}let Ma=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new c.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),E=new c.y(x=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{ca.assertNotInAngularZone(),Gm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{ca.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{L.unsubscribe(),K.unsubscribe()}});this.isStable=(0,ue.T)(g,E.pipe((0,de.B)()))}bootstrap(a,l){const h=a instanceof Cg;if(!this._injector.get(Mp).done){!h&&G(a);throw new xe(405,Ru)}let E;E=h?a:this._injector.get(Of).resolveComponentFactory(a),this.componentTypes.push(E.componentType);const x=function Lp(i){return i.isBoundToModule}(E)?void 0:this._injector.get(Ih),K=E.create(Uc.NULL,[],l||E.selector,x),he=K.location.nativeElement,ke=K.injector.get(qi,null);return ke?.registerApplication(he),K.onDestroy(()=>{this.detachView(K.hostView),Fp(this.components,K),ke?.unregisterApplication(he)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Fp(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(J_,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Fp(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new xe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(_r(ca),_r(el),_r(kf))},i.\u0275prov=gt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Fp(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}function Ym(){return!1}let cb=(()=>{class i{}return i.__NG_ELEMENT_ID__=r0,i})();function r0(i){return function s0(i,s,a){if(Oo(i)&&!a){const l=Fr(i.index,s);return new rh(l,l)}return 47&i.type?new rh(s[ai],s):null}(Pe(),D(),16==(16&i))}class u0{constructor(){}supports(s){return Zg(s)}create(s){return new c0(s)}}const l0=(i,s)=>s;class c0{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||l0}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,h=0,g=null;for(;a||l;){const E=!l||a&&a.currentIndex<tv(l,h,g)?a:l,x=tv(E,h,g),L=E.currentIndex;if(E===l)h--,l=l._nextRemoved;else if(a=a._next,null==E.previousIndex)h++;else{g||(g=[]);const K=x-h,he=L-h;if(K!=he){for(let ut=0;ut<K;ut++){const wt=ut<g.length?g[ut]:g[ut]=0,Vt=wt+ut;he<=Vt&&Vt<K&&(g[ut]=wt+1)}g[E.previousIndex]=he-K}}x!==L&&s(E,x,L)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Zg(s))throw new xe(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,E,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let x=0;x<this.length;x++)g=s[x],E=this._trackByFn(x,g),null!==a&&Object.is(a.trackById,E)?(l&&(a=this._verifyReinsertion(a,g,E,x)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,E,x),l=!0),a=a._next}else h=0,function Py(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,x=>{E=this._trackByFn(h,x),null!==a&&Object.is(a.trackById,E)?(l&&(a=this._verifyReinsertion(a,x,E,h)),Object.is(a.item,x)||this._addIdentityChange(a,x)):(a=this._mismatch(a,x,E,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,h)):s=this._addAfter(new pb(a,l),g,h),s}_verifyReinsertion(s,a,l,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new gb),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class pb{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ev{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class gb{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new ev,this.map.set(a,l)),l.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tv(i,s,a){const l=i.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+s+h}class Up{constructor(){}supports(s){return s instanceof Map||Gf(s)}create(){return new JT}}class JT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Gf(s)))throw new xe(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const g=h._prev,E=h._next;return g&&(g._next=E),E&&(E._prev=g),h._next=null,h._prev=null,h}const l=new mb(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class mb{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fh(){return new Uh([new u0])}let Uh=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Fh()),deps:[[i,new Il,new Nd]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new xe(901,!1)}}return i.\u0275prov=gt({token:i,providedIn:"root",factory:Fh}),i})();function d0(){return new rv([new Up])}let rv=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||d0()),deps:[[i,new Il,new Nd]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new xe(901,!1)}}return i.\u0275prov=gt({token:i,providedIn:"root",factory:d0}),i})();const yb=ib(null,"core",[]);let oc=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(_r(Ma))},i.\u0275mod=$e({type:i}),i.\u0275inj=Wt({}),i})();function Bh(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},1481:(Mt,Ae,P)=>{"use strict";P.d(Ae,{Dx:()=>Pt,H7:()=>Hn,b2:()=>F,q6:()=>yn,se:()=>pt});var v=P(6895),H=P(4650);class c extends v.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ue extends c{static makeCurrent(){(0,v.HT)(new ue)}onAndCancel(Qe,Se,Re){return Qe.addEventListener(Se,Re,!1),()=>{Qe.removeEventListener(Se,Re,!1)}}dispatchEvent(Qe,Se){Qe.dispatchEvent(Se)}remove(Qe){Qe.parentNode&&Qe.parentNode.removeChild(Qe)}createElement(Qe,Se){return(Se=Se||this.getDefaultDocument()).createElement(Qe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Qe){return Qe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Qe){return Qe instanceof DocumentFragment}getGlobalEventTarget(Qe,Se){return"window"===Se?window:"document"===Se?Qe:"body"===Se?Qe.body:null}getBaseHref(Qe){const Se=function re(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==Se?null:function W(ht){se=se||document.createElement("a"),se.setAttribute("href",ht);const Qe=se.pathname;return"/"===Qe.charAt(0)?Qe:`/${Qe}`}(Se)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(Qe){return(0,v.Mx)(document.cookie,Qe)}}let se,de=null;const ae=new H.OlP("TRANSITION_ID"),ne=[{provide:H.ip1,useFactory:function X(ht,Qe,Se){return()=>{Se.get(H.CZH).donePromise.then(()=>{const Re=(0,v.q)(),Ot=Qe.querySelectorAll(`style[ng-transition="${ht}"]`);for(let cn=0;cn<Ot.length;cn++)Re.remove(Ot[cn])})}},deps:[ae,v.K0,H.zs3],multi:!0}];let Me=(()=>{class ht{build(){return new XMLHttpRequest}}return ht.\u0275fac=function(Se){return new(Se||ht)},ht.\u0275prov=H.Yz7({token:ht,factory:ht.\u0275fac}),ht})();const J=new H.OlP("EventManagerPlugins");let ee=(()=>{class ht{constructor(Se,Re){this._zone=Re,this._eventNameToPlugin=new Map,Se.forEach(Ot=>{Ot.manager=this}),this._plugins=Se.slice().reverse()}addEventListener(Se,Re,Ot){return this._findPluginFor(Re).addEventListener(Se,Re,Ot)}addGlobalEventListener(Se,Re,Ot){return this._findPluginFor(Re).addGlobalEventListener(Se,Re,Ot)}getZone(){return this._zone}_findPluginFor(Se){const Re=this._eventNameToPlugin.get(Se);if(Re)return Re;const Ot=this._plugins;for(let cn=0;cn<Ot.length;cn++){const xn=Ot[cn];if(xn.supports(Se))return this._eventNameToPlugin.set(Se,xn),xn}throw new Error(`No event manager plugin found for event ${Se}`)}}return ht.\u0275fac=function(Se){return new(Se||ht)(H.LFG(J),H.LFG(H.R0b))},ht.\u0275prov=H.Yz7({token:ht,factory:ht.\u0275fac}),ht})();class Ie{constructor(Qe){this._doc=Qe}addGlobalEventListener(Qe,Se,Re){const Ot=(0,v.q)().getGlobalEventTarget(this._doc,Qe);if(!Ot)throw new Error(`Unsupported event target ${Ot} for event ${Se}`);return this.addEventListener(Ot,Se,Re)}}let xe=(()=>{class ht{constructor(){this.usageCount=new Map}addStyles(Se){for(const Re of Se)1===this.changeUsageCount(Re,1)&&this.onStyleAdded(Re)}removeStyles(Se){for(const Re of Se)0===this.changeUsageCount(Re,-1)&&this.onStyleRemoved(Re)}onStyleRemoved(Se){}onStyleAdded(Se){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(Se,Re){const Ot=this.usageCount;let cn=Ot.get(Se)??0;return cn+=Re,cn>0?Ot.set(Se,cn):Ot.delete(Se),cn}ngOnDestroy(){for(const Se of this.getAllStyles())this.onStyleRemoved(Se);this.usageCount.clear()}}return ht.\u0275fac=function(Se){return new(Se||ht)},ht.\u0275prov=H.Yz7({token:ht,factory:ht.\u0275fac}),ht})(),Fe=(()=>{class ht extends xe{constructor(Se){super(),this.doc=Se,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(Se){for(const Re of this.hostNodes)this.addStyleToHost(Re,Se)}onStyleRemoved(Se){const Re=this.styleRef;Re.get(Se)?.forEach(cn=>cn.remove()),Re.delete(Se)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(Se){this.hostNodes.add(Se);for(const Re of this.getAllStyles())this.addStyleToHost(Se,Re)}removeHost(Se){this.hostNodes.delete(Se)}addStyleToHost(Se,Re){const Ot=this.doc.createElement("style");Ot.textContent=Re,Se.appendChild(Ot);const cn=this.styleRef.get(Re);cn?cn.push(Ot):this.styleRef.set(Re,[Ot])}resetHostNodes(){const Se=this.hostNodes;Se.clear(),Se.add(this.doc.head)}}return ht.\u0275fac=function(Se){return new(Se||ht)(H.LFG(v.K0))},ht.\u0275prov=H.Yz7({token:ht,factory:ht.\u0275fac}),ht})();const Ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},He=/%COMP%/g,ge=new H.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Et(ht,Qe){return Qe.flat(100).map(Se=>Se.replace(He,ht))}function ft(ht){return Qe=>{if("__ngUnwrap__"===Qe)return ht;!1===ht(Qe)&&(Qe.preventDefault(),Qe.returnValue=!1)}}let pt=(()=>{class ht{constructor(Se,Re,Ot,cn){this.eventManager=Se,this.sharedStylesHost=Re,this.appId=Ot,this.removeStylesOnCompDestory=cn,this.rendererByCompId=new Map,this.defaultRenderer=new vn(Se)}createRenderer(Se,Re){if(!Se||!Re)return this.defaultRenderer;const Ot=this.getOrCreateRenderer(Se,Re);return Ot instanceof De?Ot.applyToHost(Se):Ot instanceof _e&&Ot.applyStyles(),Ot}getOrCreateRenderer(Se,Re){const Ot=this.rendererByCompId;let cn=Ot.get(Re.id);if(!cn){const xn=this.eventManager,Ar=this.sharedStylesHost,Dr=this.removeStylesOnCompDestory;switch(Re.encapsulation){case H.ifc.Emulated:cn=new De(xn,Ar,Re,this.appId,Dr);break;case H.ifc.ShadowDom:return new ye(xn,Ar,Se,Re);default:cn=new _e(xn,Ar,Re,Dr)}cn.onDestroy=()=>Ot.delete(Re.id),Ot.set(Re.id,cn)}return cn}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ht.\u0275fac=function(Se){return new(Se||ht)(H.LFG(ee),H.LFG(Fe),H.LFG(H.AFp),H.LFG(ge))},ht.\u0275prov=H.Yz7({token:ht,factory:ht.\u0275fac}),ht})();class vn{constructor(Qe){this.eventManager=Qe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Qe,Se){return Se?document.createElementNS(Ke[Se]||Se,Qe):document.createElement(Qe)}createComment(Qe){return document.createComment(Qe)}createText(Qe){return document.createTextNode(Qe)}appendChild(Qe,Se){(Bt(Qe)?Qe.content:Qe).appendChild(Se)}insertBefore(Qe,Se,Re){Qe&&(Bt(Qe)?Qe.content:Qe).insertBefore(Se,Re)}removeChild(Qe,Se){Qe&&Qe.removeChild(Se)}selectRootElement(Qe,Se){let Re="string"==typeof Qe?document.querySelector(Qe):Qe;if(!Re)throw new Error(`The selector "${Qe}" did not match any elements`);return Se||(Re.textContent=""),Re}parentNode(Qe){return Qe.parentNode}nextSibling(Qe){return Qe.nextSibling}setAttribute(Qe,Se,Re,Ot){if(Ot){Se=Ot+":"+Se;const cn=Ke[Ot];cn?Qe.setAttributeNS(cn,Se,Re):Qe.setAttribute(Se,Re)}else Qe.setAttribute(Se,Re)}removeAttribute(Qe,Se,Re){if(Re){const Ot=Ke[Re];Ot?Qe.removeAttributeNS(Ot,Se):Qe.removeAttribute(`${Re}:${Se}`)}else Qe.removeAttribute(Se)}addClass(Qe,Se){Qe.classList.add(Se)}removeClass(Qe,Se){Qe.classList.remove(Se)}setStyle(Qe,Se,Re,Ot){Ot&(H.JOm.DashCase|H.JOm.Important)?Qe.style.setProperty(Se,Re,Ot&H.JOm.Important?"important":""):Qe.style[Se]=Re}removeStyle(Qe,Se,Re){Re&H.JOm.DashCase?Qe.style.removeProperty(Se):Qe.style[Se]=""}setProperty(Qe,Se,Re){Qe[Se]=Re}setValue(Qe,Se){Qe.nodeValue=Se}listen(Qe,Se,Re){return"string"==typeof Qe?this.eventManager.addGlobalEventListener(Qe,Se,ft(Re)):this.eventManager.addEventListener(Qe,Se,ft(Re))}}function Bt(ht){return"TEMPLATE"===ht.tagName&&void 0!==ht.content}class ye extends vn{constructor(Qe,Se,Re,Ot){super(Qe),this.sharedStylesHost=Se,this.hostEl=Re,this.shadowRoot=Re.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const cn=Et(Ot.id,Ot.styles);for(const xn of cn){const Ar=document.createElement("style");Ar.textContent=xn,this.shadowRoot.appendChild(Ar)}}nodeOrShadowRoot(Qe){return Qe===this.hostEl?this.shadowRoot:Qe}appendChild(Qe,Se){return super.appendChild(this.nodeOrShadowRoot(Qe),Se)}insertBefore(Qe,Se,Re){return super.insertBefore(this.nodeOrShadowRoot(Qe),Se,Re)}removeChild(Qe,Se){return super.removeChild(this.nodeOrShadowRoot(Qe),Se)}parentNode(Qe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Qe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _e extends vn{constructor(Qe,Se,Re,Ot,cn=Re.id){super(Qe),this.sharedStylesHost=Se,this.removeStylesOnCompDestory=Ot,this.rendererUsageCount=0,this.styles=Et(cn,Re.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class De extends _e{constructor(Qe,Se,Re,Ot,cn){const xn=Ot+"-"+Re.id;super(Qe,Se,Re,cn,xn),this.contentAttr=function et(ht){return"_ngcontent-%COMP%".replace(He,ht)}(xn),this.hostAttr=function _t(ht){return"_nghost-%COMP%".replace(He,ht)}(xn)}applyToHost(Qe){this.applyStyles(),this.setAttribute(Qe,this.hostAttr,"")}createElement(Qe,Se){const Re=super.createElement(Qe,Se);return super.setAttribute(Re,this.contentAttr,""),Re}}let Te=(()=>{class ht extends Ie{constructor(Se){super(Se)}supports(Se){return!0}addEventListener(Se,Re,Ot){return Se.addEventListener(Re,Ot,!1),()=>this.removeEventListener(Se,Re,Ot)}removeEventListener(Se,Re,Ot){return Se.removeEventListener(Re,Ot)}}return ht.\u0275fac=function(Se){return new(Se||ht)(H.LFG(v.K0))},ht.\u0275prov=H.Yz7({token:ht,factory:ht.\u0275fac}),ht})();const Ze=["alt","control","meta","shift"],pe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ne={alt:ht=>ht.altKey,control:ht=>ht.ctrlKey,meta:ht=>ht.metaKey,shift:ht=>ht.shiftKey};let gt=(()=>{class ht extends Ie{constructor(Se){super(Se)}supports(Se){return null!=ht.parseEventName(Se)}addEventListener(Se,Re,Ot){const cn=ht.parseEventName(Re),xn=ht.eventCallback(cn.fullKey,Ot,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,v.q)().onAndCancel(Se,cn.domEventName,xn))}static parseEventName(Se){const Re=Se.toLowerCase().split("."),Ot=Re.shift();if(0===Re.length||"keydown"!==Ot&&"keyup"!==Ot)return null;const cn=ht._normalizeKey(Re.pop());let xn="",Ar=Re.indexOf("code");if(Ar>-1&&(Re.splice(Ar,1),xn="code."),Ze.forEach(Ds=>{const Je=Re.indexOf(Ds);Je>-1&&(Re.splice(Je,1),xn+=Ds+".")}),xn+=cn,0!=Re.length||0===cn.length)return null;const Dr={};return Dr.domEventName=Ot,Dr.fullKey=xn,Dr}static matchEventFullKeyCode(Se,Re){let Ot=pe[Se.key]||Se.key,cn="";return Re.indexOf("code.")>-1&&(Ot=Se.code,cn="code."),!(null==Ot||!Ot)&&(Ot=Ot.toLowerCase()," "===Ot?Ot="space":"."===Ot&&(Ot="dot"),Ze.forEach(xn=>{xn!==Ot&&(0,Ne[xn])(Se)&&(cn+=xn+".")}),cn+=Ot,cn===Re)}static eventCallback(Se,Re,Ot){return cn=>{ht.matchEventFullKeyCode(cn,Se)&&Ot.runGuarded(()=>Re(cn))}}static _normalizeKey(Se){return"esc"===Se?"escape":Se}}return ht.\u0275fac=function(Se){return new(Se||ht)(H.LFG(v.K0))},ht.\u0275prov=H.Yz7({token:ht,factory:ht.\u0275fac}),ht})();const yn=(0,H.eFA)(H._c5,"browser",[{provide:H.Lbi,useValue:v.bD},{provide:H.g9A,useValue:function lt(){ue.makeCurrent()},multi:!0},{provide:v.K0,useFactory:function At(){return(0,H.RDi)(document),document},deps:[]}]),tr=new H.OlP(""),ve=[{provide:H.rWj,useClass:class ce{addToWindow(Qe){H.dqk.getAngularTestability=(Re,Ot=!0)=>{const cn=Qe.findTestabilityInTree(Re,Ot);if(null==cn)throw new Error("Could not find testability for element.");return cn},H.dqk.getAllAngularTestabilities=()=>Qe.getAllTestabilities(),H.dqk.getAllAngularRootElements=()=>Qe.getAllRootElements(),H.dqk.frameworkStabilizers||(H.dqk.frameworkStabilizers=[]),H.dqk.frameworkStabilizers.push(Re=>{const Ot=H.dqk.getAllAngularTestabilities();let cn=Ot.length,xn=!1;const Ar=function(Dr){xn=xn||Dr,cn--,0==cn&&Re(xn)};Ot.forEach(function(Dr){Dr.whenStable(Ar)})})}findTestabilityInTree(Qe,Se,Re){return null==Se?null:Qe.getTestability(Se)??(Re?(0,v.q)().isShadowRoot(Se)?this.findTestabilityInTree(Qe,Se.host,!0):this.findTestabilityInTree(Qe,Se.parentElement,!0):null)}},deps:[]},{provide:H.lri,useClass:H.dDg,deps:[H.R0b,H.eoX,H.rWj]},{provide:H.dDg,useClass:H.dDg,deps:[H.R0b,H.eoX,H.rWj]}],T=[{provide:H.zSh,useValue:"root"},{provide:H.qLn,useFactory:function Oe(){return new H.qLn},deps:[]},{provide:J,useClass:Te,multi:!0,deps:[v.K0,H.R0b,H.Lbi]},{provide:J,useClass:gt,multi:!0,deps:[v.K0]},{provide:pt,useClass:pt,deps:[ee,Fe,H.AFp,ge]},{provide:H.FYo,useExisting:pt},{provide:xe,useExisting:Fe},{provide:Fe,useClass:Fe,deps:[v.K0]},{provide:ee,useClass:ee,deps:[J,H.R0b]},{provide:v.JF,useClass:Me,deps:[]},[]];let F=(()=>{class ht{constructor(Se){}static withServerTransition(Se){return{ngModule:ht,providers:[{provide:H.AFp,useValue:Se.appId},{provide:ae,useExisting:H.AFp},ne]}}}return ht.\u0275fac=function(Se){return new(Se||ht)(H.LFG(tr,12))},ht.\u0275mod=H.oAB({type:ht}),ht.\u0275inj=H.cJS({providers:[...T,...ve],imports:[v.ez,H.hGG]}),ht})(),Pt=(()=>{class ht{constructor(Se){this._doc=Se}getTitle(){return this._doc.title}setTitle(Se){this._doc.title=Se||""}}return ht.\u0275fac=function(Se){return new(Se||ht)(H.LFG(v.K0))},ht.\u0275prov=H.Yz7({token:ht,factory:function(Se){let Re=null;return Re=Se?new Se:function nt(){return new Pt((0,H.LFG)(v.K0))}(),Re},providedIn:"root"}),ht})();typeof window<"u"&&window;let Hn=(()=>{class ht{}return ht.\u0275fac=function(Se){return new(Se||ht)},ht.\u0275prov=H.Yz7({token:ht,factory:function(Se){let Re=null;return Re=Se?new(Se||ht):H.LFG(Ir),Re},providedIn:"root"}),ht})(),Ir=(()=>{class ht extends Hn{constructor(Se){super(),this._doc=Se}sanitize(Se,Re){if(null==Re)return null;switch(Se){case H.q3G.NONE:return Re;case H.q3G.HTML:return(0,H.qzn)(Re,"HTML")?(0,H.z3N)(Re):(0,H.EiD)(this._doc,String(Re)).toString();case H.q3G.STYLE:return(0,H.qzn)(Re,"Style")?(0,H.z3N)(Re):Re;case H.q3G.SCRIPT:if((0,H.qzn)(Re,"Script"))return(0,H.z3N)(Re);throw new Error("unsafe value used in a script context");case H.q3G.URL:return(0,H.qzn)(Re,"URL")?(0,H.z3N)(Re):(0,H.mCW)(String(Re));case H.q3G.RESOURCE_URL:if((0,H.qzn)(Re,"ResourceURL"))return(0,H.z3N)(Re);throw new Error(`unsafe value used in a resource URL context (see ${H.JZr})`);default:throw new Error(`Unexpected SecurityContext ${Se} (see ${H.JZr})`)}}bypassSecurityTrustHtml(Se){return(0,H.JVY)(Se)}bypassSecurityTrustStyle(Se){return(0,H.L6k)(Se)}bypassSecurityTrustScript(Se){return(0,H.eBb)(Se)}bypassSecurityTrustUrl(Se){return(0,H.LAX)(Se)}bypassSecurityTrustResourceUrl(Se){return(0,H.pB0)(Se)}}return ht.\u0275fac=function(Se){return new(Se||ht)(H.LFG(v.K0))},ht.\u0275prov=H.Yz7({token:ht,factory:function(Se){let Re=null;return Re=Se?new Se:function kn(ht){return new Ir(ht.get(v.K0))}(H.LFG(H.zs3)),Re},providedIn:"root"}),ht})()},5892:(Mt,Ae,P)=>{"use strict";P.d(Ae,{gz:()=>js,F0:()=>cs,rH:()=>qs,Bz:()=>yu,lC:()=>Xr});var v=P(4650),H=P(457),c=P(9646),ue=P(1135),de=P(6805),re=P(9841),se=P(7272),W=P(9770),ae=P(9635),X=P(2843),ne=P(9751),ce=P(515),Me=P(727),J=P(4482),ee=P(5403);function Ie(){return(0,J.e)((I,S)=>{let _=null;I._refCount++;const O=(0,ee.x)(S,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(_=null);const $=I._connection,ie=_;_=null,$&&(!ie||$===ie)&&$.unsubscribe(),S.unsubscribe()});I.subscribe(O),O.closed||(_=I.connect())})}class xe extends ne.y{constructor(S,_){super(),this.source=S,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,J.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new Me.w0;const _=this.getSubject();S.add(this.source.subscribe((0,ee.x)(_,void 0,()=>{this._teardown(),_.complete()},O=>{this._teardown(),_.error(O)},()=>this._teardown()))),S.closed&&(this._connection=null,S=Me.w0.EMPTY)}return S}refCount(){return Ie()(this)}}var Fe=P(7579),Ke=P(6895),He=P(4004),Ye=P(3900),Le=P(5698),mt=P(8675),Ue=P(9300),Be=P(5577),ge=P(590),et=P(4351),_t=P(8505),Et=P(262),ft=P(5026);function pt(I){return I<=0?()=>ce.E:(0,J.e)((S,_)=>{let O=[];S.subscribe((0,ee.x)(_,$=>{O.push($),I<O.length&&O.shift()},()=>{for(const $ of O)_.next($);_.complete()},void 0,()=>{O=null}))})}var vn=P(8068),An=P(6590),an=P(4671);function Bt(I,S){const _=arguments.length>=2;return O=>O.pipe(I?(0,Ue.h)(($,ie)=>I($,ie,O)):an.y,pt(1),_?(0,An.d)(S):(0,vn.T)(()=>new de.K))}var _e=P(9718);function De(I){return(0,J.e)((S,_)=>{try{S.subscribe(_)}finally{_.add(I)}})}var Te=P(8189),Ze=P(1481);const pe="primary",Ne=Symbol("RouteTitle");class gt{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const _=this.params[S];return Array.isArray(_)?_[0]:_}return null}getAll(S){if(this.has(S)){const _=this.params[S];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function Yt(I){return new gt(I)}function Wt(I,S,_){const O=_.path.split("/");if(O.length>I.length||"full"===_.pathMatch&&(S.hasChildren()||O.length<I.length))return null;const $={};for(let ie=0;ie<O.length;ie++){const Ee=O[ie],it=I[ie];if(Ee.startsWith(":"))$[Ee.substring(1)]=it;else if(Ee!==it.path)return null}return{consumed:I.slice(0,O.length),posParams:$}}function gn(I,S){const _=I?Object.keys(I):void 0,O=S?Object.keys(S):void 0;if(!_||!O||_.length!=O.length)return!1;let $;for(let ie=0;ie<_.length;ie++)if($=_[ie],!dt(I[$],S[$]))return!1;return!0}function dt(I,S){if(Array.isArray(I)&&Array.isArray(S)){if(I.length!==S.length)return!1;const _=[...I].sort(),O=[...S].sort();return _.every(($,ie)=>O[ie]===$)}return I===S}function lt(I){return Array.prototype.concat.apply([],I)}function Oe(I){return I.length>0?I[I.length-1]:null}function jt(I,S){for(const _ in I)I.hasOwnProperty(_)&&S(I[_],_)}function yn(I){return(0,v.CqO)(I)?I:(0,v.QGY)(I)?(0,H.D)(Promise.resolve(I)):(0,c.of)(I)}const tr=!1,ve={exact:function Ce(I,S,_){if(!Yn(I.segments,S.segments)||!Tt(I.segments,S.segments,_)||I.numberOfChildren!==S.numberOfChildren)return!1;for(const O in S.children)if(!I.children[O]||!Ce(I.children[O],S.children[O],_))return!1;return!0},subset:nt},T={exact:function te(I,S){return gn(I,S)},subset:function rt(I,S){return Object.keys(S).length<=Object.keys(I).length&&Object.keys(S).every(_=>dt(I[_],S[_]))},ignored:()=>!0};function F(I,S,_){return ve[_.paths](I.root,S.root,_.matrixParams)&&T[_.queryParams](I.queryParams,S.queryParams)&&!("exact"===_.fragment&&I.fragment!==S.fragment)}function nt(I,S,_){return Pt(I,S,S.segments,_)}function Pt(I,S,_,O){if(I.segments.length>_.length){const $=I.segments.slice(0,_.length);return!(!Yn($,_)||S.hasChildren()||!Tt($,_,O))}if(I.segments.length===_.length){if(!Yn(I.segments,_)||!Tt(I.segments,_,O))return!1;for(const $ in S.children)if(!I.children[$]||!nt(I.children[$],S.children[$],O))return!1;return!0}{const $=_.slice(0,I.segments.length),ie=_.slice(I.segments.length);return!!(Yn(I.segments,$)&&Tt(I.segments,$,O)&&I.children[pe])&&Pt(I.children[pe],S,ie,O)}}function Tt(I,S,_){return S.every((O,$)=>T[_](I[$].parameters,O.parameters))}class yt{constructor(S=new Rt([],{}),_={},O=null){this.root=S,this.queryParams=_,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yt(this.queryParams)),this._queryParamMap}toString(){return Yr.serialize(this)}}class Rt{constructor(S,_){this.segments=S,this.children=_,this.parent=null,jt(_,(O,$)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zn(this)}}class kt{constructor(S,_){this.path=S,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=Yt(this.parameters)),this._parameterMap}toString(){return Qt(this)}}function Yn(I,S){return I.length===S.length&&I.every((_,O)=>_.path===S[O].path)}let jr=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=v.Yz7({token:I,factory:function(){return new lr},providedIn:"root"}),I})();class lr{parse(S){const _=new Qe(S);return new yt(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(S){const _=`/${Ci(S.root,!0)}`,O=function Zt(I){const S=Object.keys(I).map(_=>{const O=I[_];return Array.isArray(O)?O.map($=>`${ms(_)}=${ms($)}`).join("&"):`${ms(_)}=${ms(O)}`}).filter(_=>!!_);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${_}${O}${"string"==typeof S.fragment?`#${function Qr(I){return encodeURI(I)}(S.fragment)}`:""}`}}const Yr=new lr;function Zn(I){return I.segments.map(S=>Qt(S)).join("/")}function Ci(I,S){if(!I.hasChildren())return Zn(I);if(S){const _=I.children[pe]?Ci(I.children[pe],!1):"",O=[];return jt(I.children,($,ie)=>{ie!==pe&&O.push(`${ie}:${Ci($,!1)}`)}),O.length>0?`${_}(${O.join("//")})`:_}{const _=function Qn(I,S){let _=[];return jt(I.children,(O,$)=>{$===pe&&(_=_.concat(S(O,$)))}),jt(I.children,(O,$)=>{$!==pe&&(_=_.concat(S(O,$)))}),_}(I,(O,$)=>$===pe?[Ci(I.children[pe],!1)]:[`${$}:${Ci(O,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[pe]?`${Zn(I)}/${_[0]}`:`${Zn(I)}/(${_.join("//")})`}}function _r(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ms(I){return _r(I).replace(/%3B/gi,";")}function Nt(I){return _r(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function We(I){return decodeURIComponent(I)}function ot(I){return We(I.replace(/\+/g,"%20"))}function Qt(I){return`${Nt(I.path)}${function $t(I){return Object.keys(I).map(S=>`;${Nt(S)}=${Nt(I[S])}`).join("")}(I.parameters)}`}const oe=/^[^\/()?;=#]+/;function Hn(I){const S=I.match(oe);return S?S[0]:""}const kn=/^[^=?&#]+/,Gn=/^[^&#]+/;class Qe{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(S.length>0||Object.keys(_).length>0)&&(O[pe]=new Rt(S,_)),O}parseSegment(){const S=Hn(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new v.vHH(4009,tr);return this.capture(S),new kt(We(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const _=Hn(this.remaining);if(!_)return;this.capture(_);let O="";if(this.consumeOptional("=")){const $=Hn(this.remaining);$&&(O=$,this.capture(O))}S[We(_)]=We(O)}parseQueryParam(S){const _=function Ir(I){const S=I.match(kn);return S?S[0]:""}(this.remaining);if(!_)return;this.capture(_);let O="";if(this.consumeOptional("=")){const Ee=function ht(I){const S=I.match(Gn);return S?S[0]:""}(this.remaining);Ee&&(O=Ee,this.capture(O))}const $=ot(_),ie=ot(O);if(S.hasOwnProperty($)){let Ee=S[$];Array.isArray(Ee)||(Ee=[Ee],S[$]=Ee),Ee.push(ie)}else S[$]=ie}parseParens(S){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=Hn(this.remaining),$=this.remaining[O.length];if("/"!==$&&")"!==$&&";"!==$)throw new v.vHH(4010,tr);let ie;O.indexOf(":")>-1?(ie=O.slice(0,O.indexOf(":")),this.capture(ie),this.capture(":")):S&&(ie=pe);const Ee=this.parseChildren();_[ie]=1===Object.keys(Ee).length?Ee[pe]:new Rt([],Ee),this.consumeOptional("//")}return _}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new v.vHH(4011,tr)}}function Se(I){return I.segments.length>0?new Rt([],{[pe]:I}):I}function Re(I){const S={};for(const O of Object.keys(I.children)){const ie=Re(I.children[O]);(ie.segments.length>0||ie.hasChildren())&&(S[O]=ie)}return function Ot(I){if(1===I.numberOfChildren&&I.children[pe]){const S=I.children[pe];return new Rt(I.segments.concat(S.segments),S.children)}return I}(new Rt(I.segments,S))}function cn(I){return I instanceof yt}const xn=!1;function Je(I,S,_,O,$){if(0===_.length)return qe(S.root,S.root,S.root,O,$);const ie=function ze(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new z(!0,0,I);let S=0,_=!1;const O=I.reduce(($,ie,Ee)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const it={};return jt(ie.outlets,(Lt,pn)=>{it[pn]="string"==typeof Lt?Lt.split("/"):Lt}),[...$,{outlets:it}]}if(ie.segmentPath)return[...$,ie.segmentPath]}return"string"!=typeof ie?[...$,ie]:0===Ee?(ie.split("/").forEach((it,Lt)=>{0==Lt&&"."===it||(0==Lt&&""===it?_=!0:".."===it?S++:""!=it&&$.push(it))}),$):[...$,ie]},[]);return new z(_,S,O)}(_);return ie.toRoot()?qe(S.root,S.root,new Rt([],{}),O,$):function Ee(Lt){const pn=function G(I,S,_,O){if(I.isAbsolute)return new vt(S.root,!0,0);if(-1===O)return new vt(_,_===S.root,0);return function tt(I,S,_){let O=I,$=S,ie=_;for(;ie>$;){if(ie-=$,O=O.parent,!O)throw new v.vHH(4005,xn&&"Invalid number of '../'");$=O.segments.length}return new vt(O,!1,$-ie)}(_,O+($e(I.commands[0])?0:1),I.numberOfDoubleDots)}(ie,S,I.snapshot?._urlSegment,Lt),Cn=pn.processChildren?sr(pn.segmentGroup,pn.index,ie.commands):ir(pn.segmentGroup,pn.index,ie.commands);return qe(S.root,pn.segmentGroup,Cn,O,$)}(I.snapshot?._lastPathIndex)}function $e(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Q(I){return"object"==typeof I&&null!=I&&I.outlets}function qe(I,S,_,O,$){let Ee,ie={};O&&jt(O,(Lt,pn)=>{ie[pn]=Array.isArray(Lt)?Lt.map(Cn=>`${Cn}`):`${Lt}`}),Ee=I===S?_:Ve(I,S,_);const it=Se(Re(Ee));return new yt(it,ie,$)}function Ve(I,S,_){const O={};return jt(I.children,($,ie)=>{O[ie]=$===S?_:Ve($,S,_)}),new Rt(I.segments,O)}class z{constructor(S,_,O){if(this.isAbsolute=S,this.numberOfDoubleDots=_,this.commands=O,S&&O.length>0&&$e(O[0]))throw new v.vHH(4003,xn&&"Root segment cannot have matrix parameters");const $=O.find(Q);if($&&$!==Oe(O))throw new v.vHH(4004,xn&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vt{constructor(S,_,O){this.segmentGroup=S,this.processChildren=_,this.index=O}}function ir(I,S,_){if(I||(I=new Rt([],{})),0===I.segments.length&&I.hasChildren())return sr(I,S,_);const O=function Wn(I,S,_){let O=0,$=S;const ie={match:!1,pathIndex:0,commandIndex:0};for(;$<I.segments.length;){if(O>=_.length)return ie;const Ee=I.segments[$],it=_[O];if(Q(it))break;const Lt=`${it}`,pn=O<_.length-1?_[O+1]:null;if($>0&&void 0===Lt)break;if(Lt&&pn&&"object"==typeof pn&&void 0===pn.outlets){if(!pr(Lt,pn,Ee))return ie;O+=2}else{if(!pr(Lt,{},Ee))return ie;O++}$++}return{match:!0,pathIndex:$,commandIndex:O}}(I,S,_),$=_.slice(O.commandIndex);if(O.match&&O.pathIndex<I.segments.length){const ie=new Rt(I.segments.slice(0,O.pathIndex),{});return ie.children[pe]=new Rt(I.segments.slice(O.pathIndex),I.children),sr(ie,0,$)}return O.match&&0===$.length?new Rt(I.segments,{}):O.match&&!I.hasChildren()?Jt(I,S,_):O.match?sr(I,0,$):Jt(I,S,_)}function sr(I,S,_){if(0===_.length)return new Rt(I.segments,{});{const O=function on(I){return Q(I[0])?I[0].outlets:{[pe]:I}}(_),$={};if(!O[pe]&&I.children[pe]&&1===I.numberOfChildren&&0===I.children[pe].segments.length){const ie=sr(I.children[pe],S,_);return new Rt(I.segments,ie.children)}return jt(O,(ie,Ee)=>{"string"==typeof ie&&(ie=[ie]),null!==ie&&($[Ee]=ir(I.children[Ee],S,ie))}),jt(I.children,(ie,Ee)=>{void 0===O[Ee]&&($[Ee]=ie)}),new Rt(I.segments,$)}}function Jt(I,S,_){const O=I.segments.slice(0,S);let $=0;for(;$<_.length;){const ie=_[$];if(Q(ie)){const Lt=bn(ie.outlets);return new Rt(O,Lt)}if(0===$&&$e(_[0])){O.push(new kt(I.segments[S].path,Fn(_[0]))),$++;continue}const Ee=Q(ie)?ie.outlets[pe]:`${ie}`,it=$<_.length-1?_[$+1]:null;Ee&&it&&$e(it)?(O.push(new kt(Ee,Fn(it))),$+=2):(O.push(new kt(Ee,{})),$++)}return new Rt(O,{})}function bn(I){const S={};return jt(I,(_,O)=>{"string"==typeof _&&(_=[_]),null!==_&&(S[O]=Jt(new Rt([],{}),0,_))}),S}function Fn(I){const S={};return jt(I,(_,O)=>S[O]=`${_}`),S}function pr(I,S,_){return I==_.path&&gn(S,_.parameters)}const Wr="imperative";class mr{constructor(S,_){this.id=S,this.url=_}}class oi extends mr{constructor(S,_,O="imperative",$=null){super(S,_),this.type=0,this.navigationTrigger=O,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wr extends mr{constructor(S,_,O){super(S,_),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ui extends mr{constructor(S,_,O,$){super(S,_),this.reason=O,this.code=$,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ni extends mr{constructor(S,_,O,$){super(S,_),this.reason=O,this.code=$,this.type=16}}class qn extends mr{constructor(S,_,O,$){super(S,_),this.error=O,this.target=$,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fa extends mr{constructor(S,_,O,$){super(S,_),this.urlAfterRedirects=O,this.state=$,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vs extends mr{constructor(S,_,O,$){super(S,_),this.urlAfterRedirects=O,this.state=$,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bi extends mr{constructor(S,_,O,$,ie){super(S,_),this.urlAfterRedirects=O,this.state=$,this.shouldActivate=ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mi extends mr{constructor(S,_,O,$){super(S,_),this.urlAfterRedirects=O,this.state=$,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ai extends mr{constructor(S,_,O,$){super(S,_),this.urlAfterRedirects=O,this.state=$,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mo{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ro{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xs{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zo{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qo{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yi{constructor(S,_,O){this.routerEvent=S,this.position=_,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let as=(()=>{class I{createUrlTree(_,O,$,ie,Ee,it){return Je(_||O.root,$,ie,Ee,it)}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})(),io=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=v.Yz7({token:I,factory:function(S){return as.\u0275fac(S)},providedIn:"root"}),I})();class vi{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const _=this.pathFromRoot(S);return _.length>1?_[_.length-2]:null}children(S){const _=Na(S,this._root);return _?_.children.map(O=>O.value):[]}firstChild(S){const _=Na(S,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(S){const _=Ii(S,this._root);return _.length<2?[]:_[_.length-2].children.map($=>$.value).filter($=>$!==S)}pathFromRoot(S){return Ii(S,this._root).map(_=>_.value)}}function Na(I,S){if(I===S.value)return S;for(const _ of S.children){const O=Na(I,_);if(O)return O}return null}function Ii(I,S){if(I===S.value)return[S];for(const _ of S.children){const O=Ii(I,_);if(O.length)return O.unshift(S),O}return[]}class Jr{constructor(S,_){this.value=S,this.children=_}toString(){return`TreeNode(${this.value})`}}function Ro(I){const S={};return I&&I.children.forEach(_=>S[_.value.outlet]=_),S}class Oo extends vi{constructor(S,_){super(S),this.snapshot=_,Yo(this,S)}toString(){return this.snapshot.toString()}}function ri(I,S){const _=function us(I,S){const Ee=new Oa([],{},{},"",{},pe,S,null,I.root,-1,{});return new Hs("",new Jr(Ee,[]))}(I,S),O=new ue.X([new kt("",{})]),$=new ue.X({}),ie=new ue.X({}),Ee=new ue.X({}),it=new ue.X(""),Lt=new js(O,$,Ee,it,ie,pe,S,_.root);return Lt.snapshot=_.root,new Oo(new Jr(Lt,[]),_)}class js{constructor(S,_,O,$,ie,Ee,it,Lt){this.url=S,this.params=_,this.queryParams=O,this.fragment=$,this.data=ie,this.outlet=Ee,this.component=it,this.title=this.data?.pipe((0,He.U)(pn=>pn[Ne]))??(0,c.of)(void 0),this._futureSnapshot=Lt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,He.U)(S=>Yt(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,He.U)(S=>Yt(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ra(I,S="emptyOnly"){const _=I.pathFromRoot;let O=0;if("always"!==S)for(O=_.length-1;O>=1;){const $=_[O],ie=_[O-1];if($.routeConfig&&""===$.routeConfig.path)O--;else{if(ie.component)break;O--}}return function ml(I){return I.reduce((S,_)=>({params:{...S.params,..._.params},data:{...S.data,..._.data},resolve:{..._.data,...S.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(O))}class Oa{get title(){return this.data?.[Ne]}constructor(S,_,O,$,ie,Ee,it,Lt,pn,Cn,gr){this.url=S,this.params=_,this.queryParams=O,this.fragment=$,this.data=ie,this.outlet=Ee,this.component=it,this.routeConfig=Lt,this._urlSegment=pn,this._lastPathIndex=Cn,this._resolve=gr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hs extends vi{constructor(S,_){super(_),this.url=S,Yo(this,_)}toString(){return ls(this._root)}}function Yo(I,S){S.value._routerState=I,S.children.forEach(_=>Yo(I,_))}function ls(I){const S=I.children.length>0?` { ${I.children.map(ls).join(", ")} } `:"";return`${I.value}${S}`}function yo(I){if(I.snapshot){const S=I.snapshot,_=I._futureSnapshot;I.snapshot=_,gn(S.queryParams,_.queryParams)||I.queryParams.next(_.queryParams),S.fragment!==_.fragment&&I.fragment.next(_.fragment),gn(S.params,_.params)||I.params.next(_.params),function Tn(I,S){if(I.length!==S.length)return!1;for(let _=0;_<I.length;++_)if(!gn(I[_],S[_]))return!1;return!0}(S.url,_.url)||I.url.next(_.url),gn(S.data,_.data)||I.data.next(_.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function Qo(I,S){const _=gn(I.params,S.params)&&function Dn(I,S){return Yn(I,S)&&I.every((_,O)=>gn(_.parameters,S[O].parameters))}(I.url,S.url);return _&&!(!I.parent!=!S.parent)&&(!I.parent||Qo(I.parent,S.parent))}function Ai(I,S,_){if(_&&I.shouldReuseRoute(S.value,_.value.snapshot)){const O=_.value;O._futureSnapshot=S.value;const $=function Pa(I,S,_){return S.children.map(O=>{for(const $ of _.children)if(I.shouldReuseRoute(O.value,$.value.snapshot))return Ai(I,O,$);return Ai(I,O)})}(I,S,_);return new Jr(O,$)}{if(I.shouldAttach(S.value)){const ie=I.retrieve(S.value);if(null!==ie){const Ee=ie.route;return Ee.value._futureSnapshot=S.value,Ee.children=S.children.map(it=>Ai(I,it)),Ee}}const O=function vl(I){return new js(new ue.X(I.url),new ue.X(I.params),new ue.X(I.queryParams),new ue.X(I.fragment),new ue.X(I.data),I.outlet,I.component,I)}(S.value),$=S.children.map(ie=>Ai(I,ie));return new Jr(O,$)}}const ga="ngNavigationCancelingError";function au(I,S){const{redirectTo:_,navigationBehaviorOptions:O}=cn(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,$=Ns(!1,0,S);return $.url=_,$.navigationBehaviorOptions=O,$}function Ns(I,S,_){const O=new Error("NavigationCancelingError: "+(I||""));return O[ga]=!0,O.cancellationCode=S,_&&(O.url=_),O}function ma(I){return Rs(I)&&cn(I.url)}function Rs(I){return I&&I[ga]}class uu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Jo,this.attachRef=null}}let Jo=(()=>{class I{constructor(){this.contexts=new Map}onChildOutletCreated(_,O){const $=this.getOrCreateContext(_);$.outlet=O,this.contexts.set(_,$)}onChildOutletDestroyed(_){const O=this.getContext(_);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let O=this.getContext(_);return O||(O=new uu,this.contexts.set(_,O)),O}getContext(_){return this.contexts.get(_)||null}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const ka=!1;let Xr=(()=>{class I{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.parentContexts=(0,v.f3M)(Jo),this.location=(0,v.f3M)(v.s_b),this.changeDetector=(0,v.f3M)(v.sBO),this.environmentInjector=(0,v.f3M)(v.lqb)}ngOnChanges(_){if(_.name){const{firstChange:O,previousValue:$}=_.name;if(O)return;this.isTrackedInParentContexts($)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed($)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.vHH(4012,ka);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.vHH(4012,ka);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.vHH(4012,ka);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,O){this.activated=_,this._activatedRoute=O,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,O){if(this.isActivated)throw new v.vHH(4013,ka);this._activatedRoute=_;const $=this.location,Ee=_.snapshot.component,it=this.parentContexts.getOrCreateContext(this.name).children,Lt=new so(_,it,$.injector);if(O&&function Di(I){return!!I.resolveComponentFactory}(O)){const pn=O.resolveComponentFactory(Ee);this.activated=$.createComponent(pn,$.length,Lt)}else this.activated=$.createComponent(Ee,{index:$.length,injector:Lt,environmentInjector:O??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275dir=v.lG2({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[v.TTD]}),I})();class so{constructor(S,_,O){this.route=S,this.childContexts=_,this.parent=O}get(S,_){return S===js?this.route:S===Jo?this.childContexts:this.parent.get(S,_)}}let Vi=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275cmp=v.Xpm({type:I,selectors:[["ng-component"]],standalone:!0,features:[v.jDz],decls:1,vars:0,template:function(_,O){1&_&&v._UZ(0,"router-outlet")},dependencies:[Xr],encapsulation:2}),I})();function La(I,S){return I.providers&&!I._injector&&(I._injector=(0,v.MMx)(I.providers,S,`Route: ${I.path}`)),I._injector??S}function _o(I){const S=I.children&&I.children.map(_o),_=S?{...I,children:S}:{...I};return!_.component&&!_.loadComponent&&(S||_.loadChildren)&&_.outlet&&_.outlet!==pe&&(_.component=Vi),_}function Xn(I){return I.outlet||pe}function Mi(I,S){const _=I.filter(O=>Xn(O)===S);return _.push(...I.filter(O=>Xn(O)!==S)),_}function ao(I){if(!I)return null;if(I.routeConfig?._injector)return I.routeConfig._injector;for(let S=I.parent;S;S=S.parent){const _=S.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class Ua{constructor(S,_,O,$){this.routeReuseStrategy=S,this.futureState=_,this.currState=O,this.forwardEvent=$}activate(S){const _=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,O,S),yo(this.futureState.root),this.activateChildRoutes(_,O,S)}deactivateChildRoutes(S,_,O){const $=Ro(_);S.children.forEach(ie=>{const Ee=ie.value.outlet;this.deactivateRoutes(ie,$[Ee],O),delete $[Ee]}),jt($,(ie,Ee)=>{this.deactivateRouteAndItsChildren(ie,O)})}deactivateRoutes(S,_,O){const $=S.value,ie=_?_.value:null;if($===ie)if($.component){const Ee=O.getContext($.outlet);Ee&&this.deactivateChildRoutes(S,_,Ee.children)}else this.deactivateChildRoutes(S,_,O);else ie&&this.deactivateRouteAndItsChildren(_,O)}deactivateRouteAndItsChildren(S,_){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,_):this.deactivateRouteAndOutlet(S,_)}detachAndStoreRouteSubtree(S,_){const O=_.getContext(S.value.outlet),$=O&&S.value.component?O.children:_,ie=Ro(S);for(const Ee of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[Ee],$);if(O&&O.outlet){const Ee=O.outlet.detach(),it=O.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:Ee,route:S,contexts:it})}}deactivateRouteAndOutlet(S,_){const O=_.getContext(S.value.outlet),$=O&&S.value.component?O.children:_,ie=Ro(S);for(const Ee of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[Ee],$);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(S,_,O){const $=Ro(_);S.children.forEach(ie=>{this.activateRoutes(ie,$[ie.value.outlet],O),this.forwardEvent(new Ur(ie.value.snapshot))}),S.children.length&&this.forwardEvent(new Zo(S.value.snapshot))}activateRoutes(S,_,O){const $=S.value,ie=_?_.value:null;if(yo($),$===ie)if($.component){const Ee=O.getOrCreateContext($.outlet);this.activateChildRoutes(S,_,Ee.children)}else this.activateChildRoutes(S,_,O);else if($.component){const Ee=O.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const it=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),Ee.children.onOutletReAttached(it.contexts),Ee.attachRef=it.componentRef,Ee.route=it.route.value,Ee.outlet&&Ee.outlet.attach(it.componentRef,it.route.value),yo(it.route.value),this.activateChildRoutes(S,null,Ee.children)}else{const it=ao($.snapshot),Lt=it?.get(v._Vd)??null;Ee.attachRef=null,Ee.route=$,Ee.resolver=Lt,Ee.injector=it,Ee.outlet&&Ee.outlet.activateWith($,Ee.injector),this.activateChildRoutes(S,null,Ee.children)}}else this.activateChildRoutes(S,null,O)}}class ei{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class $s{constructor(S,_){this.component=S,this.route=_}}function Fr(I,S,_){const O=I._root;return zt(O,S?S._root:null,_,[O.value])}function zs(I,S){const _=Symbol(),O=S.get(I,_);return O===_?"function"!=typeof I||(0,v.Z0I)(I)?S.get(I):I:O}function zt(I,S,_,O,$={canDeactivateChecks:[],canActivateChecks:[]}){const ie=Ro(S);return I.children.forEach(Ee=>{(function Ws(I,S,_,O,$={canDeactivateChecks:[],canActivateChecks:[]}){const ie=I.value,Ee=S?S.value:null,it=_?_.getContext(I.value.outlet):null;if(Ee&&ie.routeConfig===Ee.routeConfig){const Lt=function Ba(I,S,_){if("function"==typeof _)return _(I,S);switch(_){case"pathParamsChange":return!Yn(I.url,S.url);case"pathParamsOrQueryParamsChange":return!Yn(I.url,S.url)||!gn(I.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qo(I,S)||!gn(I.queryParams,S.queryParams);default:return!Qo(I,S)}}(Ee,ie,ie.routeConfig.runGuardsAndResolvers);Lt?$.canActivateChecks.push(new ei(O)):(ie.data=Ee.data,ie._resolvedData=Ee._resolvedData),zt(I,S,ie.component?it?it.children:null:_,O,$),Lt&&it&&it.outlet&&it.outlet.isActivated&&$.canDeactivateChecks.push(new $s(it.outlet.component,Ee))}else Ee&&uo(S,it,$),$.canActivateChecks.push(new ei(O)),zt(I,null,ie.component?it?it.children:null:_,O,$)})(Ee,ie[Ee.value.outlet],_,O.concat([Ee.value]),$),delete ie[Ee.value.outlet]}),jt(ie,(Ee,it)=>uo(Ee,_.getContext(it),$)),$}function uo(I,S,_){const O=Ro(I),$=I.value;jt(O,(ie,Ee)=>{uo(ie,$.component?S?S.children.getContext(Ee):null:S,_)}),_.canDeactivateChecks.push(new $s($.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,$))}function Xt(I){return"function"==typeof I}function D(I){return I instanceof de.K||"EmptyError"===I?.name}const k=Symbol("INITIAL_VALUE");function q(){return(0,Ye.w)(I=>(0,re.a)(I.map(S=>S.pipe((0,Le.q)(1),(0,mt.O)(k)))).pipe((0,He.U)(S=>{for(const _ of S)if(!0!==_){if(_===k)return k;if(!1===_||_ instanceof yt)return _}return!0}),(0,Ue.h)(S=>S!==k),(0,Le.q)(1)))}function Pn(I){return(0,ae.z)((0,_t.b)(S=>{if(cn(S))throw au(0,S)}),(0,He.U)(S=>!0===S))}const dn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rn(I,S,_,O,$){const ie=cr(I,S,_);return ie.matched?function hn(I,S,_,O){const $=S.canMatch;if(!$||0===$.length)return(0,c.of)(!0);const ie=$.map(Ee=>{const it=zs(Ee,I);return yn(function b(I){return I&&Xt(I.canMatch)}(it)?it.canMatch(S,_):I.runInContext(()=>it(S,_)))});return(0,c.of)(ie).pipe(q(),Pn())}(O=La(S,O),S,_).pipe((0,He.U)(Ee=>!0===Ee?ie:{...dn})):(0,c.of)(ie)}function cr(I,S,_){if(""===S.path)return"full"===S.pathMatch&&(I.hasChildren()||_.length>0)?{...dn}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const $=(S.matcher||Wt)(_,I,S);if(!$)return{...dn};const ie={};jt($.posParams,(it,Lt)=>{ie[Lt]=it.path});const Ee=$.consumed.length>0?{...ie,...$.consumed[$.consumed.length-1].parameters}:ie;return{matched:!0,consumedSegments:$.consumed,remainingSegments:_.slice($.consumed.length),parameters:Ee,positionalParamSegments:$.posParams??{}}}function Er(I,S,_,O){if(_.length>0&&function ui(I,S,_){return _.some(O=>Qi(I,S,O)&&Xn(O)!==pe)}(I,_,O)){const ie=new Rt(S,function Ht(I,S,_,O){const $={};$[pe]=O,O._sourceSegment=I,O._segmentIndexShift=S.length;for(const ie of _)if(""===ie.path&&Xn(ie)!==pe){const Ee=new Rt([],{});Ee._sourceSegment=I,Ee._segmentIndexShift=S.length,$[Xn(ie)]=Ee}return $}(I,S,O,new Rt(_,I.children)));return ie._sourceSegment=I,ie._segmentIndexShift=S.length,{segmentGroup:ie,slicedSegments:[]}}if(0===_.length&&function ii(I,S,_){return _.some(O=>Qi(I,S,O))}(I,_,O)){const ie=new Rt(I.segments,function ti(I,S,_,O,$){const ie={};for(const Ee of O)if(Qi(I,_,Ee)&&!$[Xn(Ee)]){const it=new Rt([],{});it._sourceSegment=I,it._segmentIndexShift=S.length,ie[Xn(Ee)]=it}return{...$,...ie}}(I,S,_,O,I.children));return ie._sourceSegment=I,ie._segmentIndexShift=S.length,{segmentGroup:ie,slicedSegments:_}}const $=new Rt(I.segments,I.children);return $._sourceSegment=I,$._segmentIndexShift=S.length,{segmentGroup:$,slicedSegments:_}}function Qi(I,S,_){return(!(I.hasChildren()||S.length>0)||"full"!==_.pathMatch)&&""===_.path}function Gs(I,S,_,O){return!!(Xn(I)===O||O!==pe&&Qi(S,_,I))&&("**"===I.path||cr(S,I,_).matched)}function ko(I,S,_){return 0===S.length&&!I.children[_]}const wo=!1;class Ha{constructor(S){this.segmentGroup=S||null}}class Ks{constructor(S){this.urlTree=S}}function lo(I){return(0,X._)(new Ha(I))}function $a(I){return(0,X._)(new Ks(I))}class Gr{constructor(S,_,O,$,ie){this.injector=S,this.configLoader=_,this.urlSerializer=O,this.urlTree=$,this.config=ie,this.allowRedirects=!0}apply(){const S=Er(this.urlTree.root,[],[],this.config).segmentGroup,_=new Rt(S.segments,S.children);return this.expandSegmentGroup(this.injector,this.config,_,pe).pipe((0,He.U)(ie=>this.createUrlTree(Re(ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Et.K)(ie=>{if(ie instanceof Ks)return this.allowRedirects=!1,this.match(ie.urlTree);throw ie instanceof Ha?this.noMatchError(ie):ie}))}match(S){return this.expandSegmentGroup(this.injector,this.config,S.root,pe).pipe((0,He.U)($=>this.createUrlTree(Re($),S.queryParams,S.fragment))).pipe((0,Et.K)($=>{throw $ instanceof Ha?this.noMatchError($):$}))}noMatchError(S){return new v.vHH(4002,wo)}createUrlTree(S,_,O){const $=Se(S);return new yt($,_,O)}expandSegmentGroup(S,_,O,$){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(S,_,O).pipe((0,He.U)(ie=>new Rt([],ie))):this.expandSegment(S,O,_,O.segments,$,!0)}expandChildren(S,_,O){const $=[];for(const ie of Object.keys(O.children))"primary"===ie?$.unshift(ie):$.push(ie);return(0,H.D)($).pipe((0,et.b)(ie=>{const Ee=O.children[ie],it=Mi(_,ie);return this.expandSegmentGroup(S,it,Ee,ie).pipe((0,He.U)(Lt=>({segment:Lt,outlet:ie})))}),(0,ft.R)((ie,Ee)=>(ie[Ee.outlet]=Ee.segment,ie),{}),Bt())}expandSegment(S,_,O,$,ie,Ee){return(0,H.D)(O).pipe((0,et.b)(it=>this.expandSegmentAgainstRoute(S,_,O,it,$,ie,Ee).pipe((0,Et.K)(pn=>{if(pn instanceof Ha)return(0,c.of)(null);throw pn}))),(0,ge.P)(it=>!!it),(0,Et.K)((it,Lt)=>{if(D(it))return ko(_,$,ie)?(0,c.of)(new Rt([],{})):lo(_);throw it}))}expandSegmentAgainstRoute(S,_,O,$,ie,Ee,it){return Gs($,_,ie,Ee)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(S,_,$,ie,Ee):it&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,_,O,$,ie,Ee):lo(_):lo(_)}expandSegmentAgainstRouteUsingRedirect(S,_,O,$,ie,Ee){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,O,$,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(S,_,O,$,ie,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,_,O,$){const ie=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?$a(ie):this.lineralizeSegments(O,ie).pipe((0,Be.z)(Ee=>{const it=new Rt(Ee,{});return this.expandSegment(S,it,_,Ee,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,_,O,$,ie,Ee){const{matched:it,consumedSegments:Lt,remainingSegments:pn,positionalParamSegments:Cn}=cr(_,$,ie);if(!it)return lo(_);const gr=this.applyRedirectCommands(Lt,$.redirectTo,Cn);return $.redirectTo.startsWith("/")?$a(gr):this.lineralizeSegments($,gr).pipe((0,Be.z)(Ri=>this.expandSegment(S,_,O,Ri.concat(pn),Ee,!1)))}matchSegmentAgainstRoute(S,_,O,$,ie){return"**"===O.path?(S=La(O,S),O.loadChildren?(O._loadedRoutes?(0,c.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):this.configLoader.loadChildren(S,O)).pipe((0,He.U)(it=>(O._loadedRoutes=it.routes,O._loadedInjector=it.injector,new Rt($,{})))):(0,c.of)(new Rt($,{}))):Rn(_,O,$,S).pipe((0,Ye.w)(({matched:Ee,consumedSegments:it,remainingSegments:Lt})=>Ee?this.getChildConfig(S=O._injector??S,O,$).pipe((0,Be.z)(Cn=>{const gr=Cn.injector??S,Ri=Cn.routes,{segmentGroup:Js,slicedSegments:Fo}=Er(_,it,Lt,Ri),Uo=new Rt(Js.segments,Js.children);if(0===Fo.length&&Uo.hasChildren())return this.expandChildren(gr,Ri,Uo).pipe((0,He.U)(wu=>new Rt(it,wu)));if(0===Ri.length&&0===Fo.length)return(0,c.of)(new Rt(it,{}));const es=Xn(O)===ie;return this.expandSegment(gr,Uo,Ri,Fo,es?pe:ie,!0).pipe((0,He.U)(ia=>new Rt(it.concat(ia.segments),ia.children)))})):lo(_)))}getChildConfig(S,_,O){return _.children?(0,c.of)({routes:_.children,injector:S}):_.loadChildren?void 0!==_._loadedRoutes?(0,c.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function fn(I,S,_,O){const $=S.canLoad;if(void 0===$||0===$.length)return(0,c.of)(!0);const ie=$.map(Ee=>{const it=zs(Ee,I);return yn(function lc(I){return I&&Xt(I.canLoad)}(it)?it.canLoad(S,_):I.runInContext(()=>it(S,_)))});return(0,c.of)(ie).pipe(q(),Pn())}(S,_,O).pipe((0,Be.z)($=>$?this.configLoader.loadChildren(S,_).pipe((0,_t.b)(ie=>{_._loadedRoutes=ie.routes,_._loadedInjector=ie.injector})):function Uu(I){return(0,X._)(Ns(wo,3))}())):(0,c.of)({routes:[],injector:S})}lineralizeSegments(S,_){let O=[],$=_.root;for(;;){if(O=O.concat($.segments),0===$.numberOfChildren)return(0,c.of)(O);if($.numberOfChildren>1||!$.children[pe])return S.redirectTo,(0,X._)(new v.vHH(4e3,wo));$=$.children[pe]}}applyRedirectCommands(S,_,O){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),S,O)}applyRedirectCreateUrlTree(S,_,O,$){const ie=this.createSegmentGroup(S,_.root,O,$);return new yt(ie,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(S,_){const O={};return jt(S,($,ie)=>{if("string"==typeof $&&$.startsWith(":")){const it=$.substring(1);O[ie]=_[it]}else O[ie]=$}),O}createSegmentGroup(S,_,O,$){const ie=this.createSegments(S,_.segments,O,$);let Ee={};return jt(_.children,(it,Lt)=>{Ee[Lt]=this.createSegmentGroup(S,it,O,$)}),new Rt(ie,Ee)}createSegments(S,_,O,$){return _.map(ie=>ie.path.startsWith(":")?this.findPosParam(S,ie,$):this.findOrReturn(ie,O))}findPosParam(S,_,O){const $=O[_.path.substring(1)];if(!$)throw new v.vHH(4001,wo);return $}findOrReturn(S,_){let O=0;for(const $ of _){if($.path===S.path)return _.splice(O),$;O++}return S}}class Ni{}class dc{constructor(S,_,O,$,ie,Ee,it){this.injector=S,this.rootComponentType=_,this.config=O,this.urlTree=$,this.url=ie,this.paramsInheritanceStrategy=Ee,this.urlSerializer=it}recognize(){const S=Er(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,pe).pipe((0,He.U)(_=>{if(null===_)return null;const O=new Oa([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pe,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new Jr(O,_),ie=new Hs(this.url,$);return this.inheritParamsAndData(ie._root),ie}))}inheritParamsAndData(S){const _=S.value,O=Ra(_,this.paramsInheritanceStrategy);_.params=Object.freeze(O.params),_.data=Object.freeze(O.data),S.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(S,_,O,$){return 0===O.segments.length&&O.hasChildren()?this.processChildren(S,_,O):this.processSegment(S,_,O,O.segments,$)}processChildren(S,_,O){return(0,H.D)(Object.keys(O.children)).pipe((0,et.b)($=>{const ie=O.children[$],Ee=Mi(_,$);return this.processSegmentGroup(S,Ee,ie,$)}),(0,ft.R)(($,ie)=>$&&ie?($.push(...ie),$):null),function ye(I,S=!1){return(0,J.e)((_,O)=>{let $=0;_.subscribe((0,ee.x)(O,ie=>{const Ee=I(ie,$++);(Ee||S)&&O.next(ie),!Ee&&O.complete()}))})}($=>null!==$),(0,An.d)(null),Bt(),(0,He.U)($=>{if(null===$)return null;const ie=Vu($);return function hc(I){I.sort((S,_)=>S.value.outlet===pe?-1:_.value.outlet===pe?1:S.value.outlet.localeCompare(_.value.outlet))}(ie),ie}))}processSegment(S,_,O,$,ie){return(0,H.D)(_).pipe((0,et.b)(Ee=>this.processSegmentAgainstRoute(Ee._injector??S,Ee,O,$,ie)),(0,ge.P)(Ee=>!!Ee),(0,Et.K)(Ee=>{if(D(Ee))return ko(O,$,ie)?(0,c.of)([]):(0,c.of)(null);throw Ee}))}processSegmentAgainstRoute(S,_,O,$,ie){if(_.redirectTo||!Gs(_,O,$,ie))return(0,c.of)(null);let Ee;if("**"===_.path){const it=$.length>0?Oe($).parameters:{},Lt=hu(O)+$.length,pn=new Oa($,it,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,R(_),Xn(_),_.component??_._loadedComponent??null,_,_a(O),Lt,Z(_));Ee=(0,c.of)({snapshot:pn,consumedSegments:[],remainingSegments:[]})}else Ee=Rn(O,_,$,S).pipe((0,He.U)(({matched:it,consumedSegments:Lt,remainingSegments:pn,parameters:Cn})=>{if(!it)return null;const gr=hu(O)+Lt.length;return{snapshot:new Oa(Lt,Cn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,R(_),Xn(_),_.component??_._loadedComponent??null,_,_a(O),gr,Z(_)),consumedSegments:Lt,remainingSegments:pn}}));return Ee.pipe((0,Ye.w)(it=>{if(null===it)return(0,c.of)(null);const{snapshot:Lt,consumedSegments:pn,remainingSegments:Cn}=it;S=_._injector??S;const gr=_._loadedInjector??S,Ri=function du(I){return I.children?I.children:I.loadChildren?I._loadedRoutes:[]}(_),{segmentGroup:Js,slicedSegments:Fo}=Er(O,pn,Cn,Ri.filter(es=>void 0===es.redirectTo));if(0===Fo.length&&Js.hasChildren())return this.processChildren(gr,Ri,Js).pipe((0,He.U)(es=>null===es?null:[new Jr(Lt,es)]));if(0===Ri.length&&0===Fo.length)return(0,c.of)([new Jr(Lt,[])]);const Uo=Xn(_)===ie;return this.processSegment(gr,Ri,Js,Fo,Uo?pe:ie).pipe((0,He.U)(es=>null===es?null:[new Jr(Lt,es)]))}))}}function yl(I){const S=I.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function Vu(I){const S=[],_=new Set;for(const O of I){if(!yl(O)){S.push(O);continue}const $=S.find(ie=>O.value.routeConfig===ie.value.routeConfig);void 0!==$?($.children.push(...O.children),_.add($)):S.push(O)}for(const O of _){const $=Vu(O.children);S.push(new Jr(O.value,$))}return S.filter(O=>!_.has(O))}function _a(I){let S=I;for(;S._sourceSegment;)S=S._sourceSegment;return S}function hu(I){let S=I,_=S._segmentIndexShift??0;for(;S._sourceSegment;)S=S._sourceSegment,_+=S._segmentIndexShift??0;return _-1}function R(I){return I.data||{}}function Z(I){return I.resolve||{}}function Mr(I){return"string"==typeof I.title||null===I.title}function Nr(I){return(0,Ye.w)(S=>{const _=I(S);return _?(0,H.D)(_).pipe((0,He.U)(()=>S)):(0,c.of)(S)})}const nr=new v.OlP("ROUTES");let Vr=(()=>{class I{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,v.f3M)(v.Sil)}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,c.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const O=yn(_.loadComponent()).pipe((0,He.U)(li),(0,_t.b)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=ie}),De(()=>{this.componentLoaders.delete(_)})),$=new xe(O,()=>new Fe.x).pipe(Ie());return this.componentLoaders.set(_,$),$}loadChildren(_,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,c.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const ie=this.loadModuleFactoryOrRoutes(O.loadChildren).pipe((0,He.U)(it=>{this.onLoadEndListener&&this.onLoadEndListener(O);let Lt,pn,Cn=!1;Array.isArray(it)?pn=it:(Lt=it.create(_).injector,pn=lt(Lt.get(nr,[],v.XFs.Self|v.XFs.Optional)));return{routes:pn.map(_o),injector:Lt}}),De(()=>{this.childrenLoaders.delete(O)})),Ee=new xe(ie,()=>new Fe.x).pipe(Ie());return this.childrenLoaders.set(O,Ee),Ee}loadModuleFactoryOrRoutes(_){return yn(_()).pipe((0,He.U)(li),(0,Be.z)(O=>O instanceof v.YKP||Array.isArray(O)?(0,c.of)(O):(0,H.D)(this.compiler.compileModuleAsync(O))))}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function li(I){return function xr(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let ji=(()=>{class I{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Fe.x,this.configLoader=(0,v.f3M)(Vr),this.environmentInjector=(0,v.f3M)(v.lqb),this.urlSerializer=(0,v.f3M)(jr),this.rootContexts=(0,v.f3M)(Jo),this.navigationId=0,this.afterPreactivation=()=>(0,c.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=$=>this.events.next(new ro($)),this.configLoader.onLoadStartListener=$=>this.events.next(new mo($))}complete(){this.transitions?.complete()}handleNavigationRequest(_){const O=++this.navigationId;this.transitions?.next({...this.transitions.value,..._,id:O})}setupNavigations(_){return this.transitions=new ue.X({id:0,targetPageId:0,currentUrlTree:_.currentUrlTree,currentRawUrl:_.currentUrlTree,extractedUrl:_.urlHandlingStrategy.extract(_.currentUrlTree),urlAfterRedirects:_.urlHandlingStrategy.extract(_.currentUrlTree),rawUrl:_.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wr,restoredState:null,currentSnapshot:_.routerState.snapshot,targetSnapshot:null,currentRouterState:_.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ue.h)(O=>0!==O.id),(0,He.U)(O=>({...O,extractedUrl:_.urlHandlingStrategy.extract(O.rawUrl)})),(0,Ye.w)(O=>{let $=!1,ie=!1;return(0,c.of)(O).pipe((0,_t.b)(Ee=>{this.currentNavigation={id:Ee.id,initialUrl:Ee.rawUrl,extractedUrl:Ee.extractedUrl,trigger:Ee.source,extras:Ee.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ye.w)(Ee=>{const it=_.browserUrlTree.toString(),Lt=!_.navigated||Ee.extractedUrl.toString()!==it||it!==_.currentUrlTree.toString();if(!Lt&&"reload"!==(Ee.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const Cn="";return this.events.next(new ni(Ee.id,_.serializeUrl(O.rawUrl),Cn,0)),_.rawUrlTree=Ee.rawUrl,Ee.resolve(null),ce.E}if(_.urlHandlingStrategy.shouldProcessUrl(Ee.rawUrl))return Lo(Ee.source)&&(_.browserUrlTree=Ee.extractedUrl),(0,c.of)(Ee).pipe((0,Ye.w)(Cn=>{const gr=this.transitions?.getValue();return this.events.next(new oi(Cn.id,this.urlSerializer.serialize(Cn.extractedUrl),Cn.source,Cn.restoredState)),gr!==this.transitions?.getValue()?ce.E:Promise.resolve(Cn)}),function Bu(I,S,_,O){return(0,Ye.w)($=>function Br(I,S,_,O,$){return new Gr(I,S,_,O,$).apply()}(I,S,_,$.extractedUrl,O).pipe((0,He.U)(ie=>({...$,urlAfterRedirects:ie}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,_.config),(0,_t.b)(Cn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Cn.urlAfterRedirects},O.urlAfterRedirects=Cn.urlAfterRedirects}),function B(I,S,_,O,$){return(0,Be.z)(ie=>function Kr(I,S,_,O,$,ie,Ee="emptyOnly"){return new dc(I,S,_,O,$,Ee,ie).recognize().pipe((0,Ye.w)(it=>null===it?function Ji(I){return new ne.y(S=>S.error(I))}(new Ni):(0,c.of)(it)))}(I,S,_,ie.urlAfterRedirects,O.serialize(ie.urlAfterRedirects),O,$).pipe((0,He.U)(Ee=>({...ie,targetSnapshot:Ee}))))}(this.environmentInjector,this.rootComponentType,_.config,this.urlSerializer,_.paramsInheritanceStrategy),(0,_t.b)(Cn=>{if(O.targetSnapshot=Cn.targetSnapshot,"eager"===_.urlUpdateStrategy){if(!Cn.extras.skipLocationChange){const Ri=_.urlHandlingStrategy.merge(Cn.urlAfterRedirects,Cn.rawUrl);_.setBrowserUrl(Ri,Cn)}_.browserUrlTree=Cn.urlAfterRedirects}const gr=new fa(Cn.id,this.urlSerializer.serialize(Cn.extractedUrl),this.urlSerializer.serialize(Cn.urlAfterRedirects),Cn.targetSnapshot);this.events.next(gr)}));if(Lt&&_.urlHandlingStrategy.shouldProcessUrl(_.rawUrlTree)){const{id:Cn,extractedUrl:gr,source:Ri,restoredState:Js,extras:Fo}=Ee,Uo=new oi(Cn,this.urlSerializer.serialize(gr),Ri,Js);this.events.next(Uo);const es=ri(gr,this.rootComponentType).snapshot;return O={...Ee,targetSnapshot:es,urlAfterRedirects:gr,extras:{...Fo,skipLocationChange:!1,replaceUrl:!1}},(0,c.of)(O)}{const Cn="";return this.events.next(new ni(Ee.id,_.serializeUrl(O.extractedUrl),Cn,1)),_.rawUrlTree=Ee.rawUrl,Ee.resolve(null),ce.E}}),(0,_t.b)(Ee=>{const it=new vs(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(Ee.urlAfterRedirects),Ee.targetSnapshot);this.events.next(it)}),(0,He.U)(Ee=>O={...Ee,guards:Fr(Ee.targetSnapshot,Ee.currentSnapshot,this.rootContexts)}),function be(I,S){return(0,Be.z)(_=>{const{targetSnapshot:O,currentSnapshot:$,guards:{canActivateChecks:ie,canDeactivateChecks:Ee}}=_;return 0===Ee.length&&0===ie.length?(0,c.of)({..._,guardsResult:!0}):function Pe(I,S,_,O){return(0,H.D)(I).pipe((0,Be.z)($=>function rn(I,S,_,O,$){const ie=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,c.of)(!0);const Ee=ie.map(it=>{const Lt=ao(S)??$,pn=zs(it,Lt);return yn(function U(I){return I&&Xt(I.canDeactivate)}(pn)?pn.canDeactivate(I,S,_,O):Lt.runInContext(()=>pn(I,S,_,O))).pipe((0,ge.P)())});return(0,c.of)(Ee).pipe(q())}($.component,$.route,_,S,O)),(0,ge.P)($=>!0!==$,!0))}(Ee,O,$,I).pipe((0,Be.z)(it=>it&&function Va(I){return"boolean"==typeof I}(it)?function Ge(I,S,_,O){return(0,H.D)(S).pipe((0,et.b)($=>(0,se.z)(function xt(I,S){return null!==I&&S&&S(new xs(I)),(0,c.of)(!0)}($.route.parent,O),function at(I,S){return null!==I&&S&&S(new qo(I)),(0,c.of)(!0)}($.route,O),function Kt(I,S,_){const O=S[S.length-1],ie=S.slice(0,S.length-1).reverse().map(Ee=>function Lu(I){const S=I.routeConfig?I.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:I,guards:S}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>(0,W.P)(()=>{const it=Ee.guards.map(Lt=>{const pn=ao(Ee.node)??_,Cn=zs(Lt,pn);return yn(function ja(I){return I&&Xt(I.canActivateChild)}(Cn)?Cn.canActivateChild(O,I):pn.runInContext(()=>Cn(O,I))).pipe((0,ge.P)())});return(0,c.of)(it).pipe(q())}));return(0,c.of)(ie).pipe(q())}(I,$.path,_),function Ct(I,S,_){const O=S.routeConfig?S.routeConfig.canActivate:null;if(!O||0===O.length)return(0,c.of)(!0);const $=O.map(ie=>(0,W.P)(()=>{const Ee=ao(S)??_,it=zs(ie,Ee);return yn(function Fu(I){return I&&Xt(I.canActivate)}(it)?it.canActivate(S,I):Ee.runInContext(()=>it(S,I))).pipe((0,ge.P)())}));return(0,c.of)($).pipe(q())}(I,$.route,_))),(0,ge.P)($=>!0!==$,!0))}(O,ie,I,S):(0,c.of)(it)),(0,He.U)(it=>({..._,guardsResult:it})))})}(this.environmentInjector,Ee=>this.events.next(Ee)),(0,_t.b)(Ee=>{if(O.guardsResult=Ee.guardsResult,cn(Ee.guardsResult))throw au(0,Ee.guardsResult);const it=new Bi(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(Ee.urlAfterRedirects),Ee.targetSnapshot,!!Ee.guardsResult);this.events.next(it)}),(0,Ue.h)(Ee=>!!Ee.guardsResult||(_.restoreHistory(Ee),this.cancelNavigationTransition(Ee,"",3),!1)),Nr(Ee=>{if(Ee.guards.canActivateChecks.length)return(0,c.of)(Ee).pipe((0,_t.b)(it=>{const Lt=new mi(it.id,this.urlSerializer.serialize(it.extractedUrl),this.urlSerializer.serialize(it.urlAfterRedirects),it.targetSnapshot);this.events.next(Lt)}),(0,Ye.w)(it=>{let Lt=!1;return(0,c.of)(it).pipe(function le(I,S){return(0,Be.z)(_=>{const{targetSnapshot:O,guards:{canActivateChecks:$}}=_;if(!$.length)return(0,c.of)(_);let ie=0;return(0,H.D)($).pipe((0,et.b)(Ee=>function je(I,S,_,O){const $=I.routeConfig,ie=I._resolve;return void 0!==$?.title&&!Mr($)&&(ie[Ne]=$.title),function It(I,S,_,O){const $=function Ft(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}(I);if(0===$.length)return(0,c.of)({});const ie={};return(0,H.D)($).pipe((0,Be.z)(Ee=>function _n(I,S,_,O){const $=ao(S)??O,ie=zs(I,$);return yn(ie.resolve?ie.resolve(S,_):$.runInContext(()=>ie(S,_)))}(I[Ee],S,_,O).pipe((0,ge.P)(),(0,_t.b)(it=>{ie[Ee]=it}))),pt(1),(0,_e.h)(ie),(0,Et.K)(Ee=>D(Ee)?ce.E:(0,X._)(Ee)))}(ie,I,S,O).pipe((0,He.U)(Ee=>(I._resolvedData=Ee,I.data=Ra(I,_).resolve,$&&Mr($)&&(I.data[Ne]=$.title),null)))}(Ee.route,O,I,S)),(0,_t.b)(()=>ie++),pt(1),(0,Be.z)(Ee=>ie===$.length?(0,c.of)(_):ce.E))})}(_.paramsInheritanceStrategy,this.environmentInjector),(0,_t.b)({next:()=>Lt=!0,complete:()=>{Lt||(_.restoreHistory(it),this.cancelNavigationTransition(it,"",2))}}))}),(0,_t.b)(it=>{const Lt=new ai(it.id,this.urlSerializer.serialize(it.extractedUrl),this.urlSerializer.serialize(it.urlAfterRedirects),it.targetSnapshot);this.events.next(Lt)}))}),Nr(Ee=>{const it=Lt=>{const pn=[];Lt.routeConfig?.loadComponent&&!Lt.routeConfig._loadedComponent&&pn.push(this.configLoader.loadComponent(Lt.routeConfig).pipe((0,_t.b)(Cn=>{Lt.component=Cn}),(0,He.U)(()=>{})));for(const Cn of Lt.children)pn.push(...it(Cn));return pn};return(0,re.a)(it(Ee.targetSnapshot.root)).pipe((0,An.d)(),(0,Le.q)(1))}),Nr(()=>this.afterPreactivation()),(0,He.U)(Ee=>{const it=function Po(I,S,_){const O=Ai(I,S._root,_?_._root:void 0);return new Oo(O,S)}(_.routeReuseStrategy,Ee.targetSnapshot,Ee.currentRouterState);return O={...Ee,targetRouterState:it}}),(0,_t.b)(Ee=>{_.currentUrlTree=Ee.urlAfterRedirects,_.rawUrlTree=_.urlHandlingStrategy.merge(Ee.urlAfterRedirects,Ee.rawUrl),_.routerState=Ee.targetRouterState,"deferred"===_.urlUpdateStrategy&&(Ee.extras.skipLocationChange||_.setBrowserUrl(_.rawUrlTree,Ee),_.browserUrlTree=Ee.urlAfterRedirects)}),((I,S,_)=>(0,He.U)(O=>(new Ua(S,O.targetRouterState,O.currentRouterState,_).activate(I),O)))(this.rootContexts,_.routeReuseStrategy,Ee=>this.events.next(Ee)),(0,Le.q)(1),(0,_t.b)({next:Ee=>{$=!0,this.lastSuccessfulNavigation=this.currentNavigation,_.navigated=!0,this.events.next(new wr(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),this.urlSerializer.serialize(_.currentUrlTree))),_.titleStrategy?.updateTitle(Ee.targetRouterState.snapshot),Ee.resolve(!0)},complete:()=>{$=!0}}),De(()=>{$||ie||this.cancelNavigationTransition(O,"",1),this.currentNavigation?.id===O.id&&(this.currentNavigation=null)}),(0,Et.K)(Ee=>{if(ie=!0,Rs(Ee)){ma(Ee)||(_.navigated=!0,_.restoreHistory(O,!0));const it=new Ui(O.id,this.urlSerializer.serialize(O.extractedUrl),Ee.message,Ee.cancellationCode);if(this.events.next(it),ma(Ee)){const Lt=_.urlHandlingStrategy.merge(Ee.url,_.rawUrlTree),pn={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===_.urlUpdateStrategy||Lo(O.source)};_.scheduleNavigation(Lt,Wr,null,pn,{resolve:O.resolve,reject:O.reject,promise:O.promise})}else O.resolve(!1)}else{_.restoreHistory(O,!0);const it=new qn(O.id,this.urlSerializer.serialize(O.extractedUrl),Ee,O.targetSnapshot??void 0);this.events.next(it);try{O.resolve(_.errorHandler(Ee))}catch(Lt){O.reject(Lt)}}return ce.E}))}))}cancelNavigationTransition(_,O,$){const ie=new Ui(_.id,this.urlSerializer.serialize(_.extractedUrl),O,$);this.events.next(ie),_.resolve(!1)}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Lo(I){return I!==Wr}let ys=(()=>{class I{buildTitle(_){let O,$=_.root;for(;void 0!==$;)O=this.getResolvedTitleForRoute($)??O,$=$.children.find(ie=>ie.outlet===pe);return O}getResolvedTitleForRoute(_){return _.data[Ne]}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=v.Yz7({token:I,factory:function(){return(0,v.f3M)(Os)},providedIn:"root"}),I})(),Os=(()=>{class I extends ys{constructor(_){super(),this.title=_}updateTitle(_){const O=this.buildTitle(_);void 0!==O&&this.title.setTitle(O)}}return I.\u0275fac=function(_){return new(_||I)(v.LFG(Ze.Dx))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),Zs=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=v.Yz7({token:I,factory:function(){return(0,v.f3M)(Xo)},providedIn:"root"}),I})();class Hi{shouldDetach(S){return!1}store(S,_){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,_){return S.routeConfig===_.routeConfig}}let Xo=(()=>{class I extends Hi{}return I.\u0275fac=function(){let S;return function(O){return(S||(S=v.n5z(I)))(O||I)}}(),I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const _s=new v.OlP("",{providedIn:"root",factory:()=>({})});let Kh=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=v.Yz7({token:I,factory:function(){return(0,v.f3M)(Wa)},providedIn:"root"}),I})(),Wa=(()=>{class I{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,O){return _}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function ws(I){throw I}function fc(I,S,_){return S.parse("/")}const ju={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cs=(()=>{class I{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,v.f3M)(v.c2e),this.isNgZoneEnabled=!1,this.options=(0,v.f3M)(_s,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ws,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||fc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,v.f3M)(Kh),this.routeReuseStrategy=(0,v.f3M)(Zs),this.urlCreationStrategy=(0,v.f3M)(io),this.titleStrategy=(0,v.f3M)(ys),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=lt((0,v.f3M)(nr,{optional:!0})??[]),this.navigationTransitions=(0,v.f3M)(ji),this.urlSerializer=(0,v.f3M)(jr),this.location=(0,v.f3M)(Ke.Ye),this.isNgZoneEnabled=(0,v.f3M)(v.R0b)instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new yt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ri(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(_=>{this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId??0},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const _=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Wr,_)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const O="popstate"===_.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{this.navigateToSyncWithBrowser(_.url,O,_.state)},0)}))}navigateToSyncWithBrowser(_,O,$){const ie={replaceUrl:!0},Ee=$?.navigationId?$:null;if($){const Lt={...$};delete Lt.navigationId,delete Lt.\u0275routerPageId,0!==Object.keys(Lt).length&&(ie.state=Lt)}const it=this.parseUrl(_);this.scheduleNavigation(it,O,Ee,ie)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(_){this.config=_.map(_o),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,O={}){const{relativeTo:$,queryParams:ie,fragment:Ee,queryParamsHandling:it,preserveFragment:Lt}=O,pn=Lt?this.currentUrlTree.fragment:Ee;let Cn=null;switch(it){case"merge":Cn={...this.currentUrlTree.queryParams,...ie};break;case"preserve":Cn=this.currentUrlTree.queryParams;break;default:Cn=ie||null}return null!==Cn&&(Cn=this.removeEmptyProps(Cn)),this.urlCreationStrategy.createUrlTree($,this.routerState,this.currentUrlTree,_,Cn,pn??null)}navigateByUrl(_,O={skipLocationChange:!1}){const $=cn(_)?_:this.parseUrl(_),ie=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(ie,Wr,null,O)}navigate(_,O={skipLocationChange:!1}){return function _l(I){for(let S=0;S<I.length;S++){const _=I[S];if(null==_)throw new v.vHH(4008,false)}}(_),this.navigateByUrl(this.createUrlTree(_,O),O)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let O;try{O=this.urlSerializer.parse(_)}catch($){O=this.malformedUriErrorHandler($,this.urlSerializer,_)}return O}isActive(_,O){let $;if($=!0===O?{...ju}:!1===O?{...Hu}:O,cn(_))return F(this.currentUrlTree,_,$);const ie=this.parseUrl(_);return F(this.currentUrlTree,ie,$)}removeEmptyProps(_){return Object.keys(_).reduce((O,$)=>{const ie=_[$];return null!=ie&&(O[$]=ie),O},{})}scheduleNavigation(_,O,$,ie,Ee){if(this.disposed)return Promise.resolve(!1);let it,Lt,pn,Cn;return Ee?(it=Ee.resolve,Lt=Ee.reject,pn=Ee.promise):pn=new Promise((gr,Ri)=>{it=gr,Lt=Ri}),Cn="computed"===this.canceledNavigationResolution?$&&$.\u0275routerPageId?$.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Cn,source:O,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:_,extras:ie,resolve:it,reject:Lt,promise:pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pn.catch(gr=>Promise.reject(gr))}setBrowserUrl(_,O){const $=this.urlSerializer.serialize(_);if(this.location.isCurrentPathEqualTo($)||O.extras.replaceUrl){const Ee={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState($,"",Ee)}else{const ie={...O.extras.state,...this.generateNgRouterState(O.id,O.targetPageId)};this.location.go($,"",ie)}}restoreHistory(_,O=!1){if("computed"===this.canceledNavigationResolution){const ie=this.currentPageId-(this.browserPageId??this.currentPageId);0!==ie?this.location.historyGo(ie):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ie&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,O){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:O}:{navigationId:_}}}return I.\u0275fac=function(_){return new(_||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),qs=(()=>{class I{constructor(_,O,$,ie,Ee,it){this.router=_,this.route=O,this.tabIndexAttribute=$,this.renderer=ie,this.el=Ee,this.locationStrategy=it,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Fe.x;const Lt=Ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Lt||"area"===Lt,this.isAnchorElement?this.subscription=_.events.subscribe(pn=>{pn instanceof wr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(_){this._preserveFragment=(0,v.D6c)(_)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(_){this._skipLocationChange=(0,v.D6c)(_)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(_){this._replaceUrl=(0,v.D6c)(_)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(_){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",_)}ngOnChanges(_){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(_,O,$,ie,Ee){return!!(null===this.urlTree||this.isAnchorElement&&(0!==_||O||$||ie||Ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const _=null===this.href?null:(0,v.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_)}applyAttributeValue(_,O){const $=this.renderer,ie=this.el.nativeElement;null!==O?$.setAttribute(ie,_,O):$.removeAttribute(ie,_)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return I.\u0275fac=function(_){return new(_||I)(v.Y36(cs),v.Y36(js),v.$8M("tabindex"),v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(Ke.S$))},I.\u0275dir=v.lG2({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(_,O){1&_&&v.NdJ("click",function(ie){return O.onClick(ie.button,ie.ctrlKey,ie.shiftKey,ie.altKey,ie.metaKey)}),2&_&&v.uIk("target",O.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[v.TTD]}),I})();class wa{}let Dd=(()=>{class I{constructor(_,O,$,ie,Ee){this.router=_,this.injector=$,this.preloadingStrategy=ie,this.loader=Ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ue.h)(_=>_ instanceof wr),(0,et.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,O){const $=[];for(const ie of O){ie.providers&&!ie._injector&&(ie._injector=(0,v.MMx)(ie.providers,_,`Route: ${ie.path}`));const Ee=ie._injector??_,it=ie._loadedInjector??Ee;(ie.loadChildren&&!ie._loadedRoutes&&void 0===ie.canLoad||ie.loadComponent&&!ie._loadedComponent)&&$.push(this.preloadConfig(Ee,ie)),(ie.children||ie._loadedRoutes)&&$.push(this.processRoutes(it,ie.children??ie._loadedRoutes))}return(0,H.D)($).pipe((0,Te.J)())}preloadConfig(_,O){return this.preloadingStrategy.preload(O,()=>{let $;$=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(_,O):(0,c.of)(null);const ie=$.pipe((0,Be.z)(Ee=>null===Ee?(0,c.of)(void 0):(O._loadedRoutes=Ee.routes,O._loadedInjector=Ee.injector,this.processRoutes(Ee.injector??_,Ee.routes))));if(O.loadComponent&&!O._loadedComponent){const Ee=this.loader.loadComponent(O);return(0,H.D)([ie,Ee]).pipe((0,Te.J)())}return ie})}}return I.\u0275fac=function(_){return new(_||I)(v.LFG(cs),v.LFG(v.Sil),v.LFG(v.lqb),v.LFG(wa),v.LFG(Vr))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const Ea=new v.OlP("");let ta=(()=>{class I{constructor(_,O,$,ie,Ee={}){this.urlSerializer=_,this.transitions=O,this.viewportScroller=$,this.zone=ie,this.options=Ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ee.scrollPositionRestoration=Ee.scrollPositionRestoration||"disabled",Ee.anchorScrolling=Ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof oi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof wr&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.urlSerializer.parse(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(_=>{_ instanceof Yi&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Yi(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return I.\u0275fac=function(_){v.$Z()},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac}),I})();var Es=(()=>((Es=Es||{})[Es.COMPLETE=0]="COMPLETE",Es[Es.FAILED=1]="FAILED",Es[Es.REDIRECTING=2]="REDIRECTING",Es))();const Eo=!1;function bo(I,S){return{\u0275kind:I,\u0275providers:S}}const Ga=new v.OlP("",{providedIn:"root",factory:()=>!1});function bs(){const I=(0,v.f3M)(v.zs3);return S=>{const _=I.get(v.z2F);if(S!==_.components[0])return;const O=I.get(cs),$=I.get(Ps);1===I.get(yi)&&O.initialNavigation(),I.get(zu,null,v.XFs.Optional)?.setUpPreloading(),I.get(Ea,null,v.XFs.Optional)?.init(),O.resetRootComponentType(_.componentTypes[0]),$.closed||($.next(),$.complete(),$.unsubscribe())}}const Ps=new v.OlP(Eo?"bootstrap done indicator":"",{factory:()=>new Fe.x}),yi=new v.OlP(Eo?"initial navigation":"",{providedIn:"root",factory:()=>1});function Ys(){let I=[];return I=Eo?[{provide:v.Xts,multi:!0,useFactory:()=>{const S=(0,v.f3M)(cs);return()=>S.events.subscribe(_=>{console.group?.(`Router Event: ${_.constructor.name}`),console.log(function pa(I){if(!("type"in I))return`Unknown Router Event: ${I.constructor.name}`;switch(I.type){case 14:return`ActivationEnd(path: '${I.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${I.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${I.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${I.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state}, shouldActivate: ${I.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 2:return`NavigationCancel(id: ${I.id}, url: '${I.url}')`;case 16:return`NavigationSkipped(id: ${I.id}, url: '${I.url}')`;case 1:return`NavigationEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${I.id}, url: '${I.url}', error: ${I.error})`;case 0:return`NavigationStart(id: ${I.id}, url: '${I.url}')`;case 6:return`ResolveEnd(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 5:return`ResolveStart(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 10:return`RouteConfigLoadEnd(path: ${I.route.path})`;case 9:return`RouteConfigLoadStart(path: ${I.route.path})`;case 4:return`RoutesRecognized(id: ${I.id}, url: '${I.url}', urlAfterRedirects: '${I.urlAfterRedirects}', state: ${I.state})`;case 15:return`Scroll(anchor: '${I.anchor}', position: '${I.position?`${I.position[0]}, ${I.position[1]}`:null}')`}}(_)),console.log(_),console.groupEnd?.()})}}]:[],bo(1,I)}const zu=new v.OlP(Eo?"router preloader":"");function vc(I){return bo(0,[{provide:zu,useExisting:Dd},{provide:wa,useExisting:I}])}const El=!1,xd=new v.OlP(El?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),qh=[Ke.Ye,{provide:jr,useClass:lr},cs,Jo,{provide:js,useFactory:function na(I){return I.routerState.root},deps:[cs]},Vr,El?{provide:Ga,useValue:!0}:[]];function Md(){return new v.PXZ("Router",cs)}let yu=(()=>{class I{constructor(_){}static forRoot(_,O){return{ngModule:I,providers:[qh,El&&O?.enableTracing?Ys().\u0275providers:[],{provide:nr,multi:!0,useValue:_},{provide:xd,useFactory:Io,deps:[[cs,new v.FiY,new v.tp0]]},{provide:_s,useValue:O||{}},O?.useHash?{provide:Ke.S$,useClass:Ke.Do}:{provide:Ke.S$,useClass:Ke.b0},{provide:Ea,useFactory:()=>{const I=(0,v.f3M)(Ke.EM),S=(0,v.f3M)(v.R0b),_=(0,v.f3M)(_s),O=(0,v.f3M)(ji),$=(0,v.f3M)(jr);return _.scrollOffset&&I.setOffset(_.scrollOffset),new ta($,O,I,S,_)}},O?.preloadingStrategy?vc(O.preloadingStrategy).\u0275providers:[],{provide:v.PXZ,multi:!0,useFactory:Md},O?.initialNavigation?_u(O):[],[{provide:Gu,useFactory:bs},{provide:v.tb,multi:!0,useExisting:Gu}]]}}static forChild(_){return{ngModule:I,providers:[{provide:nr,multi:!0,useValue:_}]}}}return I.\u0275fac=function(_){return new(_||I)(v.LFG(xd,8))},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({imports:[Vi]}),I})();function Io(I){if(El&&I)throw new v.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function _u(I){return["disabled"===I.initialNavigation?bo(3,[{provide:v.ip1,multi:!0,useFactory:()=>{const S=(0,v.f3M)(cs);return()=>{S.setUpLocationChangeListener()}}},{provide:yi,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?bo(2,[{provide:yi,useValue:0},{provide:v.ip1,multi:!0,deps:[v.zs3],useFactory:S=>{const _=S.get(Ke.V_,Promise.resolve());return()=>_.then(()=>new Promise(O=>{const $=S.get(cs),ie=S.get(Ps);(function gc(I,S){I.events.pipe((0,Ue.h)(_=>_ instanceof wr||_ instanceof Ui||_ instanceof qn||_ instanceof ni),(0,He.U)(_=>_ instanceof wr||_ instanceof ni?Es.COMPLETE:_ instanceof Ui&&(0===_.code||1===_.code)?Es.REDIRECTING:Es.FAILED),(0,Ue.h)(_=>_!==Es.REDIRECTING),(0,Le.q)(1)).subscribe(()=>{S()})})($,()=>{O(!0)}),S.get(ji).afterPreactivation=()=>(O(!0),ie.closed?(0,c.of)(void 0):ie),$.initialNavigation()}))}}]).\u0275providers:[]]}const Gu=new v.OlP(El?"Router Initializer":"")},2381:(Mt,Ae,P)=>{"use strict";P.d(Ae,{oj:()=>W});var v=P(4650),H=P(1607),c=P(5987),ue=P(6895);class re{constructor(X,ne,ce){this.nodes=X,this.viewRef=ne,this.componentRef=ce}}class se{constructor(X,ne,ce,Me,J,ee,Ie,xe,Fe){this._viewContainerRef=X,this._renderer=ne,this._elementRef=ce,this._injector=Me,this._componentFactoryResolver=J,this._ngZone=ee,this._applicationRef=Ie,this._posService=xe,this._document=Fe,this.onBeforeShow=new v.vpe,this.onShown=new v.vpe,this.onBeforeHide=new v.vpe,this.onHidden=new v.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(X){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(X),this}to(X){return this.container=X||this.container,this}position(X){return X?(this.attachment=X.attachment||this.attachment,this._elementRef=X.target||this._elementRef,this):this}provide(X){return this._providers.push(X),this}show(X={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(X.content,X.context,X.initialState);const ne=v.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(ne,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,X),this.container instanceof v.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const ce=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!ce)return;ce.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(X.id?{id:X.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(X){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const ne=this._componentRef.location.nativeElement;return ne.parentNode?.removeChild(ne),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(X?{id:X}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(X){this.triggers=X.triggers||this.triggers,this._listenOpts.outsideClick=X.outsideClick,this._listenOpts.outsideEsc=X.outsideEsc,X.target=X.target||this._elementRef?.nativeElement;const ne=this._listenOpts.hide=()=>X.hide?X.hide():void this.hide(),ce=this._listenOpts.show=J=>{X.show?X.show(J):this.show(J),J()};return this._renderer&&(this._unregisterListenersFn=(0,H.wo)(this._renderer,{target:X.target,triggers:X.triggers,show:ce,hide:ne,toggle:J=>{this.isShown?ne():ce(J)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(X,ne){return X&&ne&&(this._inlineViewRef=X.createEmbeddedView(ne)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const X=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,H.Rg)(this._renderer,{targets:[X,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,H.C)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(X,ne,ce){if(!X)return new re([]);if(X instanceof v.Rgc){if(this._viewContainerRef){const ee=this._viewContainerRef.createEmbeddedView(X,ne);return ee.markForCheck(),new re([ee.rootNodes],ee)}const J=X.createEmbeddedView({});return this._applicationRef.attachView(J),new re([J.rootNodes],J)}if("function"==typeof X){const J=this._componentFactoryResolver.resolveComponentFactory(X),ee=v.zs3.create({providers:this._providers,parent:this._injector}),Ie=J.create(ee);return Object.assign(Ie.instance,ce),this._applicationRef.attachView(Ie.hostView),new re([[Ie.location.nativeElement]],Ie.hostView,Ie)}const Me=this._renderer?[this._renderer.createText(`${X}`)]:[];return new re([Me])}}let W=(()=>{class ae{constructor(ne,ce,Me,J,ee,Ie){this._componentFactoryResolver=ne,this._ngZone=ce,this._injector=Me,this._posService=J,this._applicationRef=ee,this._document=Ie}createLoader(ne,ce,Me){return new se(ce,Me,ne,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}}return ae.\u0275fac=function(ne){return new(ne||ae)(v.LFG(v._Vd),v.LFG(v.R0b),v.LFG(v.zs3),v.LFG(c.sA),v.LFG(v.z2F),v.LFG(ue.K0))},ae.\u0275prov=v.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})()},9245:(Mt,Ae,P)=>{"use strict";P.d(Ae,{Hz:()=>ee,Mq:()=>Ie,TO:()=>J,mr:()=>xe});var v=P(4650),H=P(9300),c=P(2381),ue=P(7340),de=P(6895),re=P(5987);const se=function(Fe){return{dropdown:Fe}},W=["*"];let ae=(()=>{class Fe{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return Fe.\u0275fac=function(He){return new(He||Fe)},Fe.\u0275prov=v.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})(),X=(()=>{class Fe{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new v.vpe,this.isDisabledChange=new v.vpe,this.toggleClick=new v.vpe,this.counts=0,this.dropdownMenu=new Promise(He=>{this.resolveDropdownMenu=He})}}return Fe.\u0275fac=function(He){return new(He||Fe)},Fe.\u0275prov=v.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"platform"}),Fe})();const ce=[(0,ue.oB)({height:0,overflow:"hidden"}),(0,ue.jt)("220ms cubic-bezier(0, 0, 0.2, 1)",(0,ue.oB)({height:"*",overflow:"hidden"}))];let Me=(()=>{class Fe{constructor(He,Ye,Le,mt,Ue){this._state=He,this.cd=Ye,this._renderer=Le,this._element=mt,this.isOpen=!1,this._factoryDropDownAnimation=Ue.build(ce),this._subscription=He.isOpenChange.subscribe(Be=>{this.isOpen=Be;const ge=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),ge&&(this._renderer.addClass(ge,"show"),(ge.classList.contains("dropdown-menu-right")||ge.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(ge,"left","auto"),this._renderer.setStyle(ge,"right","0")),"up"===this.direction&&(this._renderer.setStyle(ge,"top","auto"),this._renderer.setStyle(ge,"transform","translateY(-101%)"))),ge&&this._state.isAnimated&&this._factoryDropDownAnimation.create(ge).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(He){return this._element.nativeElement.contains(He)}ngOnDestroy(){this._subscription.unsubscribe()}}return Fe.\u0275fac=function(He){return new(He||Fe)(v.Y36(X),v.Y36(v.sBO),v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(ue._j))},Fe.\u0275cmp=v.Xpm({type:Fe,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:W,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(He,Ye){1&He&&(v.F$t(),v.TgZ(0,"div",0),v.Hsn(1),v.qZA()),2&He&&(v.ekj("dropup","up"===Ye.direction)("show",Ye.isOpen)("open",Ye.isOpen),v.Q6J("ngClass",v.VKq(7,se,"down"===Ye.direction)))},dependencies:[de.mk],encapsulation:2,changeDetection:0}),Fe})(),J=(()=>{class Fe{constructor(He,Ye,Le,mt,Ue,Be,ge){this._elementRef=He,this._renderer=Ye,this._viewContainerRef=Le,this._cis=mt,this._state=Ue,this._config=Be,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=ge.build(ce),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:X,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(He){this._state.autoClose=He}get autoClose(){return this._state.autoClose}set isAnimated(He){this._state.isAnimated=He}get isAnimated(){return this._state.isAnimated}set insideClick(He){this._state.insideClick=He}get insideClick(){return this._state.insideClick}set isDisabled(He){this._isDisabled=He,this._state.isDisabledChange.emit(He),He&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(He){He?this.show():this.hide()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(He=>this.toggle(He))),this._subscriptions.push(this._state.isDisabledChange.pipe((0,H.h)(He=>He)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(He=>{this._dropdown.attachInline(He.viewContainer,He.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(He=>{const Ye=this.dropup||typeof this.dropup<"u"&&this.dropup;this._state.direction=Ye?"up":"down";const Le=this.placement||(Ye?"top start":"bottom start");this._dropdown.attach(Me).to(this.container).position({attachment:Le}).show({content:He.templateRef,placement:Le}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(He){return this.isOpen||!He?this.hide():this.show()}_contains(He){return this._elementRef.nativeElement.contains(He.target)||this._dropdown.instance&&this._dropdown.instance._contains(He.target)}navigationClick(He){const Ye=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!Ye)return;const Le=this._elementRef.nativeElement.ownerDocument.activeElement,mt=Ye.querySelectorAll(".dropdown-item");switch(He.keyCode){case 38:this._state.counts>0&&mt[--this._state.counts].focus();break;case 40:this._state.counts+1<mt.length&&(Le.classList!==mt[this._state.counts].classList?mt[this._state.counts].focus():mt[++this._state.counts].focus())}He.preventDefault()}ngOnDestroy(){for(const He of this._subscriptions)He.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles()}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const He=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",He?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",He?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return Fe.\u0275fac=function(He){return new(He||Fe)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(v.s_b),v.Y36(c.oj),v.Y36(X),v.Y36(ae),v.Y36(ue._j))},Fe.\u0275dir=v.lG2({type:Fe,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(He,Ye){1&He&&v.NdJ("keydown.arrowDown",function(mt){return Ye.navigationClick(mt)})("keydown.arrowUp",function(mt){return Ye.navigationClick(mt)}),2&He&&v.ekj("dropup",Ye.dropup)("open",Ye.isOpen)("show",Ye.isOpen)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[v._Bn([X])]}),Fe})(),ee=(()=>{class Fe{constructor(He,Ye,Le){He.resolveDropdownMenu({templateRef:Le,viewContainer:Ye})}}return Fe.\u0275fac=function(He){return new(He||Fe)(v.Y36(X),v.Y36(v.s_b),v.Y36(v.Rgc))},Fe.\u0275dir=v.lG2({type:Fe,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),Fe})(),Ie=(()=>{class Fe{constructor(He,Ye,Le,mt,Ue){this._changeDetectorRef=He,this._dropdown=Ye,this._element=Le,this._renderer=mt,this._state=Ue,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(Be=>{this.isOpen=Be,Be?(this._documentClickListener=this._renderer.listen("document","click",ge=>{this._state.autoClose&&2!==ge.button&&!this._element.nativeElement.contains(ge.target)&&(!this._state.insideClick||!this._dropdown._contains(ge))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(Be=>this.isDisabled=Be||void 0))}onClick(He){this._state.stopOnClickPropagation&&He.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const He of this._subscriptions)He.unsubscribe()}}return Fe.\u0275fac=function(He){return new(He||Fe)(v.Y36(v.sBO),v.Y36(J),v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(X))},Fe.\u0275dir=v.lG2({type:Fe,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(He,Ye){1&He&&v.NdJ("click",function(mt){return Ye.onClick(mt)}),2&He&&v.uIk("aria-haspopup",!0)("disabled",Ye.isDisabled)("aria-expanded",Ye.isOpen)},exportAs:["bs-dropdown-toggle"]}),Fe})(),xe=(()=>{class Fe{static forRoot(){return{ngModule:Fe,providers:[c.oj,re.sA,X]}}}return Fe.\u0275fac=function(He){return new(He||Fe)},Fe.\u0275mod=v.oAB({type:Fe}),Fe.\u0275inj=v.cJS({imports:[de.ez]}),Fe})()},388:(Mt,Ae,P)=>{"use strict";P.d(Ae,{oB:()=>gt,zk:()=>gn});var v=P(4650),H=P(1607),c=P(6895),ue=P(5698);let re,de=(()=>{class dt{constructor(){this._focusTrapStack=[]}register(Oe){this._focusTrapStack=this._focusTrapStack.filter(jt=>jt!==Oe);let At=this._focusTrapStack;At.length&&At[At.length-1]._disable(),At.push(Oe),Oe._enable()}deregister(Oe){Oe._disable();const At=this._focusTrapStack,jt=At.indexOf(Oe);-1!==jt&&(At.splice(jt,1),At.length&&At[At.length-1]._enable())}}return dt.\u0275fac=function(Oe){return new(Oe||dt)},dt.\u0275prov=v.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})();try{re=typeof Intl<"u"&&Intl.v8BreakIterator}catch{re=!1}let se=(()=>{class dt{constructor(Oe){this._platformId=Oe,this.isBrowser=this._platformId?(0,c.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!re)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return dt.\u0275fac=function(Oe){return new(Oe||dt)(v.LFG(v.Lbi))},dt.\u0275prov=v.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})(),ae=(()=>{class dt{constructor(Oe){this._platform=Oe}isDisabled(Oe){return Oe.hasAttribute("disabled")}isVisible(Oe){return function ne(dt){return!!(dt.offsetWidth||dt.offsetHeight||"function"==typeof dt.getClientRects&&dt.getClientRects().length)}(Oe)&&"visible"===getComputedStyle(Oe).visibility}isTabbable(Oe){if(!this._platform.isBrowser)return!1;const At=function X(dt){try{return dt.frameElement}catch{return null}}(function Ye(dt){return dt.ownerDocument&&dt.ownerDocument.defaultView||window}(Oe));if(At&&(-1===Fe(At)||!this.isVisible(At)))return!1;let jt=Oe.nodeName.toLowerCase(),yn=Fe(Oe);return Oe.hasAttribute("contenteditable")?-1!==yn:!("iframe"===jt||"object"===jt||this._platform.WEBKIT&&this._platform.IOS&&!function Ke(dt){let lt=dt.nodeName.toLowerCase(),Oe="input"===lt&&dt.type;return"text"===Oe||"password"===Oe||"select"===lt||"textarea"===lt}(Oe))&&("audio"===jt?!!Oe.hasAttribute("controls")&&-1!==yn:"video"===jt?-1!==yn&&(null!==yn||this._platform.FIREFOX||Oe.hasAttribute("controls")):Oe.tabIndex>=0)}isFocusable(Oe,At){return function He(dt){return!function Me(dt){return function ee(dt){return"input"==dt.nodeName.toLowerCase()}(dt)&&"hidden"==dt.type}(dt)&&(function ce(dt){let lt=dt.nodeName.toLowerCase();return"input"===lt||"select"===lt||"button"===lt||"textarea"===lt}(dt)||function J(dt){return function Ie(dt){return"a"==dt.nodeName.toLowerCase()}(dt)&&dt.hasAttribute("href")}(dt)||dt.hasAttribute("contenteditable")||xe(dt))}(Oe)&&!this.isDisabled(Oe)&&(At?.ignoreVisibility||this.isVisible(Oe))}}return dt.\u0275fac=function(Oe){return new(Oe||dt)(v.LFG(se))},dt.\u0275prov=v.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})();function xe(dt){if(!dt.hasAttribute("tabindex")||void 0===dt.tabIndex)return!1;let lt=dt.getAttribute("tabindex");return"-32768"!=lt&&!(!lt||isNaN(parseInt(lt,10)))}function Fe(dt){if(!xe(dt))return null;const lt=parseInt(dt.getAttribute("tabindex")||"",10);return isNaN(lt)?-1:lt}function Le(dt){return null!=dt&&"false"!=`${dt}`}class mt{constructor(lt,Oe,At,jt,yn=!1){this._element=lt,this._checker=Oe,this._ngZone=At,this._document=jt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,yn||this.attachAnchors()}get enabled(){return this._enabled}set enabled(lt){this._enabled=lt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(lt,this._startAnchor),this._toggleAnchorTabIndex(lt,this._endAnchor))}destroy(){const lt=this._startAnchor,Oe=this._endAnchor;lt&&(lt.removeEventListener("focus",this.startAnchorListener),lt.parentNode&&lt.parentNode.removeChild(lt)),Oe&&(Oe.removeEventListener("focus",this.endAnchorListener),Oe.parentNode&&Oe.parentNode.removeChild(Oe)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(lt=>{this._executeOnStable(()=>lt(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(lt=>{this._executeOnStable(()=>lt(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(lt=>{this._executeOnStable(()=>lt(this.focusLastTabbableElement()))})}_getRegionBoundary(lt){let Oe=this._element.querySelectorAll(`[cdk-focus-region-${lt}], [cdkFocusRegion${lt}], [cdk-focus-${lt}]`);for(let At=0;At<Oe.length;At++)Oe[At].hasAttribute(`cdk-focus-${lt}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${lt}', use 'cdkFocusRegion${lt}' instead. The deprecated attribute will be removed in 8.0.0.`,Oe[At]):Oe[At].hasAttribute(`cdk-focus-region-${lt}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${lt}', use 'cdkFocusRegion${lt}' instead. The deprecated attribute will be removed in 8.0.0.`,Oe[At]);return"start"==lt?Oe.length?Oe[0]:this._getFirstTabbableElement(this._element):Oe.length?Oe[Oe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const lt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(lt){if(lt.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",lt),!this._checker.isFocusable(lt)){const Oe=this._getFirstTabbableElement(lt);return Oe?.focus(),!!Oe}return lt.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const lt=this._getRegionBoundary("start");return lt&&lt.focus(),!!lt}focusLastTabbableElement(){const lt=this._getRegionBoundary("end");return lt&&lt.focus(),!!lt}hasAttached(){return this._hasAttached}_getFirstTabbableElement(lt){if(this._checker.isFocusable(lt)&&this._checker.isTabbable(lt))return lt;let Oe=lt.children||lt.childNodes;for(let At=0;At<Oe.length;At++){let jt=Oe[At].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Oe[At]):null;if(jt)return jt}return null}_getLastTabbableElement(lt){if(this._checker.isFocusable(lt)&&this._checker.isTabbable(lt))return lt;let Oe=lt.children||lt.childNodes;for(let At=Oe.length-1;At>=0;At--){let jt=Oe[At].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Oe[At]):null;if(jt)return jt}return null}_createAnchor(){const lt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,lt),lt.classList.add("cdk-visually-hidden"),lt.classList.add("cdk-focus-trap-anchor"),lt.setAttribute("aria-hidden","true"),lt}_toggleAnchorTabIndex(lt,Oe){lt?Oe.setAttribute("tabindex","0"):Oe.removeAttribute("tabindex")}toggleAnchors(lt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(lt,this._startAnchor),this._toggleAnchorTabIndex(lt,this._endAnchor))}_executeOnStable(lt){this._ngZone.isStable?lt():this._ngZone.onStable.pipe((0,ue.q)(1)).subscribe(lt)}}let Ue=(()=>{class dt{constructor(Oe,At,jt){this._checker=Oe,this._ngZone=At,this._document=jt}create(Oe,At=!1){return new mt(Oe,this._checker,this._ngZone,this._document,At)}}return dt.\u0275fac=function(Oe){return new(Oe||dt)(v.LFG(ae),v.LFG(v.R0b),v.LFG(c.K0))},dt.\u0275prov=v.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})(),Be=(()=>{class dt{constructor(Oe,At,jt){this._elementRef=Oe,this._focusTrapFactory=At,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=jt,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(Oe){this.focusTrap.enabled=Le(Oe)}get autoCapture(){return this._autoCapture}set autoCapture(Oe){this._autoCapture=Le(Oe)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Oe){const At=Oe.autoCapture;At&&!At.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return dt.\u0275fac=function(Oe){return new(Oe||dt)(v.Y36(v.SBq),v.Y36(Ue),v.Y36(c.K0))},dt.\u0275dir=v.lG2({type:dt,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[v.TTD]}),dt})(),ge=(()=>{class dt{static forRoot(){return{ngModule:dt,providers:[de,se,ae]}}}return dt.\u0275fac=function(Oe){return new(Oe||dt)},dt.\u0275mod=v.oAB({type:dt}),dt.\u0275inj=v.cJS({imports:[c.ez]}),dt})();var et=P(2381),_t=P(5987);const Et=["*"];let ft=(()=>{class dt{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return dt.\u0275fac=function(Oe){return new(Oe||dt)},dt.\u0275prov=v.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"platform"}),dt})(),vn=(()=>{class dt{}return dt.\u0275fac=function(Oe){return new(Oe||dt)},dt.\u0275prov=v.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"platform"}),dt})();const An={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},an=new v.OlP("override-default-config"),Bt_OPEN="modal-open";let Te=(()=>{class dt{constructor(Oe,At,jt){this._element=At,this._renderer=jt,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},Oe)}ngOnInit(){this._focusEl=H.tj.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),H.tj&&H.tj.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(H.tj.body,Bt_OPEN),this._renderer.setStyle(H.tj.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(Oe){this.clickStartedInContent=Oe.target!==this._element.nativeElement}onClickStop(Oe){this.config.ignoreBackdropClick||"static"===this.config.backdrop||Oe.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(Oe){this.isShown&&((27===Oe.keyCode||"Escape"===Oe.key)&&Oe.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,H.tj&&H.tj.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(H.tj.body,Bt_OPEN),this._renderer.setStyle(H.tj.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}}return dt.\u0275fac=function(Oe){return new(Oe||dt)(v.Y36(vn),v.Y36(v.SBq),v.Y36(v.Qsj))},dt.\u0275cmp=v.Xpm({type:dt,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(Oe,At){1&Oe&&v.NdJ("mousedown",function(yn){return At.onClickStarted(yn)})("click",function(yn){return At.onClickStop(yn)})("popstate",function(){return At.onPopState()},!1,v.Jf7)("keydown.esc",function(yn){return At.onEsc(yn)},!1,v.Jf7),2&Oe&&v.uIk("aria-modal",!0)("aria-labelledby",At.config.ariaLabelledBy)("aria-describedby",At.config.ariaDescribedby)},ngContentSelectors:Et,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(Oe,At){1&Oe&&(v.F$t(),v.TgZ(0,"div",0)(1,"div",1),v.Hsn(2),v.qZA()()),2&Oe&&v.Tol("modal-dialog"+(At.config.class?" "+At.config.class:""))},dependencies:[Be],encapsulation:2}),dt})(),Ze=(()=>{class dt{constructor(Oe,At){this._isAnimated=!1,this._isShown=!1,this.element=Oe,this.renderer=At}get isAnimated(){return this._isAnimated}set isAnimated(Oe){this._isAnimated=Oe}get isShown(){return this._isShown}set isShown(Oe){this._isShown=Oe,Oe?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),H.cQ.reflow(this.element.nativeElement)),this.isShown=!0}}return dt.\u0275fac=function(Oe){return new(Oe||dt)(v.Y36(v.SBq),v.Y36(v.Qsj))},dt.\u0275cmp=v.Xpm({type:dt,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(Oe,At){},encapsulation:2}),dt})(),gt=(()=>{class dt{constructor(Oe,At,jt,yn,tr){this._element=Oe,this._renderer=jt,this.onShow=new v.vpe,this.onShown=new v.vpe,this.onHide=new v.vpe,this.onHidden=new v.vpe,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._focusEl=null,this._backdrop=yn.createLoader(Oe,At,jt),this._config=tr||An}set config(Oe){this._config=this.getConfig(Oe)}get config(){return this._config}get isShown(){return this._isShown}onClickStarted(Oe){this.clickStartedInContent=Oe.target!==this._element.nativeElement}onClickStop(Oe){this.config.ignoreBackdropClick||"static"===this.config.backdrop||Oe.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.dismissReason="backdrop-click",this.hide(Oe))}onEsc(Oe){this._isShown&&((27===Oe.keyCode||"Escape"===Oe.key)&&Oe.preventDefault(),this.config.keyboard&&(this.dismissReason="esc",this.hide()))}ngOnDestroy(){this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}ngOnInit(){this._config=this._config||this.getConfig(),setTimeout(()=>{this._config.show&&this.show()},0)}toggle(){return this._isShown?this.hide():this.show()}show(){this.dismissReason=void 0,this.onShow.emit(this),!this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),H.tj&&H.tj.body&&(H.tj.body.classList.contains(Bt_OPEN)?this.isNested=!0:(this._renderer.addClass(H.tj.body,Bt_OPEN),this._renderer.setStyle(H.tj.body,"overflow-y","hidden"))),this.showBackdrop(()=>{this.showElement()}))}hide(Oe){if(this._isShown){if(Oe&&Oe.preventDefault(),this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.onHide.emit(this),H.u9.clearTimeout(this.timerHideModal),H.u9.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,"show"),this._config.animated?this.timerHideModal=H.u9.setTimeout(()=>this.hideModal(),300):this.hideModal(),this._focusEl&&this._focusEl.focus()}getConfig(Oe){return Object.assign({},this._config,Oe)}showElement(){(!this._element.nativeElement.parentNode||this._element.nativeElement.parentNode.nodeType!==Node.ELEMENT_NODE)&&H.tj&&H.tj.body&&H.tj.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&H.cQ.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,"show");const Oe=()=>{this._config.focus&&this._element.nativeElement.focus(),this.onShown.emit(this)};this._config.animated?setTimeout(Oe,300):Oe()}hideModal(){this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(()=>{this.isNested||(H.tj&&H.tj.body&&(this._renderer.removeClass(H.tj.body,Bt_OPEN),this._renderer.setStyle(H.tj.body,"overflow-y","")),this.resetScrollbar()),this.resetAdjustments(),this.focusOtherModal(),this.onHidden.emit(this)})}showBackdrop(Oe){if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;const At=()=>{this.removeBackdrop(),Oe&&Oe()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=H.u9.setTimeout(At,150):At()}else Oe&&Oe();else{if(this.removeBackdrop(),this._backdrop.attach(Ze).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!Oe)return;if(!this._config.animated)return void Oe();setTimeout(Oe,150)}}removeBackdrop(){this._backdrop.hide()}focusOtherModal(){if(null==this._element.nativeElement.parentElement)return;const Oe=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");Oe.length&&Oe[Oe.length-1].focus()}resetAdjustments(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}checkScrollbar(){this.isBodyOverflowing=H.tj.body.clientWidth<H.u9.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){H.tj&&(this.originalBodyPadding=parseInt(H.u9.getComputedStyle(H.tj.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(H.tj.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){H.tj.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const Oe=this._renderer.createElement("div");this._renderer.addClass(Oe,"modal-scrollbar-measure"),this._renderer.appendChild(H.tj.body,Oe);const At=Oe.offsetWidth-Oe.clientWidth;return this._renderer.removeChild(H.tj.body,Oe),At}}return dt.\u0275fac=function(Oe){return new(Oe||dt)(v.Y36(v.SBq),v.Y36(v.s_b),v.Y36(v.Qsj),v.Y36(et.oj),v.Y36(an,8))},dt.\u0275dir=v.lG2({type:dt,selectors:[["","bsModal",""]],hostBindings:function(Oe,At){1&Oe&&v.NdJ("mousedown",function(yn){return At.onClickStarted(yn)})("mouseup",function(yn){return At.onClickStop(yn)})("keydown.esc",function(yn){return At.onEsc(yn)})},inputs:{config:"config",closeInterceptor:"closeInterceptor"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]}),dt})(),Yt=1,Wt=(()=>{class dt{constructor(Oe,At,jt){this.clf=At,this.modalDefaultOption=jt,this.onShow=new v.vpe,this.onShown=new v.vpe,this.onHide=new v.vpe,this.onHidden=new v.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=Oe.createRenderer(null,null),this.config=jt?Object.assign({},An,jt):An}show(Oe,At){this._focusEl=H.tj.activeElement,this.modalsCount++,this._createLoaders();const jt=At?.id||Yt++;return this.config=this.modalDefaultOption?Object.assign({},An,this.modalDefaultOption,At):Object.assign({},An,At),this.config.id=jt,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(Oe)}hide(Oe){(1===this.modalsCount||null==Oe)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=Oe?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(Oe),this.removeLoaders(Oe)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const Oe=!0===this.config.backdrop||"static"===this.config.backdrop,At=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),Oe&&At&&(this._backdropLoader.attach(Ze).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(Oe){const At=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const tr of this.config.providers)At.provide(tr);const jt=new ft,yn=At.provide({provide:vn,useValue:this.config}).provide({provide:ft,useValue:jt}).attach(Te).to("body");return jt.hide=()=>this.hide(jt.id),jt.setClass=tr=>{yn.instance&&(yn.instance.config.class=tr)},jt.onHidden=new v.vpe,jt.onHide=new v.vpe,this.copyEvent(At.onBeforeHide,jt.onHide),this.copyEvent(At.onHidden,jt.onHidden),yn.show({content:Oe,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),yn.instance&&(yn.instance.level=this.getModalsCount(),jt.content=At.getInnerComponent(),jt.id=yn.instance.config?.id),jt}_hideModal(Oe){if(null!=Oe){const At=this.loaders.findIndex(yn=>yn.instance?.config.id===Oe),jt=this.loaders[At];jt&&jt.hide(Oe)}else this.loaders.forEach(At=>{At.instance&&At.hide(At.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(Oe){this.lastDismissReason=Oe}removeBackdrop(){this._renderer.removeClass(H.tj.body,Bt_OPEN),this._renderer.setStyle(H.tj.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=H.tj.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){H.tj&&(this.originalBodyPadding=parseInt(window.getComputedStyle(H.tj.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(H.tj.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){H.tj.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const Oe=this._renderer.createElement("div");this._renderer.addClass(Oe,"modal-scrollbar-measure"),this._renderer.appendChild(H.tj.body,Oe);const At=Oe.offsetWidth-Oe.clientWidth;return this._renderer.removeChild(H.tj.body,Oe),At}_createLoaders(){const Oe=this.clf.createLoader();this.copyEvent(Oe.onBeforeShow,this.onShow),this.copyEvent(Oe.onShown,this.onShown),this.copyEvent(Oe.onBeforeHide,this.onHide),this.copyEvent(Oe.onHidden,this.onHidden),this.loaders.push(Oe)}removeLoaders(Oe){if(null!=Oe){const At=this.loaders.findIndex(jt=>jt.instance?.config.id===Oe);At>=0&&(this.loaders.splice(At,1),this.loaders.forEach((jt,yn)=>{jt.instance&&(jt.instance.level=yn+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(Oe,At){Oe.subscribe(jt=>{At.emit(this.lastDismissReason||jt)})}}return dt.\u0275fac=function(Oe){return new(Oe||dt)(v.LFG(v.FYo),v.LFG(et.oj),v.LFG(an,8))},dt.\u0275prov=v.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"platform"}),dt})();ge.forRoot();let gn=(()=>{class dt{static forRoot(){return{ngModule:dt,providers:[Wt,et.oj,_t.sA]}}static forChild(){return{ngModule:dt,providers:[Wt,et.oj,_t.sA]}}}return dt.\u0275fac=function(Oe){return new(Oe||dt)},dt.\u0275mod=v.oAB({type:dt}),dt.\u0275inj=v.cJS({imports:[ge]}),dt})()},5987:(Mt,Ae,P)=>{"use strict";P.d(Ae,{Bz:()=>X,sA:()=>tr});var v=P(1607),H=P(4650),c=P(6895),ue=P(7579),de=P(6451),re=P(4968),se=P(9646),W=P(6406),ae=(()=>{return(T=ae||(ae={})).top="top",T.bottom="bottom",T.left="left",T.right="right",T.auto="auto",T.end="right",T.start="left",T["top left"]="top left",T["top right"]="top right",T["right top"]="right top",T["right bottom"]="right bottom",T["bottom right"]="bottom right",T["bottom left"]="bottom left",T["left bottom"]="left bottom",T["left top"]="left top",T["top start"]="top left",T["top end"]="top right",T["end top"]="right top",T["end bottom"]="right bottom",T["bottom end"]="bottom right",T["bottom start"]="bottom left",T["start bottom"]="start bottom",T["start top"]="left top",ae;var T})(),X=(()=>{return(T=X||(X={})).top="top",T.bottom="bottom",T.left="start",T.right="end",T.auto="auto",T.end="end",T.start="start",T["top left"]="top start",T["top right"]="top end",T["right top"]="end top",T["right bottom"]="end bottom",T["bottom right"]="bottom end",T["bottom left"]="bottom start",T["left bottom"]="start bottom",T["left top"]="start top",T["top start"]="top start",T["top end"]="top end",T["end top"]="end top",T["end bottom"]="end bottom",T["bottom end"]="bottom end",T["bottom start"]="bottom start",T["start bottom"]="start bottom",T["start top"]="start top",X;var T})();function ne(T,F){if(1!==T.nodeType)return[];const Ce=T.ownerDocument.defaultView?.getComputedStyle(T,null);return F?Ce&&Ce[F]:Ce}function ce(T){if(!T)return document.documentElement;let Ce,te=T?.offsetParent;for(;null===te&&T.nextElementSibling&&Ce!==T.nextElementSibling;)Ce=T.nextElementSibling,te=Ce.offsetParent;const rt=te&&te.nodeName;return rt&&"BODY"!==rt&&"HTML"!==rt?te&&-1!==["TH","TD","TABLE"].indexOf(te.nodeName)&&"static"===ne(te,"position")?ce(te):te:Ce?Ce.ownerDocument.documentElement:document.documentElement}function J(T){return null!==T.parentNode?J(T.parentNode):T}function ee(T,F){if(!(T&&T.nodeType&&F&&F.nodeType))return document.documentElement;const te=T.compareDocumentPosition(F)&Node.DOCUMENT_POSITION_FOLLOWING,Ce=te?T:F,rt=te?F:T,nt=document.createRange();nt.setStart(Ce,0),nt.setEnd(rt,0);const Pt=nt.commonAncestorContainer;if(T!==Pt&&F!==Pt||Ce.contains(rt))return function Me(T){const{nodeName:F}=T;return"BODY"!==F&&("HTML"===F||ce(T.firstElementChild)===T)}(Pt)?Pt:ce(Pt);const Tt=J(T);return Tt.host?ee(Tt.host,F):ee(T,J(F).host)}function Ie(T){if(!T||!T.parentElement)return document.documentElement;let F=T.parentElement;for(;F?.parentElement&&"none"===ne(F,"transform");)F=F.parentElement;return F||document.documentElement}function xe(T,F){const te="x"===F?"Left":"Top",Ce="Left"===te?"Right":"Bottom";return parseFloat(T[`border${te}Width`])+parseFloat(T[`border${Ce}Width`])}function Fe(T,F,te,Ce){return Math.max(F[`offset${T}`],F[`scroll${T}`],te[`client${T}`],te[`offset${T}`],te[`scroll${T}`],0)}function Ke(T){const F=T.body,te=T.documentElement;return{height:Fe("Height",F,te),width:Fe("Width",F,te)}}function He(T){return{...T,right:(T.left||0)+T.width,bottom:(T.top||0)+T.height}}function Le(T){return"number"==typeof T||"[object Number]"===Object.prototype.toString.call(T)}function mt(T){const F=T.getBoundingClientRect();if(!(F&&Le(F.top)&&Le(F.left)&&Le(F.bottom)&&Le(F.right)))return F;const te={left:F.left,top:F.top,width:F.right-F.left,height:F.bottom-F.top},Ce="HTML"===T.nodeName?Ke(T.ownerDocument):void 0,rt=Ce?.width||T.clientWidth||Le(F.right)&&Le(te.left)&&F.right-te.left||0,nt=Ce?.height||T.clientHeight||Le(F.bottom)&&Le(te.top)&&F.bottom-te.top||0;let Pt=T.offsetWidth-rt,Tt=T.offsetHeight-nt;if(Pt||Tt){const yt=ne(T);Pt-=xe(yt,"x"),Tt-=xe(yt,"y"),te.width-=Pt,te.height-=Tt}return He(te)}function Ue(T){return"HTML"===T.nodeName?T:T.parentNode||T.host}function Be(T){if(!T)return document.body;switch(T.nodeName){case"HTML":case"BODY":return T.ownerDocument.body;case"#document":return T.body}const{overflow:F,overflowX:te,overflowY:Ce}=ne(T);return/(auto|scroll|overlay)/.test(String(F)+String(Ce)+String(te))?T:Be(Ue(T))}function ge(T,F,te=!1){const Ce="HTML"===F.nodeName,rt=mt(T),nt=mt(F),Tt=(Be(T),ne(F)),yt=parseFloat(Tt.borderTopWidth),Rt=parseFloat(Tt.borderLeftWidth);te&&Ce&&(nt.top=Math.max(nt.top??0,0),nt.left=Math.max(nt.left??0,0));const kt=He({top:(rt.top??0)-(nt.top??0)-yt,left:(rt.left??0)-(nt.left??0)-Rt,width:rt.width,height:rt.height});if(kt.marginTop=0,kt.marginLeft=0,Ce){const Dn=parseFloat(Tt.marginTop),Yn=parseFloat(Tt.marginLeft);Le(kt.top)&&(kt.top-=yt-Dn),Le(kt.bottom)&&(kt.bottom-=yt-Dn),Le(kt.left)&&(kt.left-=Rt-Yn),Le(kt.right)&&(kt.right-=Rt-Yn),kt.marginTop=Dn,kt.marginLeft=Yn}return kt}function et(T,F="top"){const te="top"===F?"scrollTop":"scrollLeft",Ce=T.nodeName;return"BODY"===Ce||"HTML"===Ce?(T.ownerDocument.scrollingElement||T.ownerDocument.documentElement)[te]:T[te]}function Et(T){const F=T.nodeName;return"BODY"!==F&&"HTML"!==F&&("fixed"===ne(T,"position")||Et(Ue(T)))}function ft(T,F,te=0,Ce,rt=!1){let nt={top:0,left:0};const Pt=rt?Ie(T):ee(T,F);if("viewport"===Ce)nt=function _t(T,F=!1){const te=T.ownerDocument.documentElement,Ce=ge(T,te),rt=Math.max(te.clientWidth,window.innerWidth||0),nt=Math.max(te.clientHeight,window.innerHeight||0),Pt=F?0:et(te),Tt=F?0:et(te,"left");return He({top:Pt-Number(Ce?.top)+Number(Ce?.marginTop),left:Tt-Number(Ce?.left)+Number(Ce?.marginLeft),width:rt,height:nt})}(Pt,rt);else{let Tt;"scrollParent"===Ce?(Tt=Be(Ue(F)),"BODY"===Tt.nodeName&&(Tt=T.ownerDocument.documentElement)):Tt="window"===Ce?T.ownerDocument.documentElement:Ce;const yt=ge(Tt,Pt,rt);if(yt&&"HTML"===Tt.nodeName&&!Et(Pt)){const{height:Rt,width:kt}=Ke(T.ownerDocument);Le(nt.top)&&Le(yt.top)&&Le(yt.marginTop)&&(nt.top+=yt.top-yt.marginTop),Le(nt.top)&&(nt.bottom=Number(Rt)+Number(yt.top)),Le(nt.left)&&Le(yt.left)&&Le(yt.marginLeft)&&(nt.left+=yt.left-yt.marginLeft),Le(nt.top)&&(nt.right=Number(kt)+Number(yt.left))}else yt&&(nt=yt)}return Le(nt.left)&&(nt.left+=te),Le(nt.top)&&(nt.top+=te),Le(nt.right)&&(nt.right-=te),Le(nt.bottom)&&(nt.bottom-=te),nt}function pt({width:T,height:F}){return T*F}function vn(T,F,te,Ce,rt=["top","bottom","right","left"],nt="viewport",Pt=0){if(-1===T.indexOf("auto"))return T;const Tt=ft(te,Ce,Pt,nt),yt={top:{width:Tt?.width??0,height:(F?.top??0)-(Tt?.top??0)},right:{width:(Tt?.right??0)-(F?.right??0),height:Tt?.height??0},bottom:{width:Tt?.width??0,height:(Tt?.bottom??0)-(F?.bottom??0)},left:{width:(F.left??0)-(Tt?.left??0),height:Tt?.height??0}},Rt=Object.keys(yt).map(Qn=>({position:Qn,...yt[Qn],area:pt(yt[Qn])})).sort((Qn,jr)=>jr.area-Qn.area);let kt=Rt.filter(({width:Qn,height:jr})=>Qn>=te.clientWidth&&jr>=te.clientHeight);kt=kt.filter(({position:Qn})=>rt.some(jr=>jr===Qn));const Dn=kt.length>0?kt[0].position:Rt[0].position,Yn=T.split(" ")[1];return te.className=te.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,v.Wl)().isBs5?X[Dn]:Dn}`),Dn+(Yn?`-${Yn}`:"")}const ye=(T,F=0)=>T?parseFloat(T):F;function _e(T){const te=T.ownerDocument.defaultView?.getComputedStyle(T),Ce=ye(te?.marginTop)+ye(te?.marginBottom),rt=ye(te?.marginLeft)+ye(te?.marginRight);return{width:Number(T.offsetWidth)+rt,height:Number(T.offsetHeight)+Ce}}function De(T,F,te){return ge(F,te?Ie(T):ee(T,F),te)}function Te(T,F,te){const Ce=te.split(" ")[0],rt=_e(T),nt={width:rt.width,height:rt.height},Pt=-1!==["right","left"].indexOf(Ce),Tt=Pt?"top":"left",yt=Pt?"left":"top",Rt=Pt?"height":"width",kt=Pt?"width":"height";return nt[Tt]=(F[Tt]??0)+F[Rt]/2-rt[Rt]/2,nt[yt]=Ce===yt?(F[yt]??0)-rt[kt]:F[function an(T){const F={left:"right",right:"left",bottom:"top",top:"bottom"};return T.replace(/left|right|bottom|top/g,te=>F[te])}(yt)]??0,nt}function Ze(T,F){return!!T.modifiers[F]?.enabled}const pe={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Ne(T,F){return!!(0,v.Wl)().isBs5&&pe[F].includes(T)}function Wt(T,F,te){!T||!F||Object.keys(F).forEach(Ce=>{let rt="";-1!==["width","height","top","right","bottom","left"].indexOf(Ce)&&function Ye(T){return""!==T&&!isNaN(parseFloat(T))&&isFinite(Number(T))}(F[Ce])&&(rt="px"),te?te.setStyle(T,Ce,`${String(F[Ce])}${rt}`):T.style[Ce]=String(F[Ce])+rt})}function Tn(T){let F=T.offsets.target;const te=T.instance.target.querySelector(".arrow");if(!te)return T;const Ce=-1!==["left","right"].indexOf(T.placement.split(" ")[0]),rt=Ce?"height":"width",nt=Ce?"Top":"Left",Pt=nt.toLowerCase(),Tt=Ce?"left":"top",yt=Ce?"bottom":"right",Rt=_e(te)[rt],kt=T.placement.split(" ")[1];(T.offsets.host[yt]??0)-Rt<(F[Pt]??0)&&(F[Pt]-=(F[Pt]??0)-((T.offsets.host[yt]??0)-Rt)),Number(T.offsets.host[Pt])+Number(Rt)>(F[yt]??0)&&(F[Pt]+=Number(T.offsets.host[Pt])+Number(Rt)-Number(F[yt])),F=He(F);const Dn=ne(T.instance.target),Yn=parseFloat(Dn[`margin${nt}`])||0,Qn=parseFloat(Dn[`border${nt}Width`])||0;let jr;if(kt){const Yr=parseFloat(Dn.borderRadius)||0,Zn=Number(Yn+Qn+Yr);jr=Pt===kt?Number(T.offsets.host[Pt])+Zn:Number(T.offsets.host[Pt])+Number(T.offsets.host[rt]-Zn)}else jr=Number(T.offsets.host[Pt])+Number(T.offsets.host[rt]/2-Rt/2);let lr=jr-(F[Pt]??0)-Yn-Qn;return lr=Math.max(Math.min(F[rt]-(Rt+5),lr),0),T.offsets.arrow={[Pt]:Math.round(lr),[Tt]:""},T.instance.arrow=te,T}function gn(T){if(T.offsets.target=He(T.offsets.target),!Ze(T.options,"flip"))return T.offsets.target={...T.offsets.target,...Te(T.instance.target,T.offsets.host,T.placement)},T;const F=ft(T.instance.target,T.instance.host,0,"viewport",!1);let te=T.placement.split(" ")[0],Ce=T.placement.split(" ")[1]||"";const Tt=vn("auto",T.offsets.host,T.instance.target,T.instance.host,T.options.allowedPositions),yt=[te,Tt];return yt.forEach((Rt,kt)=>{if(te!==Rt||yt.length===kt+1)return;te=T.placement.split(" ")[0];const Dn="left"===te&&Math.floor(T.offsets.target.right??0)>Math.floor(T.offsets.host.left??0)||"right"===te&&Math.floor(T.offsets.target.left??0)<Math.floor(T.offsets.host.right??0)||"top"===te&&Math.floor(T.offsets.target.bottom??0)>Math.floor(T.offsets.host.top??0)||"bottom"===te&&Math.floor(T.offsets.target.top??0)<Math.floor(T.offsets.host.bottom??0),Yn=Math.floor(T.offsets.target.left??0)<Math.floor(F.left??0),Qn=Math.floor(T.offsets.target.right??0)>Math.floor(F.right??0),jr=Math.floor(T.offsets.target.top??0)<Math.floor(F.top??0),lr=Math.floor(T.offsets.target.bottom??0)>Math.floor(F.bottom??0),Yr="left"===te&&Yn||"right"===te&&Qn||"top"===te&&jr||"bottom"===te&&lr,Zn=-1!==["top","bottom"].indexOf(te),Ci=Zn&&"left"===Ce&&Yn||Zn&&"right"===Ce&&Qn||!Zn&&"left"===Ce&&jr||!Zn&&"right"===Ce&&lr;(Dn||Yr||Ci)&&((Dn||Yr)&&(te=yt[kt+1]),Ci&&(Ce=function Bt(T){return"right"===T?"left":"left"===T?"right":T}(Ce)),T.placement=te+(Ce?` ${Ce}`:""),T.offsets.target={...T.offsets.target,...Te(T.instance.target,T.offsets.host,T.placement)})}),T}function lt(T){if(!Ze(T.options,"preventOverflow"))return T;const F="transform",te=T.instance.target.style,{top:Ce,left:rt,[F]:nt}=te;te.top="",te.left="",te[F]="";const Pt=ft(T.instance.target,T.instance.host,0,T.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);te.top=Ce,te.left=rt,te[F]=nt;const yt={primary(Rt){let kt=T.offsets.target[Rt];return(T.offsets.target[Rt]??0)<(Pt[Rt]??0)&&(kt=Math.max(T.offsets.target[Rt]??0,Pt[Rt]??0)),{[Rt]:kt}},secondary(Rt){const kt="right"===Rt,Dn=kt?"left":"top";let Qn=T.offsets.target[Dn];return(T.offsets.target[Rt]??0)>(Pt[Rt]??0)&&(Qn=Math.min(T.offsets.target[Dn]??0,(Pt[Rt]??0)-T.offsets.target[kt?"width":"height"])),{[Dn]:Qn}}};return["left","right","top","bottom"].forEach(Rt=>{const kt=-1!==["left","top","start"].indexOf(Rt)?yt.primary:yt.secondary;T.offsets.target={...T.offsets.target,...kt(Rt)}}),T}function Oe(T){const F=T.placement,te=F.split(" ")[0],Ce=F.split(" ")[1];if(Ce){const{host:rt,target:nt}=T.offsets,Pt=-1!==["bottom","top"].indexOf(te),Tt=Pt?"left":"top",yt=Pt?"width":"height",Rt={start:{[Tt]:rt[Tt]},end:{[Tt]:(rt[Tt]??0)+rt[yt]-nt[yt]}};T.offsets.target={...nt,[Tt]:Tt===Ce?Rt.start[Tt]:Rt.end[Tt]}}return T}const jt=new class At{position(F,te){return this.offset(F,te)}offset(F,te){return De(te,F)}positionElements(F,te,Ce,rt,nt){const Pt=[gn,Oe,lt,Tn],yt=function dt(T,F,te,Ce){if(!T||!F)return;const rt=De(T,F);!te.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!te.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(te="auto");const nt=!!te.match(/auto/g);let Pt=te.match(/auto\s(left|right|top|bottom|start|end)/)?te.split(" ")[1]||"auto":te;const Tt=Pt.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return Tt&&(Pt=Tt[1]+(Tt[2]?` ${Tt[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(Pt)&&(Pt="auto"),Pt=vn(Pt,rt,T,F,Ce?Ce.allowedPositions:void 0),{options:Ce||{modifiers:{}},instance:{target:T,host:F,arrow:void 0},offsets:{target:Te(T,rt,Pt),host:rt,arrow:void 0},positionFixed:!1,placement:Pt,placementAuto:nt}}(te,F,ae[Ce],nt);if(yt)return Pt.reduce((Rt,kt)=>kt(Rt),yt)}};function yn(T,F,te,Ce,rt,nt){const Pt=jt.positionElements(T,F,te,Ce,rt);if(!Pt)return;const Tt=function An(T){return{width:T.offsets.target.width,height:T.offsets.target.height,left:Math.floor(T.offsets.target.left??0),top:Math.round(T.offsets.target.top??0),bottom:Math.round(T.offsets.target.bottom??0),right:Math.floor(T.offsets.target.right??0)}}(Pt);Wt(F,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${Tt.left}px, ${Tt.top}px, 0px)`},nt),Pt.instance.arrow&&Wt(Pt.instance.arrow,Pt.offsets.arrow,nt),function Yt(T,F){const te=T.instance.target;let Ce=te.className;const rt=(0,v.Wl)().isBs5?X[T.placement]:T.placement;T.placementAuto&&(Ce=Ce.replace(/bs-popover-auto/g,`bs-popover-${rt}`),Ce=Ce.replace(/ms-2|me-2|mb-2|mt-2/g,""),Ce=Ce.replace(/bs-tooltip-auto/g,`bs-tooltip-${rt}`),Ce=Ce.replace(/\sauto/g,` ${rt}`),-1!==Ce.indexOf("popover")&&(Ce=Ce+" "+function gt(T){return(0,v.Wl)().isBs5?Ne(T,"end")?"ms-2":Ne(T,"start")?"me-2":Ne(T,"top")?"mb-2":Ne(T,"bottom")?"mt-2":"":""}(rt)),-1!==Ce.indexOf("popover")&&-1===Ce.indexOf("popover-auto")&&(Ce+=" popover-auto"),-1!==Ce.indexOf("tooltip")&&-1===Ce.indexOf("tooltip-auto")&&(Ce+=" tooltip-auto")),Ce=Ce.replace(/left|right|top|bottom|end|start/g,`${rt.split(" ")[0]}`),F?F.setAttribute(te,"class",Ce):te.className=Ce}(Pt,nt)}let tr=(()=>{class T{constructor(te,Ce,rt){this.update$$=new ue.x,this.positionElements=new Map,this.isDisabled=!1,(0,c.NF)(rt)&&te.runOutsideAngular(()=>{this.triggerEvent$=(0,de.T)((0,re.R)(window,"scroll",{passive:!0}),(0,re.R)(window,"resize",{passive:!0}),(0,se.of)(0,W.Z),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(nt=>{yn(ve(nt.target),ve(nt.element),nt.attachment,nt.appendToBody,this.options,Ce.createRenderer(null,null))})})})}position(te){this.addPositionElement(te)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(te){this.positionElements.set(ve(te.element),te)}calcPosition(){this.update$$.next(null)}deletePositionElement(te){this.positionElements.delete(ve(te))}setOptions(te){this.options=te}}return T.\u0275fac=function(te){return new(te||T)(H.LFG(H.R0b),H.LFG(H.FYo),H.LFG(H.Lbi))},T.\u0275prov=H.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function ve(T){return"string"==typeof T?document.querySelector(T):T instanceof H.SBq?T.nativeElement:T??null}},1607:(Mt,Ae,P)=>{"use strict";P.d(Ae,{AL:()=>ue,C:()=>W,GU:()=>ft,O4:()=>an,Rg:()=>se,Wl:()=>et,cQ:()=>pt,tj:()=>X,u9:()=>ae,wo:()=>re});var v=P(4650);class H{constructor(ye,_e){this.open=ye,this.close=_e||ye}isManual(){return"manual"===this.open||"manual"===this.close}}const c={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function ue(Bt,ye=c){const _e=(Bt||"").trim();if(0===_e.length)return[];const De=_e.split(/\s+/).map(Ze=>Ze.split(":")).map(Ze=>{const pe=ye[Ze[0]]||Ze;return new H(pe[0],pe[1])}),Te=De.filter(Ze=>Ze.isManual());if(Te.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Te.length&&De.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return De}function re(Bt,ye){const _e=ue(ye.triggers),De=ye.target;if(1===_e.length&&_e[0].isManual())return Function.prototype;const Te=[],Ze=[],pe=()=>{Ze.forEach(Ne=>Te.push(Ne())),Ze.length=0};return _e.forEach(Ne=>{const gt=Ne.open===Ne.close,Yt=gt?ye.toggle:ye.show;if(!gt&&Ne.close&&ye.hide){const Wt=Ne.close,Tn=ye.hide;Ze.push(()=>Bt.listen(De,Wt,Tn))}Yt&&Te.push(Bt.listen(De,Ne.open,()=>Yt(pe)))}),()=>{Te.forEach(Ne=>Ne())}}function se(Bt,ye){return ye.outsideClick?Bt.listen("document","click",_e=>{ye.target&&ye.target.contains(_e.target)||ye.targets&&ye.targets.some(De=>De.contains(_e.target))||ye.hide&&ye.hide()}):Function.prototype}function W(Bt,ye){return ye.outsideEsc?Bt.listen("document","keyup.esc",_e=>{ye.target&&ye.target.contains(_e.target)||ye.targets&&ye.targets.some(De=>De.contains(_e.target))||ye.hide&&ye.hide()}):Function.prototype}const ae=typeof window<"u"&&window||{},X=ae.document;var Ye=(()=>{return(Bt=Ye||(Ye={})).isBs4="bs4",Bt.isBs5="bs5",Ye;var Bt})();let Le;function mt(){const Bt=ae.document.createElement("span");Bt.innerText="testing bs version",Bt.classList.add("d-none"),Bt.classList.add("pl-1"),ae.document.head.appendChild(Bt);const ye=ae.getComputedStyle(Bt).paddingLeft;return ye&&parseFloat(ye)?(ae.document.head.removeChild(Bt),"bs4"):(ae.document.head.removeChild(Bt),"bs5")}function et(){return{isBs4:(Le||(Le=mt()),"bs4"===Le),isBs5:(Le||(Le=mt()),"bs5"===Le)}}function ft(){return function(_e,De){const Te=` __${De}Value`;Object.defineProperty(_e,De,{get(){return this[Te]},set(Ze){const pe=this[Te];this[Te]=Ze,pe!==Ze&&this[De+"Change"]&&this[De+"Change"].emit(Ze)}})}}class pt{static reflow(ye){}static getStyles(ye){let _e=ye.ownerDocument.defaultView;return(!_e||!_e.opener)&&(_e=ae),_e.getComputedStyle(ye)}static stackOverflowConfig(){const ye=function _t(){const Bt=et(),ye=Object.keys(Bt).find(_e=>Bt[_e]);return Ye[ye]}();return{crossorigin:"anonymous",integrity:"bs5"===ye?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===ye?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}const vn={},An=typeof console>"u"||!("warn"in console);function an(Bt){!(0,v.X6Q)()||An||Bt in vn||(vn[Bt]=!0,console.warn(Bt))}},7185:(Mt,Ae,P)=>{"use strict";P.d(Ae,{Rh:()=>an,_W:()=>pt});var v=P(4650),H=P(7340),c=P(7579),ue=P(6895),de=P(1481);const re=["toast-component",""];function se(Te,Ze){if(1&Te){const pe=v.EpF();v.TgZ(0,"button",5),v.NdJ("click",function(){v.CHM(pe);const gt=v.oxw();return v.KtG(gt.remove())}),v.TgZ(1,"span",6),v._uU(2,"\xd7"),v.qZA()()}}function W(Te,Ze){if(1&Te&&(v.ynx(0),v._uU(1),v.BQk()),2&Te){const pe=v.oxw(2);v.xp6(1),v.hij("[",pe.duplicatesCount+1,"]")}}function ae(Te,Ze){if(1&Te&&(v.TgZ(0,"div"),v._uU(1),v.YNc(2,W,2,1,"ng-container",4),v.qZA()),2&Te){const pe=v.oxw();v.Tol(pe.options.titleClass),v.uIk("aria-label",pe.title),v.xp6(1),v.hij(" ",pe.title," "),v.xp6(1),v.Q6J("ngIf",pe.duplicatesCount)}}function X(Te,Ze){if(1&Te&&v._UZ(0,"div",7),2&Te){const pe=v.oxw();v.Tol(pe.options.messageClass),v.Q6J("innerHTML",pe.message,v.oJD)}}function ne(Te,Ze){if(1&Te&&(v.TgZ(0,"div",8),v._uU(1),v.qZA()),2&Te){const pe=v.oxw();v.Tol(pe.options.messageClass),v.uIk("aria-label",pe.message),v.xp6(1),v.hij(" ",pe.message," ")}}function ce(Te,Ze){if(1&Te&&(v.TgZ(0,"div"),v._UZ(1,"div",9),v.qZA()),2&Te){const pe=v.oxw();v.xp6(1),v.Udp("width",pe.width+"%")}}class Ye{constructor(Ze,pe){this.component=Ze,this.injector=pe}attach(Ze,pe){return this._attachedHost=Ze,Ze.attach(this,pe)}detach(){const Ze=this._attachedHost;if(Ze)return this._attachedHost=void 0,Ze.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ze){this._attachedHost=Ze}}class Le{attach(Ze,pe){return this._attachedPortal=Ze,this.attachComponentPortal(Ze,pe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Ze){this._disposeFn=Ze}}class mt{constructor(Ze){this._overlayRef=Ze,this.duplicatesCount=0,this._afterClosed=new c.x,this._activate=new c.x,this._manualClose=new c.x,this._resetTimeout=new c.x,this._countDuplicate=new c.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Ze,pe){Ze&&this._resetTimeout.next(),pe&&this._countDuplicate.next(++this.duplicatesCount)}}class Ue{constructor(Ze,pe,Ne,gt,Yt,Wt){this.toastId=Ze,this.config=pe,this.message=Ne,this.title=gt,this.toastType=Yt,this.toastRef=Wt,this._onTap=new c.x,this._onAction=new c.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Ze){this._onAction.next(Ze)}onAction(){return this._onAction.asObservable()}}const ge=new v.OlP("ToastConfig");class et extends Le{constructor(Ze,pe,Ne){super(),this._hostDomElement=Ze,this._componentFactoryResolver=pe,this._appRef=Ne}attachComponentPortal(Ze,pe){const Ne=this._componentFactoryResolver.resolveComponentFactory(Ze.component);let gt;return gt=Ne.create(Ze.injector),this._appRef.attachView(gt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(gt.hostView),gt.destroy()}),pe?this._hostDomElement.insertBefore(this._getComponentRootNode(gt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(gt)),gt}_getComponentRootNode(Ze){return Ze.hostView.rootNodes[0]}}class _t{constructor(Ze){this._portalHost=Ze}attach(Ze,pe=!0){return this._portalHost.attach(Ze,pe)}detach(){return this._portalHost.detach()}}let Et=(()=>{class Te{constructor(pe){this._document=pe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const pe=this._document.createElement("div");pe.classList.add("overlay-container"),pe.setAttribute("aria-live","polite"),this._document.body.appendChild(pe),this._containerElement=pe}}return Te.\u0275fac=function(pe){return new(pe||Te)(v.LFG(ue.K0))},Te.\u0275prov=v.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})(),ft=(()=>{class Te{constructor(pe,Ne,gt,Yt){this._overlayContainer=pe,this._componentFactoryResolver=Ne,this._appRef=gt,this._document=Yt,this._paneElements=new Map}create(pe,Ne){return this._createOverlayRef(this.getPaneElement(pe,Ne))}getPaneElement(pe="",Ne){return this._paneElements.get(Ne)||this._paneElements.set(Ne,{}),this._paneElements.get(Ne)[pe]||(this._paneElements.get(Ne)[pe]=this._createPaneElement(pe,Ne)),this._paneElements.get(Ne)[pe]}_createPaneElement(pe,Ne){const gt=this._document.createElement("div");return gt.id="toast-container",gt.classList.add(pe),gt.classList.add("toast-container"),Ne?Ne.getContainerElement().appendChild(gt):this._overlayContainer.getContainerElement().appendChild(gt),gt}_createPortalHost(pe){return new et(pe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(pe){return new _t(this._createPortalHost(pe))}}return Te.\u0275fac=function(pe){return new(pe||Te)(v.LFG(Et),v.LFG(v._Vd),v.LFG(v.z2F),v.LFG(ue.K0))},Te.\u0275prov=v.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})(),pt=(()=>{class Te{constructor(pe,Ne,gt,Yt,Wt){this.overlay=Ne,this._injector=gt,this.sanitizer=Yt,this.ngZone=Wt,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...pe.default,...pe.config},pe.config.iconClasses&&(this.toastrConfig.iconClasses={...pe.default.iconClasses,...pe.config.iconClasses})}show(pe,Ne,gt={},Yt=""){return this._preBuildNotification(Yt,pe,Ne,this.applyConfig(gt))}success(pe,Ne,gt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",pe,Ne,this.applyConfig(gt))}error(pe,Ne,gt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",pe,Ne,this.applyConfig(gt))}info(pe,Ne,gt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",pe,Ne,this.applyConfig(gt))}warning(pe,Ne,gt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",pe,Ne,this.applyConfig(gt))}clear(pe){for(const Ne of this.toasts)if(void 0!==pe){if(Ne.toastId===pe)return void Ne.toastRef.manualClose()}else Ne.toastRef.manualClose()}remove(pe){const Ne=this._findToast(pe);if(!Ne||(Ne.activeToast.toastRef.close(),this.toasts.splice(Ne.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const gt=this.toasts[this.currentlyActive].toastRef;gt.isInactive()||(this.currentlyActive=this.currentlyActive+1,gt.activate())}return!0}findDuplicate(pe="",Ne="",gt,Yt){const{includeTitleDuplicates:Wt}=this.toastrConfig;for(const Tn of this.toasts)if((!Wt||Wt&&Tn.title===pe)&&Tn.message===Ne)return Tn.toastRef.onDuplicate(gt,Yt),Tn;return null}applyConfig(pe={}){return{...this.toastrConfig,...pe}}_findToast(pe){for(let Ne=0;Ne<this.toasts.length;Ne++)if(this.toasts[Ne].toastId===pe)return{index:Ne,activeToast:this.toasts[Ne]};return null}_preBuildNotification(pe,Ne,gt,Yt){return Yt.onActivateTick?this.ngZone.run(()=>this._buildNotification(pe,Ne,gt,Yt)):this._buildNotification(pe,Ne,gt,Yt)}_buildNotification(pe,Ne,gt,Yt){if(!Yt.toastComponent)throw new Error("toastComponent required");const Wt=this.findDuplicate(gt,Ne,this.toastrConfig.resetTimeoutOnDuplicate&&Yt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&gt||Ne)&&this.toastrConfig.preventDuplicates&&null!==Wt)return Wt;this.previousToastMessage=Ne;let Tn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Tn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const gn=this.overlay.create(Yt.positionClass,this.overlayContainer);this.index=this.index+1;let dt=Ne;Ne&&Yt.enableHtml&&(dt=this.sanitizer.sanitize(v.q3G.HTML,Ne));const lt=new mt(gn),Oe=new Ue(this.index,Yt,dt,gt,pe,lt),jt=v.zs3.create({providers:[{provide:Ue,useValue:Oe}],parent:this._injector}),yn=new Ye(Yt.toastComponent,jt),tr=gn.attach(yn,Yt.newestOnTop);lt.componentInstance=tr.instance;const ve={toastId:this.index,title:gt||"",message:Ne||"",toastRef:lt,onShown:lt.afterActivate(),onHidden:lt.afterClosed(),onTap:Oe.onTap(),onAction:Oe.onAction(),portal:tr};return Tn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ve.toastRef.activate()})),this.toasts.push(ve),ve}}return Te.\u0275fac=function(pe){return new(pe||Te)(v.LFG(ge),v.LFG(ft),v.LFG(v.zs3),v.LFG(de.H7),v.LFG(v.R0b))},Te.\u0275prov=v.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();const An={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class Te{constructor(pe,Ne,gt){this.toastrService=pe,this.toastPackage=Ne,this.ngZone=gt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ne.message,this.title=Ne.title,this.options=Ne.config,this.originalTimeout=Ne.config.timeOut,this.toastClasses=`${Ne.toastType} ${Ne.config.toastClass}`,this.sub=Ne.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ne.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ne.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ne.toastRef.countDuplicate().subscribe(Yt=>{this.duplicatesCount=Yt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const pe=(new Date).getTime();this.width=(this.hideTime-pe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(pe,Ne){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(pe),Ne)):this.timeout=setTimeout(()=>pe(),Ne)}outsideInterval(pe,Ne){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(pe),Ne)):this.intervalId=setInterval(()=>pe(),Ne)}runInsideAngular(pe){this.ngZone?this.ngZone.run(()=>pe()):pe()}}return Te.\u0275fac=function(pe){return new(pe||Te)(v.Y36(pt),v.Y36(Ue),v.Y36(v.R0b))},Te.\u0275cmp=v.Xpm({type:Te,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(pe,Ne){1&pe&&v.NdJ("click",function(){return Ne.tapToast()})("mouseenter",function(){return Ne.stickAround()})("mouseleave",function(){return Ne.delayedHideToast()}),2&pe&&(v.d8E("@flyInOut",Ne.state),v.Tol(Ne.toastClasses),v.Udp("display",Ne.displayStyle))},attrs:re,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(pe,Ne){1&pe&&(v.YNc(0,se,3,0,"button",0),v.YNc(1,ae,3,5,"div",1),v.YNc(2,X,1,3,"div",2),v.YNc(3,ne,2,4,"div",3),v.YNc(4,ce,2,2,"div",4)),2&pe&&(v.Q6J("ngIf",Ne.options.closeButton),v.xp6(1),v.Q6J("ngIf",Ne.title),v.xp6(1),v.Q6J("ngIf",Ne.message&&Ne.options.enableHtml),v.xp6(1),v.Q6J("ngIf",Ne.message&&!Ne.options.enableHtml),v.xp6(1),v.Q6J("ngIf",Ne.options.progressBar))},dependencies:[ue.O5],encapsulation:2,data:{animation:[(0,H.X$)("flyInOut",[(0,H.SB)("inactive",(0,H.oB)({opacity:0})),(0,H.SB)("active",(0,H.oB)({opacity:1})),(0,H.SB)("removed",(0,H.oB)({opacity:0})),(0,H.eR)("inactive => active",(0,H.jt)("{{ easeTime }}ms {{ easing }}")),(0,H.eR)("active => removed",(0,H.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Te})()};let an=(()=>{class Te{static forRoot(pe={}){return{ngModule:Te,providers:[{provide:ge,useValue:{default:An,config:pe}}]}}}return Te.\u0275fac=function(pe){return new(pe||Te)},Te.\u0275mod=v.oAB({type:Te}),Te.\u0275inj=v.cJS({imports:[ue.ez]}),Te})()},7224:(Mt,Ae,P)=>{"use strict";P.d(Ae,{t:()=>ue});var v=P(4650);let ue=(()=>{class de{static#e=this.\u0275fac=function(W){return new(W||de)};static#t=this.\u0275mod=v.oAB({type:de});static#n=this.\u0275inj=v.cJS({})}return de})()},5861:(Mt,Ae,P)=>{"use strict";function v(c,ue,de,re,se,W,ae){try{var X=c[W](ae),ne=X.value}catch(ce){return void de(ce)}X.done?ue(ne):Promise.resolve(ne).then(re,se)}function H(c){return function(){var ue=this,de=arguments;return new Promise(function(re,se){var W=c.apply(ue,de);function ae(ne){v(W,re,se,ae,X,"next",ne)}function X(ne){v(W,re,se,ae,X,"throw",ne)}ae(void 0)})}}P.d(Ae,{Z:()=>H})},7582:(Mt,Ae,P)=>{"use strict";function ue(ye,_e){var De={};for(var Te in ye)Object.prototype.hasOwnProperty.call(ye,Te)&&_e.indexOf(Te)<0&&(De[Te]=ye[Te]);if(null!=ye&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(Te=Object.getOwnPropertySymbols(ye);Ze<Te.length;Ze++)_e.indexOf(Te[Ze])<0&&Object.prototype.propertyIsEnumerable.call(ye,Te[Ze])&&(De[Te[Ze]]=ye[Te[Ze]])}return De}function de(ye,_e,De,Te){var Ne,Ze=arguments.length,pe=Ze<3?_e:null===Te?Te=Object.getOwnPropertyDescriptor(_e,De):Te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(ye,_e,De,Te);else for(var gt=ye.length-1;gt>=0;gt--)(Ne=ye[gt])&&(pe=(Ze<3?Ne(pe):Ze>3?Ne(_e,De,pe):Ne(_e,De))||pe);return Ze>3&&pe&&Object.defineProperty(_e,De,pe),pe}function ne(ye,_e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ye,_e)}function ce(ye,_e,De,Te){return new(De||(De=Promise))(function(pe,Ne){function gt(Tn){try{Wt(Te.next(Tn))}catch(gn){Ne(gn)}}function Yt(Tn){try{Wt(Te.throw(Tn))}catch(gn){Ne(gn)}}function Wt(Tn){Tn.done?pe(Tn.value):function Ze(pe){return pe instanceof De?pe:new De(function(Ne){Ne(pe)})}(Tn.value).then(gt,Yt)}Wt((Te=Te.apply(ye,_e||[])).next())})}function Ye(ye){return this instanceof Ye?(this.v=ye,this):new Ye(ye)}function Le(ye,_e,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Te=De.apply(ye,_e||[]),pe=[];return Ze={},gt("next"),gt("throw"),gt("return",function Ne(lt){return function(Oe){return Promise.resolve(Oe).then(lt,gn)}}),Ze[Symbol.asyncIterator]=function(){return this},Ze;function gt(lt,Oe){Te[lt]&&(Ze[lt]=function(At){return new Promise(function(jt,yn){pe.push([lt,At,jt,yn])>1||Yt(lt,At)})},Oe&&(Ze[lt]=Oe(Ze[lt])))}function Yt(lt,Oe){try{!function Wt(lt){lt.value instanceof Ye?Promise.resolve(lt.value.v).then(Tn,gn):dt(pe[0][2],lt)}(Te[lt](Oe))}catch(At){dt(pe[0][3],At)}}function Tn(lt){Yt("next",lt)}function gn(lt){Yt("throw",lt)}function dt(lt,Oe){lt(Oe),pe.shift(),pe.length&&Yt(pe[0][0],pe[0][1])}}function Ue(ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,_e=ye[Symbol.asyncIterator];return _e?_e.call(ye):(ye=function Ie(ye){var _e="function"==typeof Symbol&&Symbol.iterator,De=_e&&ye[_e],Te=0;if(De)return De.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&Te>=ye.length&&(ye=void 0),{value:ye&&ye[Te++],done:!ye}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),De={},Te("next"),Te("throw"),Te("return"),De[Symbol.asyncIterator]=function(){return this},De);function Te(pe){De[pe]=ye[pe]&&function(Ne){return new Promise(function(gt,Yt){!function Ze(pe,Ne,gt,Yt){Promise.resolve(Yt).then(function(Wt){pe({value:Wt,done:gt})},Ne)}(gt,Yt,(Ne=ye[pe](Ne)).done,Ne.value)})}}}P.d(Ae,{FC:()=>Le,KL:()=>Ue,_T:()=>ue,gn:()=>de,mG:()=>ce,qq:()=>Ye,w6:()=>ne}),"function"==typeof SuppressedError&&SuppressedError}},Mt=>{Mt(Mt.s=3469)}]);